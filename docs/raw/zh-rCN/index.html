<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=zh-Hans xml:lang=zh-Hans><meta charset=utf-8><meta name=generator content="pandoc"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=author content="Muntashir Al-Islam"><title>App Manager</title><style>code{white-space:pre-wrap}span.smallcaps{font-variant:small-caps}div.columns{display:flex;gap:min(4vw,1.5em)}div.column{flex:auto;overflow-x:auto}div.hanging-indent{margin-left:1.5em;text-indent:-1.5em}ul.task-list[class]{list-style:none}ul.task-list li input[type=checkbox]{font-size:inherit;width:.8em;margin:0 .8em .2em -1.6em;vertical-align:middle}.display.math{display:block;text-align:center;margin:.5rem auto}html{-webkit-text-size-adjust:100%}pre>code.sourceCode{white-space:pre;position:relative}pre>code.sourceCode>span{display:inline-block;line-height:1.25}pre>code.sourceCode>span:empty{height:1.2em}.sourceCode{overflow:visible}code.sourceCode>span{color:inherit;text-decoration:inherit}div.sourceCode{margin:1em 0}pre.sourceCode{margin:0}@media screen{div.sourceCode{overflow:auto}}@media print{pre>code.sourceCode{white-space:pre-wrap}pre>code.sourceCode>span{text-indent:-5em;padding-left:5em}}pre.numberSource code{counter-reset:source-line 0}pre.numberSource code>span{position:relative;left:-4em;counter-increment:source-line}pre.numberSource code>span>a:first-child::before{content:counter(source-line);position:relative;left:-1em;text-align:right;vertical-align:baseline;border:none;display:inline-block;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;width:4em}pre.numberSource{margin-left:3em;padding-left:4px}div.sourceCode{}@media screen{pre>code.sourceCode>span>a:first-child::before{text-decoration:underline}}code span.al{font-weight:700}code span.an{font-style:italic}code span.cf{font-weight:700}code span.co{font-style:italic}code span.cv{font-style:italic}code span.do{font-style:italic}code span.dt{text-decoration:underline}code span.er{font-weight:700}code span.in{font-style:italic}code span.kw{font-weight:700}code span.pp{font-weight:700}code span.wa{font-style:italic}</style><link rel=stylesheet href=../css/custom.css><header id=title-block-header><h1 class=title>App Manager</h1><p class=author>Muntashir Al-Islam</header><nav id=TOC role=doc-toc><ul class=incremental><li><span><span class=toc-section-number>1</span> <a href=#ch:introduction id=toc:ch:introduction>简介</a></span><ul class=incremental><li><span><span class=toc-section-number>1.1</span> <a href=#sec:terminologies id=toc:sec:terminologies>术语</a></span><li><span><span class=toc-section-number>1.2</span> <a href=#sec:supported-versions id=toc:sec:supported-versions>受支持的版本</a></span><li><span><span class=toc-section-number>1.3</span> <a href=#sec:official-sources id=toc:sec:official-sources>官方来源</a></span><ul class=incremental><li><span><span class=toc-section-number>1.3.1</span> <a href=#subsec:binary-distribution-sources id=toc:subsec:binary-distribution-sources>二进制(可执行)分发来源</a></span><li><span><span class=toc-section-number>1.3.2</span> <a href=#subsec:links-to-source-code id=toc:subsec:links-to-source-code>源码链接</a></span><li><span><span class=toc-section-number>1.3.3</span> <a href=#subsec:translations id=toc:subsec:translations>翻译</a></span></ul><li><span><span class=toc-section-number>1.4</span> <a href=#sec:contributing id=toc:sec:contributing>贡献</a></span><ul class=incremental><li><span><span class=toc-section-number>1.4.1</span> <a href=#subsec:build-instructions id=toc:subsec:build-instructions>构建说明</a></span><li><span><span class=toc-section-number>1.4.2</span> <a href=#subsec:submitting-patches id=toc:subsec:submitting-patches>提交补丁</a></span></ul><li><span><span class=toc-section-number>1.5</span> <a href=#sec:donation-&-funding id=toc:sec:donation-&-funding>捐赠 & 资助</a></span><li><span><span class=toc-section-number>1.6</span> <a href=#sec:contact id=toc:sec:contact>联系我们</a></span></ul><li><span><span class=toc-section-number>2</span> <a href=#ch:pages id=toc:ch:pages>页面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.1</span> <a href=#sec:main-page id=toc:sec:main-page>主页</a></span><ul class=incremental><li><span><span class=toc-section-number>2.1.1</span> <a href=#subsec:batch-operations id=toc:subsec:batch-operations>批处理</a></span><li><span><span class=toc-section-number>2.1.2</span> <a href=#subsec:main-colour-codes id=toc:subsec:main-colour-codes>颜色代码含义</a></span><li><span><span class=toc-section-number>2.1.3</span> <a href=#subsec:main-page-application-types id=toc:subsec:main-page-application-types>应用类型</a></span><li><span><span class=toc-section-number>2.1.4</span> <a href=#subsec:main-page-version-info id=toc:subsec:main-page-version-info>版本信息</a></span><li><span><span class=toc-section-number>2.1.5</span> <a href=#subsec:main-page-options-menu id=toc:subsec:main-page-options-menu>选项菜单</a></span></ul><li><span><span class=toc-section-number>2.2</span> <a href=#sec:app-details-page id=toc:sec:app-details-page>应用程序详情页</a></span><ul class=incremental><li><span><span class=toc-section-number>2.2.1</span> <a href=#subsec:app-details-colour-codes id=toc:subsec:app-details-colour-codes>颜色代码含义</a></span><li><span><span class=toc-section-number>2.2.2</span> <a href=#subsec:app-info-tab id=toc:subsec:app-info-tab>应用信息</a></span><li><span><span class=toc-section-number>2.2.3</span> <a href=#subsec:component-tabs id=toc:subsec:component-tabs>组件选项卡</a></span><li><span><span class=toc-section-number>2.2.4</span> <a href=#subsec:permission-tabs id=toc:subsec:permission-tabs>权限选项卡</a></span><li><span><span class=toc-section-number>2.2.5</span> <a href=#subsec:signatures-tab id=toc:subsec:signatures-tab>签名选项卡</a></span><li><span><span class=toc-section-number>2.2.6</span> <a href=#subsec:uses-features-tab id=toc:subsec:uses-features-tab>使用特性选项卡</a></span><li><span><span class=toc-section-number>2.2.7</span> <a href=#subsec:configurations-tab id=toc:subsec:configurations-tab>配置选项卡</a></span><li><span><span class=toc-section-number>2.2.8</span> <a href=#subsec:shared-libs-tab id=toc:subsec:shared-libs-tab>共享库选项卡</a></span></ul><li><span><span class=toc-section-number>2.3</span> <a href=#sec:1-click-ops-page id=toc:sec:1-click-ops-page>一键操作页</a></span><ul class=incremental><li><span><span class=toc-section-number>2.3.1</span> <a href=#subsec:block-unblock-trackers id=toc:subsec:block-unblock-trackers>阻止/取消阻止跟踪器</a></span><li><span><span class=toc-section-number>2.3.2</span> <a href=#subsec:block-components-dots id=toc:subsec:block-components-dots>阻止组件…</a></span><li><span><span class=toc-section-number>2.3.3</span> <a href=#subsec:set-mode-for-app-ops-dots id=toc:subsec:set-mode-for-app-ops-dots>设置 App Ops 模式
…</a></span><li><span><span class=toc-section-number>2.3.4</span> <a href=#subsec:1-click-back-up id=toc:subsec:1-click-back-up>备份</a></span><li><span><span class=toc-section-number>2.3.5</span> <a href=#subsec:1-click-restore id=toc:subsec:1-click-restore>恢复</a></span><li><span><span class=toc-section-number>2.3.6</span> <a href=#subsec:trim-caches-in-all-apps id=toc:subsec:trim-caches-in-all-apps>清理所有应用的缓存</a></span></ul><li><span><span class=toc-section-number>2.4</span> <a href=#sec:profiles-page id=toc:sec:profiles-page>配置文件页面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.4.1</span> <a href=#subsec:profiles-options-menu id=toc:subsec:profiles-options-menu>选项菜单</a></span></ul><li><span><span class=toc-section-number>2.5</span> <a href=#sec:profile-page id=toc:sec:profile-page>配置页</a></span><ul class=incremental><li><span><span class=toc-section-number>2.5.1</span> <a href=#subsec:profile-options-menu id=toc:subsec:profile-options-menu>选项菜单</a></span><li><span><span class=toc-section-number>2.5.2</span> <a href=#subsec:profile-apps-tab id=toc:subsec:profile-apps-tab>应用程序选项卡</a></span><li><span><span class=toc-section-number>2.5.3</span> <a href=#subsec:profile-configurations-tab id=toc:subsec:profile-configurations-tab>配置选项卡</a></span></ul><li><span><span class=toc-section-number>2.6</span> <a href=#sec:settings-page id=toc:sec:settings-page>设置页面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.6.1</span> <a href=#subsec:language id=toc:subsec:language>界面语言</a></span><li><span><span class=toc-section-number>2.6.2</span> <a href=#subsec:appearance id=toc:subsec:appearance>外观</a></span><li><span><span class=toc-section-number>2.6.3</span> <a href=#subsec:privacy id=toc:subsec:privacy>隐私</a></span><li><span><span class=toc-section-number>2.6.4</span> <a href=#subsec:mode-of-operation id=toc:subsec:mode-of-operation>操作模式</a></span><li><span><span class=toc-section-number>2.6.5</span> <a href=#subsec:apk-signing id=toc:subsec:apk-signing>APK
签名</a></span><li><span><span class=toc-section-number>2.6.6</span> <a href=#subsec:installer id=toc:subsec:installer>安装器</a></span><li><span><span class=toc-section-number>2.6.7</span> <a href=#subsec:backup/restore id=toc:subsec:backup/restore>备份/恢复</a></span><li><span><span class=toc-section-number>2.6.8</span> <a href=#subsec:rules id=toc:subsec:rules>规则</a></span><li><span><span class=toc-section-number>2.6.9</span> <a href=#subsec:advanced id=toc:subsec:advanced>高级</a></span><li><span><span class=toc-section-number>2.6.10</span> <a href=#subsec:device-info id=toc:subsec:device-info>关于设备</a></span></ul><li><span><span class=toc-section-number>2.7</span> <a href=#sec:scanner-page id=toc:sec:scanner-page>扫描器页面</a></span><li><span><span class=toc-section-number>2.8</span> <a href=#sec:interceptor-page id=toc:sec:interceptor-page>拦截器页面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.8.1</span> <a href=#subsec:intent-filters id=toc:subsec:intent-filters>意图(Intent)过滤器</a></span><li><span><span class=toc-section-number>2.8.2</span> <a href=#subsec:matching-activities id=toc:subsec:matching-activities>匹配的活动(Activity)</a></span><li><span><span class=toc-section-number>2.8.3</span> <a href=#subsec:interceptor-reset-to-default id=toc:subsec:interceptor-reset-to-default>重置为默认</a></span><li><span><span class=toc-section-number>2.8.4</span> <a href=#subsec:interceptor-send-edited-intent id=toc:subsec:interceptor-send-edited-intent>发送编辑过的意图(Intent)</a></span></ul><li><span><span class=toc-section-number>2.9</span> <a href=#sec:shared-preferences-editor-page id=toc:sec:shared-preferences-editor-page>共享首选项(Shared
Preferences)编辑页</a></span></ul><li><span><span class=toc-section-number>3</span> <a href=#ch:guides id=toc:ch:guides>指南</a></span><ul class=incremental><li><span><span class=toc-section-number>3.1</span> <a href=#sec:adb-over-tcp id=toc:sec:adb-over-tcp>经由 TCP 的
ADB</a></span><ul class=incremental><li><span><span class=toc-section-number>3.1.1</span> <a href=#subsec:enable-developer-options id=toc:subsec:enable-developer-options>启用开发者选项</a></span><li><span><span class=toc-section-number>3.1.2</span> <a href=#subsec:enable-usb-debugging id=toc:subsec:enable-usb-debugging>启用USB调试</a></span><li><span><span class=toc-section-number>3.1.3</span> <a href=#subsec:setup-adb-on-pc-or-mac id=toc:subsec:setup-adb-on-pc-or-mac>在PC或Mac上配置ADB</a></span><li><span><span class=toc-section-number>3.1.4</span> <a href=#subsec:configure-adb-over-tcp id=toc:subsec:configure-adb-over-tcp>配置经由TCP的ADB</a></span></ul><li><span><span class=toc-section-number>3.2</span> <a href=#sec:wireless-debugging id=toc:sec:wireless-debugging>无线调试</a></span><ul class=incremental><li><span><span class=toc-section-number>3.2.1</span> <a href=#subsec:enable-developer-options-and-usb-debugging id=toc:subsec:enable-developer-options-and-usb-debugging>启用开发者选项和
USB 调试</a></span><li><span><span class=toc-section-number>3.2.2</span> <a href=#subsec:enable-wireless-debugging id=toc:subsec:enable-wireless-debugging>启用无线调试</a></span><li><span><span class=toc-section-number>3.2.3</span> <a href=#subsec:pair-adb-with-app-manager id=toc:subsec:pair-adb-with-app-manager>用 App Manager 匹配
ADB</a></span><li><span><span class=toc-section-number>3.2.4</span> <a href=#subsec:connect-app-manager-to-adb id=toc:subsec:connect-app-manager-to-adb>连接 App Manager 到
ADB</a></span></ul><li><span><span class=toc-section-number>3.3</span> <a href=#sec:backup-restore id=toc:sec:backup-restore>备份/恢复</a></span><ul class=incremental><li><span><span class=toc-section-number>3.3.1</span> <a href=#subsec:backup-location id=toc:subsec:backup-location>位置</a></span><li><span><span class=toc-section-number>3.3.2</span> <a href=#subsec:backup-restore-backup-options id=toc:subsec:backup-restore-backup-options>备份选项</a></span><li><span><span class=toc-section-number>3.3.3</span> <a href=#subsec:backup-restore-backup id=toc:subsec:backup-restore-backup>备份</a></span><li><span><span class=toc-section-number>3.3.4</span> <a href=#subsec:backup-restore-restore id=toc:subsec:backup-restore-restore>恢复</a></span><li><span><span class=toc-section-number>3.3.5</span> <a href=#subsec:backup-restore-delete-backup id=toc:subsec:backup-restore-delete-backup>删除备份</a></span></ul><li><span><span class=toc-section-number>3.4</span> <a href=#sec:automating-tasks id=toc:sec:automating-tasks>自动任务</a></span><ul class=incremental><li><span><span class=toc-section-number>3.4.1</span> <a href=#subsec:generating-authorization-key id=toc:subsec:generating-authorization-key>生成授权密钥</a></span><li><span><span class=toc-section-number>3.4.2</span> <a href=#subsec:at:general-configuration id=toc:subsec:at:general-configuration>配置任务</a></span><li><span><span class=toc-section-number>3.4.3</span> <a href=#subsec:at:features id=toc:subsec:at:features>功能特性</a></span><li><span><span class=toc-section-number>3.4.4</span> <a href=#subsec:triggering-a-profile id=toc:subsec:triggering-a-profile>触发配置文件</a></span></ul><li><span><span class=toc-section-number>3.5</span> <a href=#sec:net-policy id=toc:sec:net-policy>连网策略</a></span></ul><li><span><span class=toc-section-number>4</span> <a href=#ch:faq id=toc:ch:faq>常见问题</a></span><ul class=incremental><li><span><span class=toc-section-number>4.1</span> <a href=#sec:faq:app-components id=toc:sec:faq:app-components>应用组件</a></span><ul class=incremental><li><span><span class=toc-section-number>4.1.1</span> <a href=#subsec:faq:what-are-app-components id=toc:subsec:faq:what-are-app-components>什么是应用组件？</a></span><li><span><span class=toc-section-number>4.1.2</span> <a href=#subsec:faq:how-components-blocked id=toc:subsec:faq:how-components-blocked>追踪器和其他组件在App
Manager中是如何被禁用的？其局限性是什么？</a></span><li><span><span class=toc-section-number>4.1.3</span> <a href=#subsec:faq:components-blocked-by-others id=toc:subsec:faq:components-blocked-by-others>被其他工具禁用的应用程序组件是否保留在App
Manager中？</a></span><li><span><span class=toc-section-number>4.1.4</span> <a href=#subsec:faq:components-reblocked-in-am id=toc:subsec:faq:components-reblocked-in-am>现在被 App Manager
拦截但先前被其他工具禁用的组件会发生什么？</a></span><li><span><span class=toc-section-number>4.1.5</span> <a href=#subsec:faq:what-is-instant-component-blocking id=toc:subsec:faq:what-is-instant-component-blocking>什么是即时组件禁用？</a></span><li><span><span class=toc-section-number>4.1.6</span> <a href=#subsec:tracker-classes-versus-tracker-components id=toc:subsec:tracker-classes-versus-tracker-components>跟踪器类与跟踪器组件</a></span></ul><li><span><span class=toc-section-number>4.2</span> <a href=#sec:faq:adb-over-tcp id=toc:sec:faq:adb-over-tcp>ADB over TCP
(经由TCP的ADB)</a></span><ul class=incremental><li><span><span class=toc-section-number>4.2.1</span> <a href=#subsec:faq:enable-adb-on-every-restart id=toc:subsec:faq:enable-adb-on-every-restart>我必须在每次重启后启用ADB
over TCP吗？</a></span><li><span><span class=toc-section-number>4.2.2</span> <a href=#subsec:faq:usb-debugging id=toc:subsec:faq:usb-debugging>无法启用 USB
调试，怎么办？</a></span><li><span><span class=toc-section-number>4.2.3</span> <a href=#subsec:faq:block-components-using-adb id=toc:subsec:faq:block-components-using-adb>我可以使用 ADB over TCP
来禁用跟踪器或任何其他应用程序组件吗？</a></span><li><span><span class=toc-section-number>4.2.4</span> <a href=#subsec:faq:adb-features id=toc:subsec:faq:adb-features>哪些功能可以在ADB模式下使用？</a></span></ul><li><span><span class=toc-section-number>4.3</span> <a href=#sec:faq:miscellanea id=toc:sec:faq:miscellanea>杂项</a></span><ul class=incremental><li><span><span class=toc-section-number>4.3.1</span> <a href=#subsec:faq:no-root-no-harms id=toc:subsec:faq:no-root-no-harms>我不使用root/ADB，是否完全安全？</a></span><li><span><span class=toc-section-number>4.3.2</span> <a href=#subsec:faq:how-trackers-libs-updated id=toc:subsec:faq:how-trackers-libs-updated>跟踪器和库是如何更新的？</a></span><li><span><span class=toc-section-number>4.3.3</span> <a href=#subsec:faq:apks-deleted-after-installed id=toc:subsec:faq:apks-deleted-after-installed>APK
安装后是否被删除？</a></span><li><span><span class=toc-section-number>4.3.4</span> <a href=#subsec:faq:shizuku-support id=toc:subsec:faq:shizuku-support>对于 Shizuku
有何计划？</a></span><li><span><span class=toc-section-number>4.3.5</span> <a href=#subsec:faq:what-are-bloatware id=toc:subsec:faq:what-are-bloatware>什么是预装(bloatware)软件以及如何删除？</a></span></ul></ul><li><span><span class=toc-section-number>5</span> <a href=#ch:specifications id=toc:ch:specifications>语法</a></span><ul class=incremental><li><span><span class=toc-section-number>5.1</span> <a href=#sec:rules-specification id=toc:sec:rules-specification>规则语法</a></span><ul class=incremental><li><span><span class=toc-section-number>5.1.1</span> <a href=#背景介绍 id=toc:背景介绍>背景介绍</a></span><li><span><span class=toc-section-number>5.1.2</span> <a href=#规则文件格式 id=toc:规则文件格式>规则文件格式</a></span></ul></ul><li><span><span class=toc-section-number>6</span> <a href=#ch:changelogs id=toc:ch:changelogs>更新日志</a></span><ul class=incremental><li><span><span class=toc-section-number>6.1</span> <a href=#sec:v4.0.3-(443) id=toc:sec:v4.0.3-(443)>v4.0.3
(443)</a></span><li><span><span class=toc-section-number>6.2</span> <a href=#sec:v4.0.2-(442) id=toc:sec:v4.0.2-(442)>v4.0.2
(442)</a></span><li><span><span class=toc-section-number>6.3</span> <a href=#sec:v4.0.1-(441) id=toc:sec:v4.0.1-(441)>v4.0.1
(441)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.3.1</span> <a href=#overlay-management id=toc:overlay-management>Overlay
management</a></span><li><span><span class=toc-section-number>6.3.2</span> <a href=#unfreeze-option-in-activity-shortcuts id=toc:unfreeze-option-in-activity-shortcuts>Unfreeze option in
activity shortcuts</a></span><li><span><span class=toc-section-number>6.3.3</span> <a href=#market-like-url-support id=toc:market-like-url-support><code>market</code>-like URL
support</a></span><li><span><span class=toc-section-number>6.3.4</span> <a href=#updated-color-codes id=toc:updated-color-codes>Updated color
codes</a></span><li><span><span class=toc-section-number>6.3.5</span> <a href=#others id=toc:others>Others</a></span></ul><li><span><span class=toc-section-number>6.4</span> <a href=#sec:v4.0.0-(440) id=toc:sec:v4.0.0-(440)>v4.0.0
(440)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.4.1</span> <a href=#new-logo id=toc:new-logo>New logo!</a></span><li><span><span class=toc-section-number>6.4.2</span> <a href=#android-14-and-15-support id=toc:android-14-and-15-support>Android 14 and 15
support</a></span><li><span><span class=toc-section-number>6.4.3</span> <a href=#revamped-debloater id=toc:revamped-debloater>Revamped
debloater</a></span><li><span><span class=toc-section-number>6.4.4</span> <a href=#introducing-file-manager id=toc:introducing-file-manager>Introducing file
manager</a></span><li><span><span class=toc-section-number>6.4.5</span> <a href=#integrated-code-editor id=toc:integrated-code-editor>Integrated code editor</a></span><li><span><span class=toc-section-number>6.4.6</span> <a href=#history-of-operations id=toc:history-of-operations>History of
operations</a></span><li><span><span class=toc-section-number>6.4.7</span> <a href=#per-app-freezing-and-more id=toc:per-app-freezing-and-more>Per-app freezing, and
more</a></span><li><span><span class=toc-section-number>6.4.8</span> <a href=#log-viewer-enhancements id=toc:log-viewer-enhancements>Log
viewer enhancements</a></span><li><span><span class=toc-section-number>6.4.9</span> <a href=#launching-non-exported-activities id=toc:launching-non-exported-activities>Launching non-exported
activities</a></span><li><span><span class=toc-section-number>6.4.10</span> <a href=#new-tags-in-app-info-tab id=toc:new-tags-in-app-info-tab>New
tags in App Info tab</a></span><li><span><span class=toc-section-number>6.4.11</span> <a href=#per-session-installer-options id=toc:per-session-installer-options>Per-session installer
options</a></span><li><span><span class=toc-section-number>6.4.12</span> <a href=#advanced-mode-of-operations-adb-enhancements id=toc:advanced-mode-of-operations-adb-enhancements>Advanced mode of
operations, ADB enhancements, …</a></span><li><span><span class=toc-section-number>6.4.13</span> <a href=#data-usage-widget-and-more id=toc:data-usage-widget-and-more>Data usage widget, and
more</a></span><li><span><span class=toc-section-number>6.4.14</span> <a href=#others-1 id=toc:others-1>Others</a></span></ul><li><span><span class=toc-section-number>6.5</span> <a href=#sec:v3.1.0-(423) id=toc:sec:v3.1.0-(423)>v3.1.0
(423)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.5.1</span> <a href=#android-13-support id=toc:android-13-support>Android 13
support</a></span><li><span><span class=toc-section-number>6.5.2</span> <a href=#introducing-freezeunfreeze id=toc:introducing-freezeunfreeze>Introducing
freeze/unfreeze</a></span><li><span><span class=toc-section-number>6.5.3</span> <a href=#export-app-list id=toc:export-app-list>Export app
list</a></span><li><span><span class=toc-section-number>6.5.4</span> <a href=#elliptic-curve-crypography-ecc id=toc:elliptic-curve-crypography-ecc>Elliptic Curve Crypography
(ECC)</a></span><li><span><span class=toc-section-number>6.5.5</span> <a href=#new-languages id=toc:new-languages>New
languages</a></span><li><span><span class=toc-section-number>6.5.6</span> <a href=#more-list-options id=toc:more-list-options>More list
options</a></span><li><span><span class=toc-section-number>6.5.7</span> <a href=#improved-handling-of-mode-of-operation id=toc:improved-handling-of-mode-of-operation>Improved handling of
mode of operation</a></span><li><span><span class=toc-section-number>6.5.8</span> <a href=#handling-multiple-users id=toc:handling-multiple-users>Handling multiple users</a></span><li><span><span class=toc-section-number>6.5.9</span> <a href=#explorer-enhancements id=toc:explorer-enhancements>Explorer
enhancements</a></span><li><span><span class=toc-section-number>6.5.10</span> <a href=#new-tag-wx id=toc:new-tag-wx>New tag: WX</a></span><li><span><span class=toc-section-number>6.5.11</span> <a href=#app-ops-management id=toc:app-ops-management>App ops
management</a></span><li><span><span class=toc-section-number>6.5.12</span> <a href=#batch-uninstallation id=toc:batch-uninstallation>Batch
uninstallation</a></span><li><span><span class=toc-section-number>6.5.13</span> <a href=#running-apps id=toc:running-apps>Running apps</a></span><li><span><span class=toc-section-number>6.5.14</span> <a href=#interceptor id=toc:interceptor>Interceptor</a></span><li><span><span class=toc-section-number>6.5.15</span> <a href=#device-specific-changes id=toc:device-specific-changes>Device-specific changes</a></span><li><span><span class=toc-section-number>6.5.16</span> <a href=#others-2 id=toc:others-2>Others</a></span></ul><li><span><span class=toc-section-number>6.6</span> <a href=#sec:v3.0.0-(410) id=toc:sec:v3.0.0-(410)>v3.0.0
(410)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.6.1</span> <a href=#material-3-and-more id=toc:material-3-and-more>Material 3 and
More</a></span><li><span><span class=toc-section-number>6.6.2</span> <a href=#wireless-debugging id=toc:wireless-debugging>Wireless
Debugging</a></span><li><span><span class=toc-section-number>6.6.3</span> <a href=#languages id=toc:languages>Languages</a></span><li><span><span class=toc-section-number>6.6.4</span> <a href=#introducing-app-explorer id=toc:introducing-app-explorer>Introducing App
Explorer</a></span><li><span><span class=toc-section-number>6.6.5</span> <a href=#import-backups-from-other-applications id=toc:import-backups-from-other-applications>Import Backups from
Other Applications</a></span><li><span><span class=toc-section-number>6.6.6</span> <a href=#virustotal id=toc:virustotal>VirusTotal</a></span><li><span><span class=toc-section-number>6.6.7</span> <a href=#trigger-profiles-from-the-automation-software id=toc:trigger-profiles-from-the-automation-software>Trigger Profiles
from the Automation Software</a></span><li><span><span class=toc-section-number>6.6.8</span> <a href=#improved-application-installer id=toc:improved-application-installer>Improved Application
Installer</a></span><li><span><span class=toc-section-number>6.6.9</span> <a href=#component-blocking id=toc:component-blocking>Component
Blocking</a></span><li><span><span class=toc-section-number>6.6.10</span> <a href=#advanced-searching id=toc:advanced-searching>Advanced
Searching</a></span><li><span><span class=toc-section-number>6.6.11</span> <a href=#shared-libraries id=toc:shared-libraries>Shared
Libraries</a></span><li><span><span class=toc-section-number>6.6.12</span> <a href=#make-the-best-use-of-interceptor id=toc:make-the-best-use-of-interceptor>Make the Best Use of
Interceptor</a></span><li><span><span class=toc-section-number>6.6.13</span> <a href=#widget-screen-time id=toc:widget-screen-time>Widget: Screen
Time</a></span><li><span><span class=toc-section-number>6.6.14</span> <a href=#widget-clear-cache id=toc:widget-clear-cache>Widget: Clear
Cache</a></span></ul><li><span><span class=toc-section-number>6.7</span> <a href=#sec:v2.6.0-(385) id=toc:sec:v2.6.0-(385)>v2.6.0
(385)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.7.1</span> <a href=#introducing-backups id=toc:introducing-backups>Introducing
Backups</a></span><li><span><span class=toc-section-number>6.7.2</span> <a href=#introducing-log-viewer id=toc:introducing-log-viewer>Introducing Log Viewer</a></span><li><span><span class=toc-section-number>6.7.3</span> <a href=#lock-app-manager id=toc:lock-app-manager>Lock App
Manager</a></span><li><span><span class=toc-section-number>6.7.4</span> <a href=#extended-modes-for-app-ops id=toc:extended-modes-for-app-ops>Extended Modes for App
Ops</a></span><li><span><span class=toc-section-number>6.7.5</span> <a href=#new-batch-ops-add-to-profile id=toc:new-batch-ops-add-to-profile>New Batch Ops: Add to
Profile</a></span><li><span><span class=toc-section-number>6.7.6</span> <a href=#app-info-improved id=toc:app-info-improved>App Info:
Improved</a></span><li><span><span class=toc-section-number>6.7.7</span> <a href=#advanced-sort-and-filtering-options-in-the-main-page id=toc:advanced-sort-and-filtering-options-in-the-main-page>Advanced
Sort and Filtering Options in the Main Page</a></span><li><span><span class=toc-section-number>6.7.8</span> <a href=#about-this-device id=toc:about-this-device>About This
Device</a></span><li><span><span class=toc-section-number>6.7.9</span> <a href=#enabledisable-features id=toc:enabledisable-features>Enable/disable Features</a></span><li><span><span class=toc-section-number>6.7.10</span> <a href=#new-languages-1 id=toc:new-languages-1>New
Languages</a></span><li><span><span class=toc-section-number>6.7.11</span> <a href=#signing-the-apk-files id=toc:signing-the-apk-files>Signing the
APK Files</a></span><li><span><span class=toc-section-number>6.7.12</span> <a href=#new-extension-unapkm id=toc:new-extension-unapkm>New
Extension: UnAPKM</a></span></ul><li><span><span class=toc-section-number>6.8</span> <a href=#sec:v2.5.20-(375) id=toc:sec:v2.5.20-(375)>v2.5.20
(375)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.8.1</span> <a href=#subsec:introducing-profiles id=toc:subsec:introducing-profiles>Introducing
Profiles</a></span><li><span><span class=toc-section-number>6.8.2</span> <a href=#subsec:the-interceptor id=toc:subsec:the-interceptor>The
Interceptor</a></span><li><span><span class=toc-section-number>6.8.3</span> <a href=#subsec:unapkm:-dedrm-the-apkm-files id=toc:subsec:unapkm:-dedrm-the-apkm-files>UnAPKM: DeDRM the APKM
files</a></span><li><span><span class=toc-section-number>6.8.4</span> <a href=#subsec:multiple-user id=toc:subsec:multiple-user>Multiple
user</a></span><li><span><span class=toc-section-number>6.8.5</span> <a href=#vive-la-france id=toc:vive-la-france>Vive la
France!</a></span><li><span><span class=toc-section-number>6.8.6</span> <a href=#report-crashes id=toc:report-crashes>Report
crashes</a></span><li><span><span class=toc-section-number>6.8.7</span> <a href=#android-11 id=toc:android-11>Android 11</a></span><li><span><span class=toc-section-number>6.8.8</span> <a href=#app-installer-improvements id=toc:app-installer-improvements>App Installer
Improvements</a></span></ul><li><span><span class=toc-section-number>6.9</span> <a href=#v2.5.17-368 id=toc:v2.5.17-368>v2.5.17 (368)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.9.1</span> <a href=#app-installer id=toc:app-installer>App
Installer</a></span><li><span><span class=toc-section-number>6.9.2</span> <a href=#scanner-replacement-for-exodus-page id=toc:scanner-replacement-for-exodus-page>Scanner: Replacement for
Exodus Page</a></span><li><span><span class=toc-section-number>6.9.3</span> <a href=#introducing-system-config id=toc:introducing-system-config>Introducing System
Config</a></span><li><span><span class=toc-section-number>6.9.4</span> <a href=#more-languages id=toc:more-languages>More
Languages</a></span><li><span><span class=toc-section-number>6.9.5</span> <a href=#app-info-tab id=toc:app-info-tab>App Info Tab</a></span><li><span><span class=toc-section-number>6.9.6</span> <a href=#navigation-improvements id=toc:navigation-improvements>Navigation Improvements</a></span><li><span><span class=toc-section-number>6.9.7</span> <a href=#running-apps-page id=toc:running-apps-page>Running Apps
Page</a></span><li><span><span class=toc-section-number>6.9.8</span> <a href=#built-in-toybox id=toc:built-in-toybox>Built-in
Toybox</a></span><li><span><span class=toc-section-number>6.9.9</span> <a href=#component-blocker-improvements id=toc:component-blocker-improvements>Component Blocker
Improvements</a></span><li><span><span class=toc-section-number>6.9.10</span> <a href=#improvements-in-the-app-details-page id=toc:improvements-in-the-app-details-page>Improvements in the App
Details Page</a></span><li><span><span class=toc-section-number>6.9.11</span> <a href=#app-manifest id=toc:app-manifest>App Manifest</a></span></ul><li><span><span class=toc-section-number>6.10</span> <a href=#v2.5.13-348 id=toc:v2.5.13-348>v2.5.13 (348)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.10.1</span> <a href=#bundled-app-split-apk id=toc:bundled-app-split-apk>Bundled App
(Split APK)</a></span><li><span><span class=toc-section-number>6.10.2</span> <a href=#direct-install-support id=toc:direct-install-support>Direct
Install Support</a></span><li><span><span class=toc-section-number>6.10.3</span> <a href=#remove-all-blocking-rules id=toc:remove-all-blocking-rules>Remove All Blocking
Rules</a></span><li><span><span class=toc-section-number>6.10.4</span> <a href=#app-ops id=toc:app-ops>App Ops</a></span><li><span><span class=toc-section-number>6.10.5</span> <a href=#enhanced-adb-support id=toc:enhanced-adb-support>Enhanced ADB
Support</a></span><li><span><span class=toc-section-number>6.10.6</span> <a href=#filtering-in-main-page id=toc:filtering-in-main-page>Filtering
in Main Page</a></span><li><span><span class=toc-section-number>6.10.7</span> <a href=#apk-backupsharing id=toc:apk-backupsharing>Apk
Backup/Sharing</a></span><li><span><span class=toc-section-number>6.10.8</span> <a href=#batch-ops id=toc:batch-ops>Batch Ops</a></span><li><span><span class=toc-section-number>6.10.9</span> <a href=#translations id=toc:translations>Translations</a></span><li><span><span class=toc-section-number>6.10.10</span> <a href=#app-data-backup id=toc:app-data-backup>App Data
Backup</a></span></ul></ul><li><span><span class=toc-section-number>7</span> <a href=#ch:app-ops id=toc:ch:app-ops>App Ops</a></span><ul class=incremental><li><span><span class=toc-section-number>7.1</span> <a href=#sec:app-ops-background id=toc:sec:app-ops-background>Background</a></span><li><span><span class=toc-section-number>7.2</span> <a href=#sec:introduction-to-app-ops id=toc:sec:introduction-to-app-ops>Introduction to App
Ops</a></span><li><span><span class=toc-section-number>7.3</span> <a href=#sec:appopsmanager id=toc:sec:appopsmanager>AppOpsManager</a></span><ul class=incremental><li><span><span class=toc-section-number>7.3.1</span> <a href=#subsec:op-constants id=toc:subsec:op-constants><code>OP_*</code> Constants</a></span><li><span><span class=toc-section-number>7.3.2</span> <a href=#subsec:mode-constants id=toc:subsec:mode-constants><code>MODE_*</code>
Constants</a></span><li><span><span class=toc-section-number>7.3.3</span> <a href=#subsec:package-ops id=toc:subsec:package-ops>PackageOps</a></span><li><span><span class=toc-section-number>7.3.4</span> <a href=#subsec:opentry id=toc:subsec:opentry>OpEntry</a></span><li><span><span class=toc-section-number>7.3.5</span> <a href=#subsec:usage id=toc:subsec:usage>Usage</a></span></ul><li><span><span class=toc-section-number>7.4</span> <a href=#sec:appopsservice id=toc:sec:appopsservice>AppOpsService</a></span><li><span><span class=toc-section-number>7.5</span> <a href=#sec:appops-xml id=toc:sec:appops-xml>appops.xml</a></span><li><span><span class=toc-section-number>7.6</span> <a href=#sec:appops-cli id=toc:sec:appops-cli>Command Line
Interface</a></span></ul></ul></nav><div class=titlingpage><div class=center><p><img src=../images/icon.png style=width:1in alt=image><p><strong><span class=smallcaps>App Manager</span></strong><p><strong>用户手册</strong><p><em>v4.0.4</em><p>14 六月 2025<p>Copyright © 2020–2025 Muntashir Al-Islam<blockquote><p>睿智而缓慢。跑得快的人会跌倒。
<span>—劳伦斯修士，<em>罗密欧与朱丽叶</em></span></blockquote></div></div><section id=ch:introduction class=level1 data-number=1><h1 data-number=1><span class=header-section-number>1</span> <a href=#toc:ch:introduction>简介</a><a href=#ch:introduction class=anchor aria-hidden=true></a></h1><p>App Manager 是一个高级的 Android 包管理器。
它提供了许多功能，因此需要用户手册来帮助用户。本文档作为 App Manager
的用户手册，旨在描述 App Manager 提供的每一个功能。 本文档也可以被认为是
App Manager 的“官方”指南， 并代表了 App Manager
的预期行为。翻译对文档理解可能有误（原文是用英语写的）。
因此，有能力的用户应该阅读英文文档，以充分发挥文档 的作用。
可能还有其他非官方或第三方资源，如博客文章、视频、论坛、聊天、群组等。
虽然这些资源可能对很多人有用，但它们的内容可能跟不上最新的 App Manager
版本。 如果在 App Manager 中发现任何偏离本文档的情况，应在 <a href=https://github.com/MuntashirAkon/AppManager/issues>App Manager
问题追踪</a>进行报告。<section id=sec:terminologies class=level2 data-number=1.1><h2 data-number=1.1><span class=header-section-number>1.1</span> <a href=#toc:sec:terminologies>术语</a><a href=#sec:terminologies class=anchor aria-hidden=true></a></h2><ul class=incremental><li><p><strong>AM</strong> — App Manager 应用<li><p><strong>Block/Unblock</strong> — 用于拦截组件或解除组件拦截。
如何拦截取决于 用户选项。<li><p><strong>IFW</strong> — Intent Firewall (意图防火墙)<li><p><strong>Ops</strong> — operations (操作), e.g. app ops, batch
ops, 1-click ops<li><p><strong>SAF</strong> — 存储访问框架（SAF）的缩写形式，Android
系统所用的抽象概念，允许应用无需担忧底层文件系统便能
使用或提供文件。<li><p><strong>SSAID</strong> — <code>Settings.Secure.ANDROID_ID</code>
- 分配给每个应用的设备标识符 (Android Oreo以上版本)，
由应用签名与包<code>android</code>的SSAID组合生成。
因此，除非用户选择格式化设备，否则它保证对每个应用来说都是独一无二的。
它被普遍用于跟踪用户。<li><p><strong>Tracker</strong> — 在文档和 App Manager
中均表示跟踪器组件， <a href=#sec:scanner-page>scanner page</a>
是个例外。
跟踪器包括用于报告崩溃、数据分析、用户画像、身份识别、广告和定位等目的的库文件。因此，这些库的功能并不相同。推广跟踪的
开源和闭源库之间不存在区别或偏向。</ul></section><section id=sec:supported-versions class=level2 data-number=1.2><h2 data-number=1.2><span class=header-section-number>1.2</span> <a href=#toc:sec:supported-versions>受支持的版本</a><a href=#sec:supported-versions class=anchor aria-hidden=true></a></h2><p>当前，支持的版本是 v4.0.1。 先前版本的 AppManager
可能包含安全漏洞，不应继续使用。</section><section id=sec:official-sources class=level2 data-number=1.3><h2 data-number=1.3><span class=header-section-number>1.3</span> <a href=#toc:sec:official-sources>官方来源</a><a href=#sec:official-sources class=anchor aria-hidden=true></a></h2><section id=subsec:binary-distribution-sources class=level3 data-number=1.3.1><h3 data-number=1.3.1><span class=header-section-number>1.3.1</span>
<a href=#toc:subsec:binary-distribution-sources>二进制(可执行)分发来源</a><a href=#subsec:binary-distribution-sources class=anchor aria-hidden=true></a></h3><p>App Manager 通过以下渠道发布。 非官方来源可能分发 App Manager
的修改版本，使用这样版本的后果由你自己单独承担。<ol class=incremental><li><p>F-Droid <a href=#fn1 class=footnote-ref id=fnref1 role=doc-noteref><sup>1</sup></a><br><em>Link:</em> <a href=https://f-droid.org/packages/io.github.muntashirakon.AppManager class=uri>https://f-droid.org/packages/io.github.muntashirakon.AppManager</a><li><p>GitHub repository.<br><em>Normal releases:</em> <a href=https://github.com/MuntashirAkon/AppManager/releases class=uri>https://github.com/MuntashirAkon/AppManager/releases</a><br><em>Debug releases:</em> <a href=https://github.com/MuntashirAkon/AppManager/actions class=uri>https://github.com/MuntashirAkon/AppManager/actions</a><li><p>Telegram.<br><em>Normal releases:</em> <a href=https://t.me/AppManagerChannel class=uri>https://t.me/AppManagerChannel</a><br><em>Debug releases:</em> <a href=https://t.me/AppManagerDebug class=uri>https://t.me/AppManagerDebug</a></ol></section><section id=subsec:links-to-source-code class=level3 data-number=1.3.2><h3 data-number=1.3.2><span class=header-section-number>1.3.2</span>
<a href=#toc:subsec:links-to-source-code>源码链接</a><a href=#subsec:links-to-source-code class=anchor aria-hidden=true></a></h3><p>除了GitHub外其他都是镜像链接。tags 应当始终是最新的，但 master
分支也许不是。 如果计划克隆 master 分支，请使用 GitHub
链接而不是其他链接。<ol class=incremental><li><p>GitHub: <a href=https://github.com/MuntashirAkon/AppManager class=uri>https://github.com/MuntashirAkon/AppManager</a><li><p>Codeberg: <a href=https://codeberg.org/muntashir/AppManager class=uri>https://codeberg.org/muntashir/AppManager</a><li><p>GitLab: <a href=https://gitlab.com/muntashir/AppManager class=uri>https://gitlab.com/muntashir/AppManager</a><li><p>Riseup: <a href=https://0xacab.org/muntashir/AppManager class=uri>https://0xacab.org/muntashir/AppManager</a><li><p>sourcehut: <a href=https://git.sr.ht/~muntashir/AppManager class=uri>https://git.sr.ht/~muntashir/AppManager</a></ol></section><section id=subsec:translations class=level3 data-number=1.3.3><h3 data-number=1.3.3><span class=header-section-number>1.3.3</span>
<a href=#toc:subsec:translations>翻译</a><a href=#subsec:translations class=anchor aria-hidden=true></a></h3><p>App Manager 不接受通过 pull/merge 请求进行的翻译。 翻译通过 Hosted
Weblate 管理。 要翻译App Manager，请访问 <a href=https://hosted.weblate.org/engage/app-manager/ class=uri>https://hosted.weblate.org/engage/app-manager/</a>。开始前请阅读
<strong>信息</strong> 部分。</section></section><section id=sec:contributing class=level2 data-number=1.4><h2 data-number=1.4><span class=header-section-number>1.4</span> <a href=#toc:sec:contributing>贡献</a><a href=#sec:contributing class=anchor aria-hidden=true></a></h2><p>用户可有通过多种方式作贡献，如创建有用 issues 、参加讨论、
改进文档和翻译、报告未知的库或跟踪器、 审查源代码以及报告安全漏洞。<section id=subsec:build-instructions class=level3 data-number=1.4.1><h3 data-number=1.4.1><span class=header-section-number>1.4.1</span>
<a href=#toc:subsec:build-instructions>构建说明</a><a href=#subsec:build-instructions class=anchor aria-hidden=true></a></h3><p>在位于源码根目录下的BUILDING文件中可以获得编译教程。</section><section id=subsec:submitting-patches class=level3 data-number=1.4.2><h3 data-number=1.4.2><span class=header-section-number>1.4.2</span>
<a href=#toc:subsec:submitting-patches>提交补丁</a><a href=#subsec:submitting-patches class=anchor aria-hidden=true></a></h3><p>除GitHub之外的仓库目前被视为镜像，在这些网站提交的 PR/MR 将不被接受.
<a href=#fn2 class=footnote-ref id=fnref2 role=doc-noteref><sup>2</sup></a> 相反，patches (<code>.patch</code>
文件)
可以通过电子邮件附件提交。<em>请务必对Commits签名(Signing-off)</em>
更多信息请参见位于源码根目录下的CONTRIBUTING文件.<div class="amalert warning"><p><strong><em>注意.</em></strong><p>至于通过电子邮件提交补丁，完整邮件对话在将来可能可以公开访问.
所以，请不要包含除了您的姓名和电子邮件地址之外的任何个人身份信息（PII）.</div></section></section><section id=sec:donation-&-funding class=level2 data-number=1.5><h2 data-number=1.5><span class=header-section-number>1.5</span> <a href=#toc:sec:donation-&-funding>捐赠 & 资助</a><a href=#sec:donation-&-funding class=anchor aria-hidden=true></a></h2><p>截至2024年9月， 在另行通知前 App Manager 不接受经济支持。
但你仍可以向开发者赠送礼物（例如礼品卡、订阅、食物和饮料、鲜花甚至是现金）。
请用 §<a href=#sec:contact data-reference-type=ref data-reference=sec:contact>1.6</a>
中给出的选项联系维护者以获得进一步帮助。<p>In addition, the maintainers and contributors of this project DO NOT
consent to the creation, sale, or promotion of tokens, cryptocurrencies,
NFTs, or any other financial instruments that claim to represent this
project, its code, or its community. Any such attempts are unauthorized
and not affiliated with this project in any way.</section><section id=sec:contact class=level2 data-number=1.6><h2 data-number=1.6><span class=header-section-number>1.6</span> <a href=#toc:sec:contact>联系我们</a><a href=#sec:contact class=anchor aria-hidden=true></a></h2><p>App Manager 社区<br>邮箱: <a href=mailto:am4android@riseup.net>am4android [at] riseup
[dot] net</a><br>GitHub 账户: <a href=https://github.com/AMCommunity class=uri>https://github.com/AMCommunity</a><br>Twitter/X 账户: <a href=https://x.com/AppManagerNews class=uri>https://x.com/AppManagerNews</a><br>Mastodon 账户: <a href=https://floss.social/@appmanager>@appmanager@floss.social</a><br><br>Muntashir Al-Islam<a href=#fn3 class=footnote-ref id=fnref3 role=doc-noteref><sup>3</sup></a><br>邮箱: <a href=mailto:muntashirakon@riseup.net>muntashirakon [at]
riseup [dot] net</a><br>密钥指纹: <code>7bad37c2981e41f8f6abea7f58f0b4f26c346fce</code><br>GitHub 账户: <a href=https://github.com/MuntashirAkon class=uri>https://github.com/MuntashirAkon</a><br>Twitter 账户: <a href=https://twitter.com/Muntashir class=uri>https://twitter.com/Muntashir</a></section></section><section id=ch:pages class=level1 data-number=2><h1 data-number=2><span class=header-section-number>2</span> <a href=#toc:ch:pages>页面</a><a href=#ch:pages class=anchor aria-hidden=true></a></h1><section id=sec:main-page class=level2 data-number=2.1><h2 data-number=2.1><span class=header-section-number>2.1</span> <a href=#toc:sec:main-page>主页</a><a href=#sec:main-page class=anchor aria-hidden=true></a></h2><p>主页面列出所有已安装、已卸载和已备份的应用。
单独点击任何已安装的应用项目可打开相应的 <a href=#sec:app-details-page>应用详情页</a>。
对于未安装的系统应用，会显示一个对话框提示，可以用来重新安装该应用。
使用列表选项中的 <a href=#par:main-page-sort>排序</a>
，可以选择应用列表的排序方式，退出应用后仍会保留排序方式。
使用列表选项中的 <a href=#par:main-page-filter>过滤</a>，可以过滤列表选项。
筛选也可以通过搜索栏进行过滤，并支持正则表达式。<figure id=fig:main_page_entry_info_labeled><figure><object data=../images/main_page_entry_info_labeled.svg type=image/svg+xml></object></figure><figcaption>Figure 1: 主页面中的一个应用程序列表项</figcaption></figure><section id=subsec:batch-operations class=level3 data-number=2.1.1><h3 data-number=2.1.1><span class=header-section-number>2.1.1</span>
<a href=#toc:subsec:batch-operations>批处理</a><a href=#subsec:batch-operations class=anchor aria-hidden=true></a></h3><p>批处理或者多应用处理也可以在这个页面内进行。
多选模式可以由点击任何应用图标或长按列表中的任意一项进入。
进入多选模式后，仅需单击列表中的任意一项便可选中，而不是打开应用程序详情页。
该模式下，批处理操作位于页面底部的多选菜单。操作包括：<ul class=incremental><li><p>将选中应用添加到 <a href=#sec:profiles-page>配置</a><li><p><a href=#sec:backup-restore>备份、恢复或删除</a>应用程序<li><p>阻止应用中的追踪器<li><p>清除应用数据或缓存<li><p>导出App Manager中的屏蔽规则<li><p>以MarkDown，CSV，JSON或XML格式导出应用列表<li><p>启用/停用/强制停止/卸载应用程序<li><p>对应用执行运行时优化 (Android 7 及更高版本)<li><p>阻止应用的后台操作 (Android 7 及更高版本)<li><p>导出APK文件到 <code>AppManager/apks</code><li><p>设置<a href=#sec:net-policy>联网规则</a></ul><div class="amalert tip"><p><strong><em>无障碍.</em></strong><p>进入多选模式后， 可以使用键盘或遥控器的左右键呼出多选菜单。</div></section><section id=subsec:main-colour-codes class=level3 data-number=2.1.2><h3 data-number=2.1.2><span class=header-section-number>2.1.2</span>
<a href=#toc:subsec:main-colour-codes>颜色代码含义</a><a href=#subsec:main-colour-codes class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p><span class=colorbox style=background-color:#ff0000b3><span style=color:#000>红色 (日间模式下)</span></span> / <span class=colorbox style=background-color:#790d0d><span style=color:#fff>深红色 (夜间模式下)</span></span>
–已卸载的应用程序<li><p><span class=colorbox style=background-color:#ff8a80><span style=color:#000>浅红色 (日间模式下)</span></span> / <span class=colorbox style=background-color:#4f1c14bf><span style=color:#fff>暗红色 (夜间模式下)</span></span> –
已停用的应用程序<li><p><span class=colorbox style=background-color:#09868b><span style=color:#fff>暗青色</span></span> –
已强行停止的应用程序<li><p><span class=colorbox style=background-color:#ff0><span style=color:#000>黄色星标</span></span> – 可调试的应用程序<li><p><span style=color:#e05915>橙色 <em>日期</em></span> –
可读取日志的应用程序<li><p><span style=color:#e05915>橙色 <em>UID</em></span> –
UID在多个应用程序中被共享<li><p><span style=color:#e05915>橙色 <em>SDK</em></span> –
使用明文网络通信(即 HTTP)<li><p><span style=color:#ff8017>亮橙色 <em>包名</em></span> –
有一个或多个跟踪器的应用程序<li><p><span style=color:red>红色 <em>应用标签</em></span> –
不允许清空数据的应用程序<li><p><span style=color:#09868b>暗青色 <em>版本</em></span> –
未运行的应用程序<li><p><span style=color:#f0f>紫红色</span> –
常驻应用(即一直运行的应用程序)<li><p><span style=color:red>红色 <em>备份标识</em></span> –
已卸载的应用程序存在一个或多个备份 在App Manager中<li><p><span style=color:#e05915>橙色 <em>备份标识</em></span> –
存在的备份已过期， 即基本备份中包含已安装应用程序的旧版本<li><p><span style=color:#09868b>暗青色 <em>备份标识</em></span> –
存在的备份已更新，
即基本备份中包含已安装应用程序的相同版本或更高版本</ul></section><section id=subsec:main-page-application-types class=level3 data-number=2.1.3><h3 data-number=2.1.3><span class=header-section-number>2.1.3</span>
<a href=#toc:subsec:main-page-application-types>应用类型</a><a href=#subsec:main-page-application-types class=anchor aria-hidden=true></a></h3><p>一个应用程序可以是 <strong>用户</strong> 或 <strong>系统</strong>
应用，同时存在以下后缀:<ul class=incremental><li><p><code>X</code> – 支持多种架构<li><p><code>0</code> – 应用程序中不存在dex文件<li><p><code>°</code> – 已暂停的应用程序<li><p><code>#</code> –
应用程序请求系统分配一个大堆，即大运行时内存<li><p><code>?</code> – 应用程序请求虚拟机处于安全模式。</ul></section><section id=subsec:main-page-version-info class=level3 data-number=2.1.4><h3 data-number=2.1.4><span class=header-section-number>2.1.4</span>
<a href=#toc:subsec:main-page-version-info>版本信息</a><a href=#subsec:main-page-version-info class=anchor aria-hidden=true></a></h3><p>版本名称有以下前缀:<ul class=incremental><li><p><code>_</code> –
无硬件加速（减缓应用程序中的过渡动画或透明效果）<li><p><code>~</code> – 仅用于测试的应用程序<li><p><code>debug</code> – 可调试的应用程序</ul></section><section id=subsec:main-page-options-menu class=level3 data-number=2.1.5><h3 data-number=2.1.5><span class=header-section-number>2.1.5</span>
<a href=#toc:subsec:main-page-options-menu>选项菜单</a><a href=#subsec:main-page-options-menu class=anchor aria-hidden=true></a></h3><p>选项菜单提供了若干个选项，以用于对列出的应用程序进行排序和过滤，
以及转到 App Manager 内或外的不同页面。<section id=subsubsec:main-list-options class=level4 data-number=2.1.5.1><h4 data-number=2.1.5.1><span class=header-section-number>2.1.5.1</span> 列表选项<a href=#subsubsec:main-list-options class=anchor aria-hidden=true></a></h4><p><strong>列表选项</strong>
包含了对主页面中的列表进行排序和过滤的选项。<section id=排序 class=level5 data-number=2.1.5.1.1><h5 data-number=2.1.5.1.1><span class=header-section-number>2.1.5.1.1</span> 排序<a href=#排序 class=anchor aria-hidden=true></a></h5><div id=par:main-page-sort></div><p>主页面中列出的应用程序可以按照以下方式进行排序:<ul class=incremental><li><p><strong>用户应用优先</strong> 用户应用将优先展示<li><p><strong>应用标签</strong> 根据应用标签（也称为
<em>应用程序名称</em>）升序排序。(默认选项)<li><p><strong>包名</strong> 根据包名升序排序<li><p><strong>最后更新</strong> 根据更新时间降序排序<li><p><strong>共享 user ID</strong> 根据共享 user ID升序排序<li><p><strong>目标 SDK</strong> 根据目标SDK升序排序<li><p><strong>签名</strong> 根据签名信息升序排序<li><p><strong>已停用优先</strong> 已停用将优先展示<li><p><strong>已阻止优先</strong>
根据已阻止的应用组件数目降序排序<li><p><strong>已备份优先</strong> 已备份将优先展示<li><p><strong>追踪器</strong> 根据追踪器数目降序排序S<li><p><strong>最后操作</strong> 根据被App
Manager操作的应用时间降序排序</ul><p>此外，还有 <em>反转</em> 选项，可以用来对列表进行反向排序。
无论怎样的排序偏好，应用程序都会先按字母顺序排序，以防止产生任何随机排序结果。</section><section id=筛选 class=level5 data-number=2.1.5.1.2><h5 data-number=2.1.5.1.2><span class=header-section-number>2.1.5.1.2</span> 筛选<a href=#筛选 class=anchor aria-hidden=true></a></h5><div id=par:main-page-filter></div><p>主页面中列出的应用可以通过以下方式进行过滤:<ul class=incremental><li><p><strong>用户应用</strong> 仅列出用户应用程序<li><p><strong>系统应用</strong> 仅列出系统应用程序<li><p><strong>已停用应用</strong> 仅列出已停用的应用程序<li><p><strong>已停止应用</strong> 仅列出已停止运行的应用程序<li><p><strong>已安装应用</strong> 仅列出已安装的应用程序<li><p><strong>已卸载应用</strong> 仅列出已卸载的应用程序<li><p><strong>存在规则</strong>
列出存在被一个或多个规则限制的应用程序<li><p><strong>有活动</strong> 列出存在一个或多个活动的应用程序<li><p><strong>有备份</strong> 列出存在一个或多个备份的应用程序<li><p><strong>无备份</strong> 列出不存在备份的应用程序<li><p><strong>运行中应用</strong> 列出当前正在运行的应用程序<li><p><strong>有分包</strong>
列出存在一个或多个拆分APK的应用程序<li><p><strong>KeyStore</strong> 仅列出存在Android
密钥库(KeyStore)的应用程序<li><p><strong>SAF</strong>
仅列出使用存储访问框架(SAF)的应用程序<li><p><strong>SSAID</strong>
仅列出存在可用的Settings.Secure.ANDROID_ID(即SSAID)的应用程序</ul><p>与排序不同，筛选过程中可同时应用多个筛选选项。
比如被停用的用户应用程序可通过同时选择 <em>用户应用</em> and
<em>已停用应用</em> 列出。
对于需要筛选出用户应用以确保安全地执行某种操作的 <a href=#subsec:batch-operations>批处理操作</a> 而言， 这很有帮助。<div class="amalert warning"><p><strong><em>状态不一致.</em></strong><p>App Manager 通过大量缓存相应的查询结果显示页面（并非实时更新）。
所以，某些状态（比如说停用和已停止运行状态）并不总是最新的。</div></section><section id=配置文件名称 class=level5 data-number=2.1.5.1.3><h5 data-number=2.1.5.1.3><span class=header-section-number>2.1.5.1.3</span> 配置文件名称<a href=#配置文件名称 class=anchor aria-hidden=true></a></h5><p>也可以列出那些只存在于某个 <a href=#sec:profiles-page>配置文件</a>
下的应用。 当执行某些无法通过 <a href=#sec:profiles-page>配置文件</a>
完成的操作时（比如说卸载同配置文件下的所有应用程序)， 这会很有用。</section></section><section id=说明 class=level4 data-number=2.1.5.2><h4 data-number=2.1.5.2><span class=header-section-number>2.1.5.2</span> 说明<a href=#说明 class=anchor aria-hidden=true></a></h4><p>单击 <strong>用户手册</strong> 打开离线版本的 App Manager 用户手册。
如果单独拆分出来的相应功能（即 <code>feat_docs</code> ）未安装,
或系统里不存在加载手册的 WebView 也可以打开用户手册的在线版本。</section><section id=subsubsec:main:1-click-ops class=level4 data-number=2.1.5.3><h4 data-number=2.1.5.3><span class=header-section-number>2.1.5.3</span> 一键操作<a href=#subsubsec:main:1-click-ops class=anchor aria-hidden=true></a></h4><p><strong>1-Click Ops</strong>代表单击操作。 这将在新活动中打开<a href=#sec:1-click-ops-page>相应页面</a>。</section><section id=应用使用情况 class=level4 data-number=2.1.5.4><h4 data-number=2.1.5.4><span class=header-section-number>2.1.5.4</span> 应用使用情况<a href=#应用使用情况 class=anchor aria-hidden=true></a></h4><p>应用程序使用情况统计，比如说
<em>屏幕时间</em>、<em>数据流量使用情况</em>
(包括移动数据和无线网络)、<em>打开某应用的次数统计</em>，
可通过单击菜单中的 <strong>应用程序使用情况</strong> 选项进行访问.。
但是该功能需要 <em>使用情况统计信息访问</em> 权限。
如使用情况统计信息访问功能在 <a href=#subsubsec:enable/disable-features>设置</a>中被禁用，该菜单项在设置中不会被列出。</section><section id=subsubsec:main:running-apps class=level4 data-number=2.1.5.5><h4 data-number=2.1.5.5><span class=header-section-number>2.1.5.5</span> 正在运行的应用<a href=#subsubsec:main:running-apps class=anchor aria-hidden=true></a></h4><p>该菜单项打开一个新页面，显示正在运行的应用程序或进程列表。它也会显示
当前内存和缓存（如果可用）使用情况。如果 App Manager
在非root或ADB访问下运行，它只会显示自身使用情况
在近期的安卓版本。正在运行的应用或进程也可以在结果显示页面里被强行停止或杀掉。
每个进程标识符(PID)的日志也可以在 <a href=#subsubsec:main:labs>log
viewer</a> 里查阅。
此外，也可以通过点击图标或长按某一项进行批量处理操作。
通常情况下点击任意项目会打开一个显示更多详细信息的对话框。</section><section id=配置文件 class=level4 data-number=2.1.5.6><h4 data-number=2.1.5.6><span class=header-section-number>2.1.5.6</span> 配置文件<a href=#配置文件 class=anchor aria-hidden=true></a></h4><p>该菜单项会打开 <a href=#sec:profiles-page>配置文件页面</a>.
配置文件是一种保存了频繁使用的任务的方式。
这些配置文件也可以通过快捷方式调用。</section><section id=apk更新器 class=level4 data-number=2.1.5.7><h4 data-number=2.1.5.7><span class=header-section-number>2.1.5.7</span> APK更新器<a href=#apk更新器 class=anchor aria-hidden=true></a></h4><p>若系统中已安装<a href=https://github.com/rumboalla/apkupdater>APK
Updater</a> ，则可通过此菜单项直接打开.
若系统中不存在该应用，则该选项将被隐藏.</section><section id=termux-终端模拟器 class=level4 data-number=2.1.5.8><h4 data-number=2.1.5.8><span class=header-section-number>2.1.5.8</span> Termux 终端模拟器<a href=#termux-终端模拟器 class=anchor aria-hidden=true></a></h4><p>如果系统中已安装<a href=https://github.com/termux/termux-app>Termux</a>
，则可直接从此菜单项运行会话（或 新会话）.
如果应用不存在，则此选项将被隐藏.</section><section id=预装应用卸载器 class=level4 data-number=2.1.5.9><h4 data-number=2.1.5.9><span class=header-section-number>2.1.5.9</span> 预装应用卸载器<a href=#预装应用卸载器 class=anchor aria-hidden=true></a></h4><p>该菜单项会打开预装应用卸载页面，列出在设备和 App Manager
里可用的所有预装应用。 该页面也会推荐可替代的应用程序，这些预装应用以 <a href=https://github.com/MuntashirAkon/android-debloat-list>Android
Debloat List</a> 项目为判断基准。</section><section id=subsubsec:main:labs class=level4 data-number=2.1.5.10><h4 data-number=2.1.5.10><span class=header-section-number>2.1.5.10</span> 标签<a href=#subsubsec:main:labs class=anchor aria-hidden=true></a></h4><p>该菜单项会打开一个标签页以列举所有附加功能。包括日志查看器、
系统配置、终端、文件管理器（类似
文件）、UI追踪器、意图拦截器，以及代码编辑器。</section><section id=设置 class=level4 data-number=2.1.5.11><h4 data-number=2.1.5.11><span class=header-section-number>2.1.5.11</span> 设置<a href=#设置 class=anchor aria-hidden=true></a></h4><p>此菜单项将打开本应用的 <a href=#sec:settings-page>设置</a>.</section></section></section><section id=sec:app-details-page class=level2 data-number=2.2><h2 data-number=2.2><span class=header-section-number>2.2</span> <a href=#toc:sec:app-details-page>应用程序详情页</a><a href=#sec:app-details-page class=anchor aria-hidden=true></a></h2><p><strong>应用详情</strong> 页面由 11
个标签页组成。它描述了一个应用程序持有的几乎所有信息,
包括其清单中的所有属性、<a href=#ch:app-ops>应用操作（App
Ops）</a>、签名 信息、库等等。<section id=subsec:app-details-colour-codes class=level3 data-number=2.2.1><h3 data-number=2.2.1><span class=header-section-number>2.2.1</span>
<a href=#toc:subsec:app-details-colour-codes>颜色代码含义</a><a href=#subsec:app-details-colour-codes class=anchor aria-hidden=true></a></h3><p>本页中使用的颜色列表，以及对应的含义:<ul class=incremental><li><p><span class=colorbox style=background-color:#ff0000b3><span style=color:#000>红色 (日间模式)</span></span> / <span class=colorbox style=background-color:#790d0d><span style=color:#fff>深红色 (夜间模式)</span></span> –
表示任何应用操作(App ops)或权限存在危险的标志(flag)，或者任何组件在 App
Manager 中被阻止， 又或者是任何需要却又不受支持的功能特性。<li><p><span class=colorbox style=background-color:#ff8a80><span style=color:#000>亮红色 (日间模式)</span></span> / <span class=colorbox style=background-color:#4f1c14bf><span style=color:#fff>暗红色 (夜间模式)</span></span> – 表示组件在 App
Manager 外被禁用，或任何不受支持的 可选功能特性。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>标记为禁用（停用/阻止）的组件并不意味着它被用户禁用，它也可能被系统禁用，
或者在其清单(Android-Manifest.xml)中被标记为禁用（停用/阻止）。
被禁用（停用/阻止）的应用程序也会被系统（和App
Manager）视为禁用（停用/阻止）。</div><li><p><span class=colorbox style=background-color:#ff8017><span style=color:#000>鲜橙色 (日间模式)</span></span> / <span class=colorbox style=background-color:#ff801780><span style=color:#fff>暗橙色 (夜间模式)</span></span> –
表示存在跟踪器组件<li><p><span class=colorbox style=background-color:#ea80fc><span style=color:#000>紫色 (日间模式)</span></span> / <span class=colorbox style=background-color:#431c5d><span style=color:#fff>深紫色 (夜间模式)</span></span> –
表示存在正在运行的服务。<li><p><span class=colorbox style=background-color:#1b8654><span style=color:白色>绿色</span></span> – 表示当前应用程序中的所有跟踪器
已在 跟踪器指示器 标签页内被阻止。</ul></section><section id=subsec:app-info-tab class=level3 data-number=2.2.2><h3 data-number=2.2.2><span class=header-section-number>2.2.2</span>
<a href=#toc:subsec:app-info-tab>应用信息</a><a href=#subsec:app-info-tab class=anchor aria-hidden=true></a></h3><p><strong>应用信息</strong> 选项卡包含关于一个应用程序的基本信息,
许多操作可以在此标签中执行.<section id=subsubsec:app-info-general-information class=level4 data-number=2.2.2.1><h4 data-number=2.2.2.1><span class=header-section-number>2.2.2.1</span> 基本信息<a href=#subsubsec:app-info-general-information class=anchor aria-hidden=true></a></h4><p>以下的列表与“应用信息”选项卡中列出的顺序相同。<ul class=incremental><li><p><strong>应用图标</strong>:
应用程序的图标，若该应用程序没有图标，则显示系统默认图标。
可以轻轻点击图标，通过对比剪贴板中存储的 SHA 或 MD5 总和的方式进行 APK
签名验证。<li><p><strong>应用标签</strong>: 应用程序的标签或名称。<li><p><strong>包名</strong>:
应用程序包名，点击该包名可将其复制到剪切板。<li><p><strong>版本</strong>: 版本分为两部分： 第一部分称
<em>版本名(Version Name)</em>。
格式各不相同，但常由多个以点分隔的整数组成。 第二部分称
<em>版本代号</em>。
其被第一个括号括起来。版本代号是一个整数，用于区分应用程序版本
(因为机器可能无法正确读取版本名)。简言之，新版本的应用程序具有比旧版本更高的版本代号。
例如，如果 <code>123</code> 和 <code>125</code>
是同一个应用程序的两个版本代号，我们可以说后者比前者更新（后者的版本代号更高）。
当为同一版本的应用程序提供不同的 APK
文件，并在不同平台（移动端、平板、桌面等）或架构（32/64 位、ARM 或
Intel）上运行时，版本号可能会产生误导，因为通常应用程序提供商会为每个平台添加前缀以作区分。<li><p><strong>标签</strong>:(也称作标签云)
标签包含应用程序最基本、最简洁、有用的信息。参阅 §<a href=#subsubsec:tags data-reference-type=ref data-reference=subsubsec:tags>2.2.2.2</a><span>标签</span>
内的完整标签列表。<li><p><strong>水平操作面板</strong>
一个操作面板，由可以对应用程序执行的各种操作组成，参阅 §<a href=#subsubsec:horizontal-action-panel data-reference-type=ref data-reference=subsubsec:horizontal-action-panel>2.2.2.3</a><span>水平操作面板</span>
内的完整可用操作列表。 对于可用的其它操作列表，参阅 <a href=#subsubsec:app-info-options-menu>选项菜单</a>。<li><p><strong>路径与目录</strong>: 包含应用程序相关路径的各种信息，包括
<em>应用目录</em> (存储 APK 文件的路径), <em>数据目录</em> (内部存储,
设备保护区以及外部存储) 和 <em>JNI 库目录</em> (如果有). JNI (Java
Native Interface，Java本机接口) 库用于调用通常用 C/C++
编写的本机原生代码。使用本机原生库可以使应用程序运行得更快，或帮助应用程序使用非
Java 语言编写的第三方库，同大多数游戏中所做的一样。
通过单击每个目录项右侧的启动按钮，可以通过文件管理器打开目录，前提是它们提供相应的支持并被授予必要的权限。<li><p><strong>数据使用</strong>: 操作系统报告的应用程序使用的数据量。
取决于 Android 版本，该项可能需要广泛的权限，包括 <em>使用情况访问</em>
权限和 <em>电话</em> 权限。<li><p><strong>存储与缓存</strong>: 显示有关应用程序的大小（APK
文件、优化文件、数据和缓存）。
在旧设备中，还会显示外部数据、缓存、媒体和 OBB
文件夹的大小。如果在较新的设备中未授予 <em>使用情况访问</em>
权限，此部分将被隐藏。<li><p><strong>更多信息</strong> 显示其他信息，例如–<ul class=incremental><li><p><strong>SDK</strong> 显示与 Android SDK 相关的信息: <em>Max</em>
表示目标SDK 而 <em>Min</em> 表示最小SDK（后者在 Android
5及更低版本中不可用）
如果目标SDK的值低于平台SDK的值（即当前操作系统支持的最大SDK的值），该应用程序会在兼容模式下运行。
这意味着应用程序可能有权访问某些不可用或者被较新版本的 Android
限制的功能， 这将导致安全和隐私问题。 SDK也被称作 <strong>API 级别 (API
Level)</strong>，<br><div class=seealso-inline><p><em>另见: <span><a href=https://en.wikipedia.org/wiki/Android_version_history#Overview>Android
版本历史</a></span></em></div><li><p><strong>标志位(Flags)</strong>:
构建应用程序时使用的应用标志，关于完整的标志列表及其作用，参阅<a href=https://developer.android.com/reference/android/content/pm/ApplicationInfo#flags>官方文档</a>。<li><p><strong>安装日期</strong>: 首次安装应用程序的日期。<li><p><strong>更新日期</strong>: 上次更新应用程序的日期。
如果应用程序尚未更新，该项与 <em>安装日期</em> 相同。<li><p><strong>进程名</strong> 如果与包名不同的情况下，进程的名称。
进程名在应用程序被系统启动时被设置，而通常情况下
进程名与包名相同。<li><p><strong>安装器应用</strong> 安装该应用程序的应用程序。
当安装该应用时，每次的安装器应用不总是会保持相同。 因为 Android
允许对此字段设置任意值。 在 Android
11及更高版本中，实际安装器应用会存储在系统，并可以通过点击
项目右侧的“信息”按钮访问。即使系统并未报告安装器应用（比如说，安装器应用被卸载或隐藏），
该字段也不会不可见。安装器应用可被系统授予额外的特殊权限
以控制它安装的应用程序的某种行为。<li><p><strong>User ID</strong>: Android系统给应用设置的唯一用户ID.
对于共享应用，相同的用户 ID 被分配给具有相同 <em>Shared User ID</em>
的多个应用程序.<li><p><strong>User ID</strong> 系统设置的唯一的用户ID（User
ID，也被称作UID）并赋予应用程序。 对于共享的应用程序，多个持有相同的
<em>Shared User ID</em> 的应用程序 会被赋予同样的用户ID。 .<li><p><strong>Shared User ID</strong>
适用于共享同一个ID的应用程序们（它们之间的数据也是共享的）。
共享的应用程序们必须持有同样的 <a href=#subsec:signatures-tab>签名</a>。<li><p><strong>首选ABI</strong>:
此平台为此应用程序提供支持的架构。<li><p><strong>Zygote 预加载名称</strong>: 负责预加载应用程序代码
和在所有使用应用 zygote 的隔离服务之间共享的数据。<li><p><strong>隐藏 API 执行策略</strong>: 从 Android 9
开始，第三方应用程序无法通过隐藏 API 执行策略访问 Android
框架中的许多方法和类。 存在以下选项：<ul class=incremental><li><p><em>默认</em>: 基于应用程序的类型。
对于系统应用程序，隐藏API执行策略应该被禁用；而对于其他应用，则应该被强制执行。<li><p><em>无或已禁用</em>: 该应用可以像在 Android 9
之前一样完全访问隐藏的 API。<li><p><em>警告</em>: 同上，只是每次应用程序访问隐藏 API
时都会记录警告。绝大多数情况下不使用。<li><p><em>强制执行</em>:
无论是深灰名单还是黑名单，或者两者都是的应用程序无法访问隐藏的 API。
这是 Android 9 及更高版本中第三方应用程序的默认选项，除非该应用程序被
OEM 或供应商列入白名单。<div class="amalert warning"><p><strong><em>警告.</em></strong><p>隐藏 API 执行策略在 Android 中并没有被正确实现，
应用程序可以绕过它。因此，不应该信任此值。</div></ul><li><p><strong>SELinux</strong>: 操作系统通过 SELinux 设置的强制访问控制
(MAC) 策略。<li><p><strong>主活动</strong>: 应用的主要入口点。 仅在应用程序具有 <a href=#subsubsec:activities>活动</a>
并且其中任何一个都可以从启动器中打开时显示。
右侧也有一个启动按钮，可用于启动此活动。</ul></ul></section><section id=subsubsec:tags class=level4 data-number=2.2.2.2><h4 data-number=2.2.2.2><span class=header-section-number>2.2.2.2</span> Tags (标签)<a href=#subsubsec:tags class=anchor aria-hidden=true></a></h4><ul class=incremental><li><p><strong>跟踪器信息</strong> 应用程序里存在的跟踪器组件数量
(比如说 <em>5个跟踪器</em>) 。 若追踪器未被阻止
(禁用)，则标签颜色会被显示为橙色；若追踪器在 App Manager
内被阻止，则标签颜色会被显示为暗青色。
点击该标签以打开一个包含跟踪器组件的列表的对话框。 这些组件可以通过授予
App Manager 足够高的权限阻止 (禁用)或解除阻止 (启用)。<li><p><strong>应用程序类别</strong> 用户应用程序或者系统应用程序。
对于系统应用程序，会显示该应用程序是否被更新，
或者该系统应用程序是否通过 Magisk 以 systemless (不直接修改系统的)
方式安装。<li><p><strong>拆分 APK 信息</strong> 排除基础 APK 的前提下，一个 APK
的拆分数量 (比如 <em>5个拆分</em>).
点击该标签以打开一个包含若干附加信息（比如说名称、类型和大小）的对话框。<li><p><strong>可调试</strong> 该应用程序可以通过 ADB(Android Debug
Bridge，Android 调试桥) 进行调试。
可调试的应用程序可以使用某些不会提供给普通应用程序的功能。
应用程序的数据可能会通过ADB (比如使用 <code>run-as</code> 命令)
访问而无需额外的权限。<li><p><strong>仅用于测试</strong>
该应用程序是仅用于测试用途的应用程序。
仅用于测试的应用程序可以使用某些不会提供给普通应用程序的功能。
应用程序的数据可能会通过ADB (比如使用 <code>run-as</code> 命令)
访问而无需额外的权限。<li><p><strong>无代码</strong>
该应用程序并没有任何代码（即DEX文件不存在）。
对于某些系统应用程序，其实际代码可能被存放于别的地方。<li><p><strong>大堆内存 (Large heap)</strong>
应用程序请求大堆内存占用（即在动态分配中请求更多的 RAM 内存占用）
这仍然取决于系统，由系统决定是否给该应用程序分配较大的内存。 例如 App
Manager 会请求大堆内存占用，因为当扫描 APK时， 它需要加载整个 APK
到内存中。<li><p><strong>打开链接</strong>
该应用程序可能通过任意的应用程序打开某种链接。
若该应用程序默认情况下能打开任何链接，则标签颜色会被显示为红色，否则会被显示为暗青色。
点击该标签以打开一个包含受支持的hosts或域名的列表的对话框。 在 Android
12 及更高版本，当授予 App Manager 足够高的权限时，
会显示一个选项以启用或禁用打开默认链接。
否则，会显示一个选项以打开该应用程序的系统设置页面。<li><p><strong>正在运行</strong>
应用程序中的一个或多个服务当前正在后台运行。
点击该标签以打开一个包含正在运行的服务列表的对话框。
当日志浏览器功能被启用时，点击任意服务会打开日志浏览器，
该日志浏览器会启用默认的筛选器合集，筛选出与UID关联的服务（若运行于独立进程或隔离进程，
则服务关联的UID可能与应用程序自身的UID不同）
除此以外还会提供一个选项以强行停止该应用程序。<li><p><strong>已停止</strong>
已经被强行停止的应用程序。若该应用程序稍后自动运行，则可能不会被停止。<li><p><strong>已禁用</strong> 表示该应用程序已经被禁用
(启动器里该应用程序的图标被隐藏)。<li><p><strong>已暂停</strong> 表示该应用程序已经被暂停
(启动器里该应用程序的图标变成灰色)。<li><p><strong>已隐藏</strong> 表示该应用程序已经被隐藏
(启动器里该应用程序的图标被隐藏)。<li><p><strong>MagiskHide</strong> 对该应用程序启用了 MagiskHide。
点击该标签以打开一个包含该应用程序所有进程名的列表的对话框，
该对话框内的进程列表可以被添加到 MagiskHide 或从 MagiskHide
中移除。<li><p><strong>Magisk 排除列表</strong> 该应用程序在 Magisk
的排除列表中。
点击该标签以打开一个包含该应用程序所有进程名的列表的对话框，
该对话框内的进程列表可以被添加到 Magisk 的排除列表或从 Magisk
的排除列表中移除。<li><p><strong>WX</strong> 应用程序违反了“W^X 策略”（Write xor
Execute，写异或执行），
允许应用程序在同一目录或内存的同一部分中写入和执行。
而这将允许执行任意可执行代码，
无论是修改可执行代码并将其嵌入到应用程序中， 还是执行从 Internet
下载的可执行代码。<br><div class=seealso-inline><p><em>另见: <span><a href=https://en.wikipedia.org/wiki/W%5EX>W^X in
Wikipedia</a></span></em></div><li><p><strong>Bloatware</strong>
该应用程序可能是已知的预装软件（Bloatware）。
它们预装在用户的设备上并占用大量的空间，哪怕用户并不需要它们。
点击该标签以打开一个包含详细信息和额外建议（若可用）的对话框。<li><p><strong>密钥库</strong> 该应用程序有条目存储在 Android 密钥库
中。
点击该标签以打开一个包含所有属于该应用程序的密钥（KeyStore）文件的列表的对话框。<li><p><strong>已备份</strong> 该应用程序使用 App Manager
进行过至少一次备份。 点击该标签以打开一个包含所有可用备份和 metadata
的对话框。<li><p><strong>无电池优化</strong> 该应用程序的电池优化被禁用。
通过点击该标签，可以尝试重新启用该应用程序的电池优化。<li><p><strong>传感器已禁用</strong> 该应用程序的传感器已被禁用。
对绝大多数应用程序而言，传感器默认情况下是被禁用的。<li><p><a href=#sec:net-policy><strong>网络策略</strong></a>
对该应用程序配置了网络策略 (例如后台数据流量使用)
点击该标签以打开一个包含受支持的策略的对话框。
这些策略视平台而定，并存在附加选项以配置它们。<li><p><a href=#sec:terminologies><strong>SSAID</strong></a>
点击该标签以打开一个包含 当前被分配给该应用程序的 SSAID
(Settings.Secure.ANDROID_ID)
的对话框。SSAID可按需重置或重新生成。<li><p><strong>SAF</strong> 表示该应用程序已通过存储访问框架（Storage
Access Framework，即SAF）
被授予访问一个或多个存储位置或文件（即URIs）权限。
点击该标签以打开一个包含已授权的URIs的列表的对话框。<li><p><strong>Play 应用签名</strong>
表示该应用程序可能由谷歌进行签名。<li><p><strong>Xposed</strong> 表示该应用程序可能是一个Xposed模块。
点击该标签以打开一个包含附加信息的对话框。<li><p><strong>静态共享库</strong>
表示该应用程序充当一个或多个应用程序的静态共享库。
点击该标签以打开一个包含已安装库的版本的列表的对话框，
并提供附加选项以卸载它们。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>Trichrome 库 (由Google Chrome，Vanadium或类似的项目提供)
是目前已知的唯一一个 Android 静态共享库。</div></ul></section><section id=subsubsec:horizontal-action-panel class=level4 data-number=2.2.2.3><h4 data-number=2.2.2.3><span class=header-section-number>2.2.2.3</span> 水平操作面板<a href=#subsubsec:horizontal-action-panel class=anchor aria-hidden=true></a></h4><p>如上节所述，水平滚动操作面板由各种与应用程序相关的操作组成，比如
–<ul class=incremental><li><p><strong>启动</strong>: 启动该应用程序。
前提是要有一个可启动（打开）的 <a href=#subsubsec:activities>活动</a>。<li><p><strong>冻结</strong>: 冻结/禁用该应用程序。
若应用程序已被冻结/禁用或用户没有足够的权限，则不会显示该按钮。
冻结/禁用该应用程序后，其图标可能会从（启动器的）应用抽屉中被隐藏，这取决于其配置，该应用程序创建的快捷方式也可能被删除。
该应用程序可能只能通过 App Manager 、<code>pm</code>
命令或其他任意提供此功能的工具解冻/重新启用。
长按该按钮以打开一个可创建用于快速冻结/禁用或解冻/重新启用该应用程序的快捷方式的对话框。<li><p><strong>卸载</strong> 根据提示卸载该应用程序。
在对话框提示中可以卸载系统应用程序的更新， 或者当 App Manager
被授予足够高的权限，抑或操作系统支持，
也可以选择仅卸载应用程序而不清除其数据和签名。
对于后者，如果再度安装该应用程序，安装的应用程序必须与之前已安装的应用程序的签名匹配。<div class="amalert tip"><p><strong><em>提示.</em></strong><p>对于重新安装具有不同签名的应用程序， 更好的方法是使用 App Manager
备份该应用程序的数据，然后在安装该应用程序后再还原数据，
而不是在卸载该应用程序的过程中选择保留该应用程序的数据和签名，
因为该操作在将来可能会导致未定义的行为的问题。</div><li><p><strong>解冻</strong> 解除冻结/重新启用该应用程序。
若应用程序已被解冻/启用或用户没有足够的权限，则不会显示该按钮。 与
<em>冻结</em>
按钮类似，长按该按钮以打开一个可创建用于快速冻结/禁用或解冻/重新启用该应用程序的快捷方式的对话框。<li><p><strong>强行停止</strong>: 强行停止该应用程序。<li><p><strong>清除数据</strong>:
清除应用程序的数据，清除包括存储在应用内部和（仅 Android 10
以上）外部目录中的任何应用数据，包括帐户（如果由应用设置）、缓存等。
例如，清除 App Manager 的数据将会删除所有保存在 App Manager
内的规则（但不会清除或重置在 App Manager
内设置的已阻止组件的状态），因此你需要随时备份你在 App Manager
内设置的规则。若用户没有足够的权限，则不会显示该按钮。<li><p><strong>清除缓存</strong>:
清除应用程序的缓存。若该应用程序在操作过程中处于正在运行的状态，则缓存可能无法如预期般被清除。<li><p><strong>安装</strong>:
安装该应用程序。此按钮仅在该应用程序尚未安装时显示。<li><p><strong>新版变化 (What’s New)</strong>:
若当前已安装的是该外部应用程序的旧版本，则会显示该按钮。
点击该按钮以打开一个包含该版本和已安装版本在版本控制行为上的变化（差异）对比的对话框。
变化包括：<em>版本</em>，<em>跟踪器</em>, <em>权限</em>, <em>组件</em>,
<em>签名</em> (当校验值改变时显示)， <em>功能特性</em>, <em>共享库</em>
与 <em>SDK</em>。<li><p><strong>更新</strong>:
若该应用程序的版本代号高于已安装的应用程序，则会显示该按钮。<li><p><strong>重装</strong>:
若该应用程序与已安装的应用程序具有相同的版本代号，则会显示该按钮。<li><p><strong>降级</strong>:
若该应用程序的版本代号低于已安装的应用程序，则会显示该按钮。<li><p><strong>应用清单(Manifest)</strong>:
点击该按钮以在单独的页面中显示该应用程序的清单文件。
若该应用程序存在一个或多个拆分，则会显示拆分的 APK 文件列表。
点击其中任意一项以打开相应的清单文件。<li><p><strong>扫描器</strong>: 扫描该应用程序以列出潜在的跟踪器和库。
若已配置并处于可用状态，它还会使用VirusTotal扫描文件，并从Pithus中获得结果，<br><div class=seealso-inline><p><em>另见: <span><a href=#sec:scanner-page>扫描器页面</a></span></em></div><p>。<li><p><strong>共享首选项</strong>:
显示该应用程序使用的共享首选项(Shared-Preferences)列表。
点击列表中的首选项将打开<a href=#sec:shared-preferences-editor-page>共享首选项编辑器</a>。该按钮仅在用户拥有足够的权限时才会显示。<li><p><strong>数据库</strong>: 显示该应用程序使用的数据库列表。
点击其中任意一项将打开可用于打开数据库的活动列表。
该按钮仅在用户拥有足够的权限时才会显示。<li><p><strong>F-Droid</strong>: 在你常用的<em>F-Droid</em>
客户端中打开该应用程序。<li><p><strong>Store</strong>: 在 <em>Aurora
Store</em>打开该应用程序。该按钮仅在已安装 <em>Aurora Store</em>
时显示。</ul></section><section id=subsubsec:app-info-options-menu class=level4 data-number=2.2.2.4><h4 data-number=2.2.2.4><span class=header-section-number>2.2.2.4</span> 选项菜单<a href=#subsubsec:app-info-options-menu class=anchor aria-hidden=true></a></h4><p>选项菜单位于页面的右上角, 下面给出了对现有选项的完整描述:<ul class=incremental><li><p><strong>分享</strong>: 分享按钮可用于分享 APK 或
(如果该应用程序有多个拆分、OBB 文件或任意依赖项) 提取自应用程序的
<em>APKS</em>。<li><p><strong>刷新</strong>: 刷新应用信息选项卡。<li><p><strong>在设置中查看</strong>: 在 Android
设置中打开该应用程序。<li><p><strong>备份/恢复</strong>: 打开备份/恢复对话框。<li><p><strong>导出屏蔽规则</strong>: 导出在 App Manager
中为该应用配置的规则。<li><p><strong>在 Termux 中打开</strong>: 在 Termux 中打开应用。
实际是在表明 <code>user_id</code> 应用程序的内核用户ID的前提下运行
<code>su - user_id</code> 命令 (参阅 §§<a href=#subsubsec:app-info-general-information data-reference-type=ref data-reference=subsubsec:app-info-general-information>2.2.2.1</a>
中的描述)。该选项仅对 Root 用户显示。 请参阅 §§<a href=#subsubsec:config-termux data-reference-type=ref data-reference=subsubsec:config-termux>2.2.2.5</a> 以了解如何配置
Termux 以运行来自第三方应用的命令。<li><p><strong>在 Termux 中运行</strong>: 在Termux中通过
<code>run-as package_name</code> 打开应用。
此选项仅对可调试应用有效，并同时适用于 Root 与 ADB 用户。 请参阅 §§<a href=#subsubsec:config-termux data-reference-type=ref data-reference=subsubsec:config-termux>2.2.2.5</a> 以了解如何配置
Termux 以运行来自第三方应用的命令。<li><p><strong>MagiskHide</strong>:
打开一个包含该应用程序所有进程名的列表的对话框，这些进程可以添加到
MagiskHide 列表或从MagiskHide 列表中移除。<li><p><strong>Magisk 排除列表(DenyList)</strong>:
打开一个包含该应用程序所有进程名的列表的对话框，这些进程可以添加到
Magisk 排除列表或从Magisk 排除列表中移除。<li><p><strong>电池优化</strong>:
为该应用程序启用/禁用电池优化。<li><p><strong>传感器</strong> 为该应用程序启用/禁用传感器。<li><p><a href=#sec:net-policy><strong>联网策略</strong></a>:
为该应用程序配置联网策略（如后台数据使用）。<li><p><strong>导出图标</strong>:
提取应用图标并将其保存至共享存储。<li><p><strong>添加到配置文件</strong>: 将应用程序添加到已配置的 <a href=#sec:profile-page>配置文件</a>。<li><p><strong>安装到……</strong>
将该应用程序安装到其他用户和/或已配置文件（如果有）。</ul></section><section id=subsubsec:config-termux class=level4 data-number=2.2.2.5><h4 data-number=2.2.2.5><span class=header-section-number>2.2.2.5</span> 配置 Termux<a href=#subsubsec:config-termux class=anchor aria-hidden=true></a></h4><p>默认情况下，Termux
不允许运行来自第三方应用的命令。要使用此选项，请使用 Termux v0.96
以上版本，并且必须在 <code>~/.termux/termux.properties</code> 中添加
<code>allow-external-apps=true</code>。<div class="amalert tip"><p><strong><em>Info.</em></strong><p>启用此选项不会削弱Termux的安全性。
第三方应用仍然需要取得用户允许才能在Termux中运行任意命令。</div></section></section><section id=subsec:component-tabs class=level3 data-number=2.2.3><h3 data-number=2.2.3><span class=header-section-number>2.2.3</span>
<a href=#toc:subsec:component-tabs>组件选项卡</a><a href=#subsec:component-tabs class=anchor aria-hidden=true></a></h3><p><strong>活动(Activities)</strong>、<strong>服务(Services)</strong>、<strong>接收器</strong>
(即广播接收器) 和 <strong>提供者</strong> (例如内容提供者)
统称为应用程序组件， 因为它们提供类似的功能并共享类似的属性，
例如它们都有一个 <em>名称</em>、 <em>标签</em>、 <em>图标</em>、
可被启用或禁用、并且通过 <em>意图(Intent)</em> 执行。
应用程序组件是应用的组成部分， 必须在应用程序清单中声明
(也有一些例外情况)。 应用程序清单是存储应用程序特定元数据的文件，Android
通过读取元数据来处理应用。<p>这些选项卡中使用的颜色在 §<a href=#subsec:app-details-colour-codes data-reference-type=ref data-reference=subsec:app-details-colour-codes>2.2.1</a><span>应用详情颜色代码</span>
中进行了解释。 也可以通过位于三点菜单的 <strong>排序</strong>
选项，对组件列表进行排序，
以在列表顶部显示已阻止组件或者跟踪器组件。<section id=subsubsec:activities class=level4 data-number=2.2.3.1><h4 data-number=2.2.3.1><span class=header-section-number>2.2.3.1</span> 活动 (Activity)<a href=#subsubsec:activities class=anchor aria-hidden=true></a></h4><p><strong>活动 (Activity)</strong> 是可被 Android
系统唯一标识的窗口或页面 (如<em>主页</em> 和 <em>应用详情页</em>
是两个活动)。 每个活动可以有多个 UI 组件，称为 <em>部件(widgets)</em> 或
<em>碎片(fragments)</em>， 每个组件都可以嵌套或放置在彼此之上。
开发者还可以选择使用名为<em>意图过滤器(intent filters)</em> 的方法在活动
(Activity)中打开外部文件、链接等。 例如，当你使用文件管理器打开文件时，
文件管理器或操作系统通过应用包管理器 (PackageManager) 扫描意图过滤器
以查找能够打开文件的活动，并列出它们，你可以选择打开该文件的方式
(活动)。<p>标记为 <em>exportable (可导出)</em>
的活动通常可被任意第三方应用程序打开。
然而，有些活动可能需要权限，只有拥有这些权限的应用程序才能打开这些活动。
在 <em>活动</em> 选项卡中，可通过 <strong>启动</strong>
按钮启动某些活动。 若有必要可提供诸如意图 (Intent)的附加功能
(extras)、数据 (data)或 Action (动作)等额外信息 (参数)， 则可通过长按
<strong>启动</strong> 按钮以打开提供该功能的 <a href=#sec:interceptor-page>活动拦截器</a> 页面。<div class="amalert tip"><p><strong><em>提示.</em></strong><p>无 Root 用户可通过 ADB 授予
<code>android.permission.WRITE_SECURE_SETTINGS</code> 权限 以打开
<em>不可导出的</em> 活动。</div><div class="amalert tip"><p><strong><em>注意.</em></strong><p>若启动活动时抛出错误 (异常)，很可能是它具有某些未满足的依赖项目
(例如无法通过启动按钮打开 App Manager 的 <em>应用详情页</em> ，
因为该活动需要提供一个包名 (在缺少包名的情况下打开 App Manager
的应用详情页没有意义)。
由于无法有章法的推断这些依赖关系，默认情况下可能无法通过 App Manager
打开这些活动。</div><p>也可通过 <strong>创建快捷方式</strong> 按钮创建活动的快捷方式。
如果你需要提供额外信息 (参数)，
那么可通过活动拦截器页面创建快捷方式。<div class="amalert danger"><p><strong><em>警告.</em></strong><p>如果你卸载了 App Manager，那么所有由 App Manager
创建的快捷方式都将被移除。</div></section><section id=subsubsec:details:servcies class=level4 data-number=2.2.3.2><h4 data-number=2.2.3.2><span class=header-section-number>2.2.3.2</span> 服务 (Services)<a href=#subsubsec:details:servcies class=anchor aria-hidden=true></a></h4><p>不同于用户能看见的 <a href=#subsubsec:activities>活动</a>，<strong>服务</strong>
处理后台任务。 比如当你正在使用手机 Internet 浏览器从 Internet
下载视频时， 该Internet 浏览器会使用 <em>前台服务</em> 下载内容。<p>当一个活动被关闭或从 <em>最近任务</em>
页面被移除，它可能会被立刻销毁。
这取决于手机可用的内存、电池统计或者该活动的配置情况。
但是如果你想，服务可以一直运行下去。
如果有多个在后台运行的服务，由于内存减少或者处理能力下降，
手机会变得很卡很慢， 与此同时手机电量会被消耗得更快。较新版本的 Android
推出了电池优化功能，并对所有应用默认开启。
当该功能被启用时，系统能够根据系统拥有的资源量或服务请求，随机终止任意服务。
但是，前台服务（即发送固定通知的服务，比如说音乐播放器、下载器）在通常情况下不会被终止，
除非系统资源（内存，电量等）严重不足。
某些原厂系统能提供更为强势激进的优化， 比如说MIUI
有一个非常有名又强势的优化功能，即 <em>MIUI 优化</em>。<p>活动和服务都运行在同一套 <a href=https://stackoverflow.com/questions/7597742>looper</a>
，称之为主looper，
意味着服务并非真正在后台运行，而是需要开发者确认的任务。
至于应用程序是如何通过服务进行交流的？ 是通过 <a href=#subsubsec:app-details-receivers>广播接收器</a> 或者 Binder
进行通信的。</section><section id=subsubsec:app-details-receivers class=level4 data-number=2.2.3.3><h4 data-number=2.2.3.3><span class=header-section-number>2.2.3.3</span> (广播)接收器
((Broadcast)Receiver)<a href=#subsubsec:app-details-receivers class=anchor aria-hidden=true></a></h4><p><strong>接收器</strong> (也被称作 <em>广播接收器</em>)
可以用于在某些事件发生时触发某些任务的执行。
由于这些组件在接收到广播信息时被执行，故被称作广播接收器。
这些广播消息通过名为 <em>意图 (Intent)</em> 的方法发送。 意图 (Intent)
是 Android
的特殊功能，可用于打开应用程序（即活动）、运行服务和发送广播消息。
因此，像 <a href=#subsubsec:activities>活动</a>和广播接收器会使用
<em>意图过滤器</em> 接收需要的广播消息。
广播消息可以被系统或应用程序自身发送。当广播消息被发送时，
相应的接收器会被系统激活，这样它们就能执行任务。
举个例子，如果你的手机资源不足，在你启用数据流量或连接至Wi-Fi时，
手机可能会有片刻无响应或变得很卡。
这是因为一旦数据连接被启用，可以接收<code>android.net.conn.CONNECTIVITY_CHANGE</code>的广播接收器将被系统激活。
由于很多应用程序通常情况下都会使用该意图过滤器，这些应用几乎都会立刻被系统激活，这就导致了手机的无响应或卡顿。<p>接收器也可被用于 IPC (Inter-Process Communication，进程间通信)，即
用于多个应用程序间交流（通信），甚至用于同一应用程序下不同组件的通信。</section><section id=subsubsec:providers class=level4 data-number=2.2.3.4><h4 data-number=2.2.3.4><span class=header-section-number>2.2.3.4</span> (内容)提供者
((Content)Providers)<a href=#subsubsec:providers class=anchor aria-hidden=true></a></h4><p><strong>提供者</strong>主要用于数据管理。 比如，当你使用 App Manager
保存 APK 文件或导出规则时会使用名为 <code>.fm.FmProvider</code>
的内容提供者以保存 APK 或导出规则。 Android
中存在很多的提供者，包括这个由系统提供的
可被用于管理多个内容相关的任务，比如说数据库管理、跟踪、搜索等。
每个提供者有一个名为 <em>Authority (授权)</em> 的字段， 该字段对于整个
Android 生态系统中的应用程序来说是唯一的，就像包名一样。</section><section id=针对已root的手机的额外功能 class=level4 data-number=2.2.3.5><h4 data-number=2.2.3.5><span class=header-section-number>2.2.3.5</span>
针对已root的手机的额外功能<a href=#针对已root的手机的额外功能 class=anchor aria-hidden=true></a></h4><p>与在这些标签面前只能当个看客的无 Root 用户不同，Root
用户可以执行各种操作。<section id=拦截组件 class=level5 data-number=2.2.3.5.1><h5 data-number=2.2.3.5.1><span class=header-section-number>2.2.3.5.1</span> 拦截组件。<a href=#拦截组件 class=anchor aria-hidden=true></a></h5><p>在每个组件项目的最右侧，都有一个开关，可用于切换该组件的阻止状态。 若
<a href=#subsubsec:instant-component-blocking>即时组件阻止</a> 未启用
或者之前从未对此应用程序应用阻止规则， 则需要通过三点菜单中的
<strong>应用规则</strong> 选项应用这些更改。 也可通过同样的选项
(这次会显示为 <strong>移除规则</strong> )移除已经应用的规则。<p>也可长按按钮，以阻止使用一个或多个方法的组件。<div class=seealso-inline><p><em>另见: <span><a href=#sec:faq:app-components>FAQ:
应用组件</a></span></em></div></section><section id=par:appdetails:blocking-trackers class=level5 data-number=2.2.3.5.2><h5 data-number=2.2.3.5.2><span class=header-section-number>2.2.3.5.2</span> 拦截跟踪器。<a href=#par:appdetails:blocking-trackers class=anchor aria-hidden=true></a></h5><p>可通过使用三点菜单中的 <strong>阻止跟踪器</strong>
选项，对跟踪器组件进行阻止。
无论当前你在哪个标签页中，所有的跟踪器组件都会被阻止。<div class="amalert tip"><p><strong><em>Info.</em></strong><p>跟踪器组件是应用组件的一个子集。
因此，阻止跟踪器组件与阻止其他任意组件使用的方法相同。</div><div class=seealso><p><em>另见:</em><ul class=incremental><li><p><a href=#subsec:tracker-classes-versus-tracker-components>FAQ:
跟踪器类与跟踪器组件</a><li><p><a href=#sec:scanner-page>扫描器页面</a><li><p><a href=#subsec:block-unblock-trackers>一键操作页面：阻止/解除阻止跟踪器</a></ul></div></section></section></section><section id=subsec:permission-tabs class=level3 data-number=2.2.4><h3 data-number=2.2.4><span class=header-section-number>2.2.4</span>
<a href=#toc:subsec:permission-tabs>权限选项卡</a><a href=#subsec:permission-tabs class=anchor aria-hidden=true></a></h3><p><strong>App Ops</strong>, <strong>使用权限</strong> and
<strong>权限</strong> 选项卡与权限相关。 安卓中，在不具有相同身份（称为
<em>shared
ID</em>）的应用或进程之间进行通信常常需要权限，其由权限控制器管理。
一些被视为<em>普通</em>
的权限，若它们出现在应用程序清单中，则会自动授予，但<em>危险</em>权限 和
<em>开发</em> 权限需要用户确认。 选项卡中使用的颜色在 §<a href=#subsec:app-details-color-codes data-reference-type=ref data-reference=subsec:app-details-color-codes>[subsec:app-details-color-codes]</a>
中有解释。<section id=subsubsec:app-ops class=level4 data-number=2.2.4.1><h4 data-number=2.2.4.1><span class=header-section-number>2.2.4.1</span> App Ops<a href=#subsubsec:app-ops class=anchor aria-hidden=true></a></h4><p><strong>App Ops</strong> 代表"应用操作 <strong>(Application
Operations)</strong> "。 自 Android 4.3 起，Android 通过使用 <em>App
Ops</em> 控制诸多系统权限， 每个 App Op
都有一个与之关联的唯一编号，该编号与其私有名称一同显示在“App
Ops”选项卡中， 一些 App Ops 也有一个公共名称。 许多 App Ops 与
<em>权限</em> 相关。 在此选项卡中，若 App Ops 相关的权限被视为危险，则该
App Ops 会被标记为危险。 其他信息如 <em>标志位 (flags)</em> 、
<em>权限名称</em> 、 <em>权限描述</em> 、 <em>包名</em> 、 <em>群组</em>
也取自相关的 <a href=#subsubsec:permissions>权限</a>。
其他信息可能包含以下内容：<ul class=incremental><li><p><strong>模式(Mode)</strong>：描述了当前授权状态，可以是“<em>允许
(allow)</em>”、“<em>拒绝 (deny)</em>” (实际为错误)、 “<em>忽略
(ignore)</em>” (实际为拒绝) 、 “<em>默认 (default)</em>” (从手机供应商或
AOSP 内部设置的默认列表推断) 、 “<em>前台 (foreground)</em>” (在较新的
Android 版本中，应用只能在前台运行时才能使用该 App Op) ，
以及一些由供应商设定的模式 (例如 MIUI 使用 <em>询问
(ask)</em>)。<li><p><strong>时长 (Duration)</strong>：该 App Op 现已使用的时间
(可能为负，原因未知)。<li><p><strong>允许时刻 (Accept Time)</strong>: 上一次该 App Op
被允许的时刻。<li><p><strong>拒绝时刻 (Reject Time)</strong>: 上一次该 App Op
被拒绝的时刻。</ul><div class="amalert tip"><p><strong><em>提示.</em></strong><p>若 <code>android.permission.GET_APP_OPS_STATS</code> 由
ADB授予，则该选项卡的内容对非 Root 用户可见。</div><p>每个 App Op 项都有切换按钮，可用于允许或拒绝 (忽略) 该App Op。
其他受支持的模式也可以通过长按切换按钮进行设置。 若选项卡中未列出所需的
App Op，则可使用菜单中的 <strong>设置自定义 App Op</strong>。
菜单中的<strong>重置为默认</strong> 选项可用于重置对 App Ops 的更改，
或使用菜单中相关选项拒绝所有危险的 App Ops。 受限于 App Ops
的工作方式，系统可能需要一段时间应用它们 (让这些更改生效)。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>拒绝某些 App Ops 可能会导致应用程序行为异常。
若所有方式都失败，万不得已时可尝试使用 <em>重置为默认</em> 选项。</div><p>可以以升序方式按 App Ops 名称和其相关编号 (或值)对列表排序，
也可通过相应的排序选项优先显示拒绝的 App Ops。<div class=seealso-inline><p><em>另见: <span><a href=#ch:app-ops>附录: App
Ops</a></span></em></div></section><section id=使用权限 class=level4 data-number=2.2.4.2><h4 data-number=2.2.4.2><span class=header-section-number>2.2.4.2</span> 使用权限<a href=#使用权限 class=anchor aria-hidden=true></a></h4><p><strong>预定义权限</strong>(<em>Uses Permissions</em>)
是应用(申请)所使用的权限。 这些权限在应用程序清单中通过使用
<code>uses-permission</code> 标签声明。 诸如 "标志位
(<em>flags</em>)"、"权限名 (<em>permission name</em>)"、"权限描述
(<em>permission description</em>)"、 "包名 ( <em>package
name</em>)"、"群组 (<em>group</em>)" 此类的信息也取自其相关<a href=#subsubsec:permissions>权限</a>。<p>特权用户可通过点击每个权限右侧的切换按钮授予或撤销 危险
(<em>dangerous</em>) 和 开发 (<em>development</em>) 权限，
也可以使用菜单中的相应选项撤销危险权限。 因为 Android 不允许修改 普通
(<em>normal</em>)
权限（其中大多数是该类权限），只能撤销以上两种类别的权限。 也可尝试编辑
<code>runtime-permissions.xml</code> 以撤销这些权限，
但是否可行尚不明确。<div class="amalert tip"><p><strong><em>提示.</em></strong><p>由于系统默认撤销危险权限，
因此撤销所有危险权限与重置所有权限一致。</div><p>可以以升序方式按权限名称对列表进行排序，
也可通过菜单中相应的选项优先显示拒绝的权限。</section><section id=subsubsec:permissions class=level4 data-number=2.2.4.3><h4 data-number=2.2.4.3><span class=header-section-number>2.2.4.3</span> 权限<a href=#subsubsec:permissions class=anchor aria-hidden=true></a></h4><p>(自定义)<strong>权限</strong>
通常是应用自身定义的自定义权限，包括该应用声明的、标记为"内部(
<em>Internal</em>)" 权限，其他应用声明、标记为"外部(
<em>External</em>)"的权限。外部权限在应用程序组件中指定为依赖项，即应用只有在拥有指定的权限时才能调用该组件：<ul class=incremental><li><p><strong>名称</strong> 每个权限都有的唯一的名称，如
<code>android.permission.INTERNET</code>
，但多个应用可以请求同一个权限。<li><p><strong>图标</strong>
每个权限都可以有一个自定义图标，其他权限选项卡没有任何图标，因为它们在应用程序清单中不包含任何图标。<li><p><strong>描述</strong>
描述权限的可选字段，若没有与权限关联的任何描述，则不会显示该字段。<li><p><strong>标志位(Flags)</strong> 使用标志符号或
<strong>保护名称(Protection Level)</strong> 名称描述权限， 诸如 普通
<em>normal</em>、开发 <em>development</em>、危险
<em>dangerous</em>,、即时 <em>instant</em>, 已授权
<em>granted</em>、已撤销 <em>revoked</em>、签名 <em>signature</em>、特权
<em>privileged</em> 等。<li><p><strong>包名</strong>
表示与权限关联的包名，即定义权限的包名。<li><p><strong>群组(Group)</strong>
与权限关联的群组（如果有），几个相关的权限通常可以组合在一起。</ul></section></section><section id=subsec:signatures-tab class=level3 data-number=2.2.5><h3 data-number=2.2.5><span class=header-section-number>2.2.5</span>
<a href=#toc:subsec:signatures-tab>签名选项卡</a><a href=#subsec:signatures-tab class=anchor aria-hidden=true></a></h3><p><strong>签名</strong> 实际上被称作签名信息。
一个应用程序在发布前，会被开发者用一个或多个签名密钥对该应用程序进行签名。
一个应用程序的完整性，即该应用程序是否来自实际开发者且未被其他人改动，
可通过使用内置在 APK 文件中的签名证书进行校验。
这是因为当一个应用程序被未经授权的实体改动时，由于签名密钥对该实体而言是未知的，
该应用程序就已经无法使用源签名密钥进行签名了。
一种验证应用程序完整性的方式就是验证证书生成的检验和 (checksums)。
若开发者提供签名证书的检验和，则它们可以 通过 <strong>签名</strong>
标签页生成的检验和进行比较的方式校验该应用程序。 举个例子，如果你从
GitHub 或 Telegram 频道中下载了 App Manager， 你可以通过简单匹配
<em>SHA256</em> 检验和与显示在此标签的这一个作比较，
以验证该应用程序是否真是由我发布：<pre><code>320c0c0fe8cef873f2b554cb88c837f1512589dcced50c5b25c43c04596760ab</code></pre><p>在此标签页中，使用了几种哈希算法以生成校验和， 包括 <em>MD5</em> 、
<em>SHA1</em> 、 <em>SHA256</em> 和 <em>SHA512</em>。<div class="amalert danger"><p><strong><em>小心.</em></strong><p>签名信息应当通过可靠的散列算法进行验证，例如 <em>SHA256</em>。
请勿依靠 <em>MD5</em> 或 <em>SHA1</em> 校验和，因为它们可以为多个证书
生成相同的校验和。</div></section><section id=subsec:uses-features-tab class=level3 data-number=2.2.6><h3 data-number=2.2.6><span class=header-section-number>2.2.6</span>
<a href=#toc:subsec:uses-features-tab>使用特性选项卡</a><a href=#subsec:uses-features-tab class=anchor aria-hidden=true></a></h3><p><strong>使用功能</strong>
该标签页列出了由该应用程序声称的功能列表，比如 OpenGL ES、电话和
leanback。
应用程序可能需要某些功能，而有些功能对应用程序而言则是可选的。
所需功能必须与所需版本一起存在于系统中。
否则，任何安装应用程序的尝试会被系统拒绝。 用于此标签的颜色在 §<a href=#subsec:app-details-colour-codes data-reference-type=ref data-reference=subsec:app-details-colour-codes>2.2.1</a>
有详细解释。</section><section id=subsec:configurations-tab class=level3 data-number=2.2.7><h3 data-number=2.2.7><span class=header-section-number>2.2.7</span>
<a href=#toc:subsec:configurations-tab>配置选项卡</a><a href=#subsec:configurations-tab class=anchor aria-hidden=true></a></h3><p><strong>配置</strong> 标签页列出了应用程序需要的配置， 比如输入法类型
(qwerty、12键)，触屏方式 (手指、触摸笔等等)，以及导航方式
(拨号盘、跟踪球、滚轮)
对绝大多数应用程序而言，该标签页将会是空页面。</section><section id=subsec:shared-libs-tab class=level3 data-number=2.2.8><h3 data-number=2.2.8><span class=header-section-number>2.2.8</span>
<a href=#toc:subsec:shared-libs-tab>共享库选项卡</a><a href=#subsec:shared-libs-tab class=anchor aria-hidden=true></a></h3><p><strong>共享库</strong> 该标签页列出了传统 JAR 依赖、
任意静态共享库依赖
(目前唯一一个已知的实例是基于Chromium的浏览器和WebViews ) 以及 JNI (Java
本地接口) 库。对于JNI 库，有明确规定特定的平台
(x86/x86_64/ARM/AArch64)、 架构 (32/64 bit)、对象 (共享对象或可执行代码)
等。</section></section><section id=sec:1-click-ops-page class=level2 data-number=2.3><h2 data-number=2.3><span class=header-section-number>2.3</span> <a href=#toc:sec:1-click-ops-page>一键操作页</a><a href=#sec:1-click-ops-page class=anchor aria-hidden=true></a></h2><p>该页面在选择 <a href=#subsec:main-page-options-menu>主菜单</a> 中的
<a href=#subsubsec:main:1-click-ops>一键操作选项</a> 时显示。<section id=subsec:block-unblock-trackers class=level3 data-number=2.3.1><h3 data-number=2.3.1><span class=header-section-number>2.3.1</span>
<a href=#toc:subsec:block-unblock-trackers>阻止/取消阻止跟踪器</a><a href=#subsec:block-unblock-trackers class=anchor aria-hidden=true></a></h3><p>该选项可被用于阻止或解除阻止已安装应用程序的广告/跟踪器组件。
选择此项时，App Manager
会询问是否需要列出所有应用程序的跟踪器，或者仅列出用户应用程序的跟踪器。
新手用户应避免阻止系统应用程序的跟踪器以避免产生不良后果。
之后会弹出多选对话框，以将排除一个或多个应用程序从该操作中排除。 当按下
<em>阻止</em> 或 <em>解除阻止</em> 按钮时，这些变更会立刻生效。<div class="amalert warning"><p><strong><em>注意.</em></strong><p>某些应用程序在禁用它们的跟踪器以后，可能无法如预期般运行。
若出现这种情况， 请移除所有阻止规则， 或者打开对应应用的 <a href=#sec:app-details-page>应用详情页</a>
，将组件标签页中被阻止的规则逐个移除。</div><div class=seealso-inline><p><em>另见: <span><a href=#par:appdetails:blocking-trackers>应用详情页：阻止跟踪器</a></span></em></div></section><section id=subsec:block-components-dots class=level3 data-number=2.3.2><h3 data-number=2.3.2><span class=header-section-number>2.3.2</span>
<a href=#toc:subsec:block-components-dots>阻止组件…</a><a href=#subsec:block-components-dots class=anchor aria-hidden=true></a></h3><p>该选项用于阻止某些应用程序的组件，而判断依据是它们的签名。
一个组件的签名是组件的全称或部分名称。
安全起见，推荐在每一部分的签名结尾添加 <code>.</code> (点)，
因为底层算法以贪婪的方式搜索和匹配组件。
也可以插入多个签名，在这种情况下，所有签名都要被空格隔开。
类似于上面的选项，此处也会提供对系统应用程序应用阻止的选项。<div class="amalert danger"><p><strong><em>小心.</em></strong><p>如果你并不知道通过签名阻止应用程序组件的后果是什么，你应当避免使用该功能。
因为该功能使用不当可能会导致手机 bootloop
(引导循环，具体现象就是手机不断重启并卡在开机第一屏或开机动画，但就是无法进入系统)
或者变砖
(除了通过特殊按键组合进入某些特殊模式外，手机保持黑屏状态)，最终你可能要执行恢复出厂设置。</div></section><section id=subsec:set-mode-for-app-ops-dots class=level3 data-number=2.3.3><h3 data-number=2.3.3><span class=header-section-number>2.3.3</span>
<a href=#toc:subsec:set-mode-for-app-ops-dots>设置 App Ops 模式
…</a><a href=#subsec:set-mode-for-app-ops-dots class=anchor aria-hidden=true></a></h3><p>该选项用于对所有或者已选中的应用程序配置某些 <a href=#ch:app-ops>应用操作 (App Ops)</a>。
存在两个字段，第一个字段用于插入多个被空格隔开的应用操作常量
(名称或值)。
由于可用的应用操作因设备和操作系统而异，并非所有的应用操作常量都能被事先了解。.
需要的应用操作常量可在位于 <a href=#sec:app-details-page>应用详情页</a> 中的 <em>App Ops</em>
标签页内查阅。 第二个字段可用于插入或根据特定的应用操作选择 <a href=#subsec:mode-constants>模式</a>。<div class="amalert danger"><p><strong><em>小心.</em></strong><p>除非你熟悉 App Ops (应用操作)
和阻止它们的后果，你应该避免使用该选项。</div></section><section id=subsec:1-click-back-up class=level3 data-number=2.3.4><h3 data-number=2.3.4><span class=header-section-number>2.3.4</span>
<a href=#toc:subsec:1-click-back-up>备份</a><a href=#subsec:1-click-back-up class=anchor aria-hidden=true></a></h3><p>一键备份操作。以防万一，在执行任何操作前会列出所有受影响的备份。<section id=备份所有应用 class=level5 data-number=2.3.4.0.1><h5 data-number=2.3.4.0.1><span class=header-section-number>2.3.4.0.1</span> 备份所有应用<a href=#备份所有应用 class=anchor aria-hidden=true></a></h5><p>备份所有的已安装的应用程序。</section><section id=重新备份现有备份 class=level5 data-number=2.3.4.0.2><h5 data-number=2.3.4.0.2><span class=header-section-number>2.3.4.0.2</span> 重新备份现有备份<a href=#重新备份现有备份 class=anchor aria-hidden=true></a></h5><p>重新备份所有已安装且之前备份过的应用程序。</section><section id=备份无备份应用 class=level5 data-number=2.3.4.0.3><h5 data-number=2.3.4.0.3><span class=header-section-number>2.3.4.0.3</span> 备份无备份应用<a href=#备份无备份应用 class=anchor aria-hidden=true></a></h5><p>备份所有已安装但尚未备份的应用程序。</section><section id=验证和重新备份 class=level5 data-number=2.3.4.0.4><h5 data-number=2.3.4.0.4><span class=header-section-number>2.3.4.0.4</span> 验证和重新备份<a href=#验证和重新备份 class=anchor aria-hidden=true></a></h5><p>验证已安装的应用程序的近期备份，并在必要时重新备份。</section><section id=备份发生变化的应用 class=level5 data-number=2.3.4.0.5><h5 data-number=2.3.4.0.5><span class=header-section-number>2.3.4.0.5</span> 备份发生变化的应用<a href=#备份发生变化的应用 class=anchor aria-hidden=true></a></h5><p>若某应用在上次备份后有所变化，则重新备份该应用。
通过检查一系列指标判断该应用是否发生变化，包括应用程序版本、最后更新日期、最后启动日期、完整性和文件哈希值。
目录哈希值会在备份过程中被计算并存储在数据库中。
在执行此操作时，会计算新的哈希值，并比较存储在数据库中的该项。</section></section><section id=subsec:1-click-restore class=level3 data-number=2.3.5><h3 data-number=2.3.5><span class=header-section-number>2.3.5</span>
<a href=#toc:subsec:1-click-restore>恢复</a><a href=#subsec:1-click-restore class=anchor aria-hidden=true></a></h3><p>一键还原。以防万一，在执行任何操作前会列出所有受影响的备份。<section id=还原所有应用 class=level5 data-number=2.3.5.0.1><h5 data-number=2.3.5.0.1><span class=header-section-number>2.3.5.0.1</span> 还原所有应用<a href=#还原所有应用 class=anchor aria-hidden=true></a></h5><p>还原 <em>基本备份</em> 中所有已备份的应用程序。</section><section id=还原未安装应用 class=level5 data-number=2.3.5.0.2><h5 data-number=2.3.5.0.2><span class=header-section-number>2.3.5.0.2</span> 还原未安装应用<a href=#还原未安装应用 class=anchor aria-hidden=true></a></h5><p>还原 <em>基本备份</em>
中所有已备份的应用程序中尚未安装的应用程序。</section><section id=还原最新备份 class=level5 data-number=2.3.5.0.3><h5 data-number=2.3.5.0.3><span class=header-section-number>2.3.5.0.3</span> 还原最新备份<a href=#还原最新备份 class=anchor aria-hidden=true></a></h5><p>还原 <em>基本备份</em>
中版本代号比已安装应用程序的版本代号高的应用程序。</section></section><section id=subsec:trim-caches-in-all-apps class=level3 data-number=2.3.6><h3 data-number=2.3.6><span class=header-section-number>2.3.6</span>
<a href=#toc:subsec:trim-caches-in-all-apps>清理所有应用的缓存</a><a href=#subsec:trim-caches-in-all-apps class=anchor aria-hidden=true></a></h3><p>清除所有应用程序的缓存，包括 Android 系统。在执行此操作期间，
所有正在运行的应用程序的缓存可能不会如预期般被清除。</section></section><section id=sec:profiles-page class=level2 data-number=2.4><h2 data-number=2.4><span class=header-section-number>2.4</span> <a href=#toc:sec:profiles-page>配置文件页面</a><a href=#sec:profiles-page class=anchor aria-hidden=true></a></h2><p>配置文件页面可通过主菜单的 <a href=#subsec:main-page-options-menu>选项菜单</a> 访问。
页面主要展示了已配置的文件列表以及对其进行操作的常规选项。
新配置文件也可通过位于底部右下角的 <em>加号</em> 按钮进行添加。
配置文件可以被导入、复制或删除。 单击配置文件项目以打开其 <a href=#sec:profile-page>配置文件页面</a>。<section id=subsec:profiles-options-menu class=level3 data-number=2.4.1><h3 data-number=2.4.1><span class=header-section-number>2.4.1</span>
<a href=#toc:subsec:profiles-options-menu>选项菜单</a><a href=#subsec:profiles-options-menu class=anchor aria-hidden=true></a></h3><p>通过 App Manager 顶部右上角的三点菜单打开全局选项菜单。
其中有一个选项，用于导入先前从 App Manager 导出的已有配置文件。<p>长按任意配置文件项目会弹出另一个选项菜单。该选项菜单提供以下选项：<ul class=incremental><li><p><strong>立即应用….</strong> 该选项用于直接应用配置文件。
点击时会显示一个对话框，在对话框内可选择 <a href=#subsubsec:profile-state>配置文件状态</a>。
选择其中一个状态后，配置文件会被立即应用。<li><p><strong>删除</strong>
点击该选项会在无警告的情况下直接移除配置文件。<li><p><strong>复制</strong> 该选项用于复制配置文件。
点击时会显示一个对话框，在对话框内可为新的配置文件命名。
单击“OK”后，会复制当前配置文件的所有配置信息并加载到 新的 <a href=#sec:profile-page>配置文件页面</a> 。
尽管如此，复制的配置文件在手动保存之前都不会被保存。<li><p><strong>复制配置文件ID</strong>
该选项用于复制配置文件的唯一配置ID。 该配置ID可用于 从第三方应用程序 <a href=#subsec:triggering-a-profile>触发配置文件</a> 。<li><p><strong>导出</strong> 导出配置文件到外部存储。
通过该方式导出的配置文件可以通过之前提到的 <em>导入</em>
选项导入。<li><p><strong>创建快捷方式</strong> 该选项用于
创建该配置文件的快捷方式。 该功能提供两个选项： <em>简单</em> 和
<em>高级</em> 。 选择 <em>高级</em>
时，会提示用户选择快捷方式被调用时的配置文件状态。 选择 <em>简单</em>
时，则总是使用配置文件上一次保存时设置的默认状态。</ul></section></section><section id=sec:profile-page class=level2 data-number=2.5><h2 data-number=2.5><span class=header-section-number>2.5</span> <a href=#toc:sec:profile-page>配置页</a><a href=#sec:profile-page class=anchor aria-hidden=true></a></h2><p>配置文件页面显示配置文件的配置信息。也提供相应的选项以编辑它们。<section id=subsec:profile-options-menu class=level3 data-number=2.5.1><h3 data-number=2.5.1><span class=header-section-number>2.5.1</span>
<a href=#toc:subsec:profile-options-menu>选项菜单</a><a href=#subsec:profile-options-menu class=anchor aria-hidden=true></a></h3><p>顶部右上角的三点菜单会打开选项菜单。其中包含若干个选项，例如–<ul class=incremental><li><p><strong>应用</strong> 该选项用于直接应用配置文件。
点击时，会显示一个可以选择 <a href=#subsubsec:profile-state>配置文件状态</a> 的对话框。
在选择其中一个状态后，配置文件会立即生效。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>当你应用配置文件时，如果存在某些不符合标准的应用，它们会被直接忽略。</div><li><p><strong>保存</strong> 保存对配置文件的更改。<li><p><strong>丢弃</strong> 丢弃自上次保存后产生的全部更改。<li><p><strong>删除</strong>
点击此选项将将在无警告的情况下直接移除配置文件。<li><p><strong>复制</strong> 该选项用于复制配置文件。
点击时会显示一个对话框，在对话框内可为新的配置文件命名。
单击“OK”后，会复制当前配置文件存储的配置信息 并加载到新的 <a href=#sec:profile-page>配置文件页面</a> 。
尽管如此，复制的配置文件在手动保存之前都不会被保存。<li><p><strong>创建快捷方式</strong>
该选项用于创建该配置文件的快捷方式。 该功能提供两个选项： <em>简单</em>
和 <em>高级</em> 。 选择 <em>高级</em>
进行配置时，会提示用户选择快捷方式被调用时的配置文件状态。 选择
<em>简单</em>
进行配置时，则总是使用上一次保存的配置文件设置的默认状态。</ul></section><section id=subsec:profile-apps-tab class=level3 data-number=2.5.2><h3 data-number=2.5.2><span class=header-section-number>2.5.2</span>
<a href=#toc:subsec:profile-apps-tab>应用程序选项卡</a><a href=#subsec:profile-apps-tab class=anchor aria-hidden=true></a></h3><p>应用标签页会列出所有为该配置文件配置的包。
包可以通过位于屏幕底部附近的 <em>添加</em> 按钮添加或移除。
一个包可以通过长按该按钮的方式移除 (以防万一，会弹出一个仅显示
<em>删除</em> 选项的对话框)。</section><section id=subsec:profile-configurations-tab class=level3 data-number=2.5.3><h3 data-number=2.5.3><span class=header-section-number>2.5.3</span>
<a href=#toc:subsec:profile-configurations-tab>配置选项卡</a><a href=#subsec:profile-configurations-tab class=anchor aria-hidden=true></a></h3><p>配置标签可用于配置选中的包。<section id=配置文件id class=level4 data-number=2.5.3.1><h4 data-number=2.5.3.1><span class=header-section-number>2.5.3.1</span> 配置文件ID<a href=#配置文件id class=anchor aria-hidden=true></a></h4><p>该配置文件的唯一ID，目前是基于配置文件名设置。
该配置文件ID可被第三方应用程序用于 <a href=#subsec:triggering-a-profile>触发配置文件</a> 。</section><section id=备注 class=level4 data-number=2.5.3.2><h4 data-number=2.5.3.2><span class=header-section-number>2.5.3.2</span> 备注<a href=#备注 class=anchor aria-hidden=true></a></h4><p>这是会显示在 <a href=#sec:profiles-page>配置文件页面</a> 的文本。
若并未设置，则会显示当前配置信息。</section><section id=subsubsec:profile-state class=level4 data-number=2.5.3.3><h4 data-number=2.5.3.3><span class=header-section-number>2.5.3.3</span> 状态<a href=#subsubsec:profile-state class=anchor aria-hidden=true></a></h4><p>表示默认情况下某些配置文件选项的行为方式。 例如，若 <em>禁用</em>
选项被打开，则状态为 <em>开</em> 的应用程序会被禁用，状态为 <em>关</em>
的会被启用。 目前此项仅支持取值 <em>开</em> 和 <em>关</em> 。</section><section id=用户 class=level4 data-number=2.5.3.4><h4 data-number=2.5.3.4><span class=header-section-number>2.5.3.4</span> 用户<a href=#用户 class=anchor aria-hidden=true></a></h4><p>选择需要应用配置文件的用户。默认情况下会选择所有用户。</section><section id=组件 class=level4 data-number=2.5.3.5><h4 data-number=2.5.3.5><span class=header-section-number>2.5.3.5</span> 组件<a href=#组件 class=anchor aria-hidden=true></a></h4><p>该行为与位于一键操作页面中的 <a href=#subsec:block-components-dots>阻止组件…</a> 选项的行为相同。
然而，此处的阻止操作仅对选中的包生效。 若 <a href=#subsubsec:profile-state>状态</a> 为
<em>开</em>，则组件会被阻止。 若其状态为
<em>关</em>，则组件会被解除阻止。 该选项可通过单击输入对话框中的
<em>禁用</em> 按钮禁用 (无论被插入何值)。<div class=seealso-inline><p><em>另见: <span><a href=#subsec:faq:what-are-app-components>什么是应用组件？</a></span></em></div></section><section id=appops-权限 class=level4 data-number=2.5.3.6><h4 data-number=2.5.3.6><span class=header-section-number>2.5.3.6</span> AppOps 权限<a href=#appops-权限 class=anchor aria-hidden=true></a></h4><p>该行为与位于一键操作页面中的 <a href=#subsec:set-mode-for-app-ops-dots>设置 App Ops(应用操作)
模式…</a> 选项的行为相同。 然而，此处的操作仅对选中的包生效。 若 <a href=#subsubsec:profile-state>状态</a> 为 <em>开</em>，则应用操作(App
Ops)会被拒绝 (即忽略)。 若其状态为 <em>关</em>，则应用操作(App
Ops)会被允许。 该选项可通过单击输入对话框中的 <em>禁用</em> 按钮禁用
(无论被插入何值)。</section><section id=权限 class=level4 data-number=2.5.3.7><h4 data-number=2.5.3.7><span class=header-section-number>2.5.3.7</span> 权限<a href=#权限 class=anchor aria-hidden=true></a></h4><p>该选项用于对被选中的包授予或撤销某些权限。与其他选项类似，权限必须用空格隔开。
若 <a href=#subsubsec:profile-state>状态</a> 为
<em>开</em>，则权限会被撤销。 若其状态为 <em>关</em>，则权限会被允许。
该选项可通过单击输入对话框中的 <em>禁用</em> 按钮禁用
(无论被插入何值)。</section><section id=备份恢复 class=level4 data-number=2.5.3.8><h4 data-number=2.5.3.8><span class=header-section-number>2.5.3.8</span> 备份/恢复<a href=#备份恢复 class=anchor aria-hidden=true></a></h4><p>该选项用于对被选中的应用程序和其数据进行备份或还原。 提供两个选项：
<em>备份选项</em> 和 <em>备份名称</em> 。<ul class=incremental><li><p><strong>备份选项</strong> 与备份/还原功能中的 <a href=#subsec:backup-restore-backup-options>备份选项</a> 相同。
若没有设置，则使用默认选项。<li><p><strong>备份名称</strong>
为备份设置自定义名称。若已经设置了备份名称，则每次备份都会沿用该名称。
每个备份名称后都会被赋予唯一的名称作为后缀。该行为将在未来的正式版被修复。
对于通常的“基本”备份，此区域会留空 (也请确保不要在备份选项中开启
<em>多个备份</em> )。</ul><p>若 <a href=#subsubsec:profile-state>状态</a> 为
<em>开</em>，则包会被备份。 若其状态为 <em>关</em>，则包会被还原。
该选项可通过单击输入对话框中的 <em>禁用</em> 按钮禁用
(无论被插入何值)。</section><section id=导出屏蔽规则 class=level4 data-number=2.5.3.9><h4 data-number=2.5.3.9><span class=header-section-number>2.5.3.9</span> 导出屏蔽规则<a href=#导出屏蔽规则 class=anchor aria-hidden=true></a></h4><div class="amalert danger"><p><strong><em>危险.</em></strong><p>此选项尚未实现。</div></section><section id=冻结 class=level4 data-number=2.5.3.10><h4 data-number=2.5.3.10><span class=header-section-number>2.5.3.10</span> 冻结<a href=#冻结 class=anchor aria-hidden=true></a></h4><p>允许根据 <a href=#subsubsec:profile-state>状态</a>
的值冻结或解冻选中的包。 若状态为 <em>开</em>，则包会被冻结。若状态为
<em>关</em>，则包会被解冻。</section><section id=强制停止 class=level4 data-number=2.5.3.11><h4 data-number=2.5.3.11><span class=header-section-number>2.5.3.11</span> 强制停止<a href=#强制停止 class=anchor aria-hidden=true></a></h4><p>允许被选中的包被强行停止。</section><section id=清除缓存 class=level4 data-number=2.5.3.12><h4 data-number=2.5.3.12><span class=header-section-number>2.5.3.12</span> 清除缓存<a href=#清除缓存 class=anchor aria-hidden=true></a></h4><p>为被选中的包启用清除缓存。</section><section id=清除数据 class=level4 data-number=2.5.3.13><h4 data-number=2.5.3.13><span class=header-section-number>2.5.3.13</span> 清除数据<a href=#清除数据 class=anchor aria-hidden=true></a></h4><p>为选中的包启用清除数据。</section><section id=阻止跟踪器 class=level4 data-number=2.5.3.14><h4 data-number=2.5.3.14><span class=header-section-number>2.5.3.14</span> 阻止跟踪器<a href=#阻止跟踪器 class=anchor aria-hidden=true></a></h4><p>根据 <a href=#subsubsec:profile-state>状态</a>
的值对选中的包的跟踪器组件启用阻止或解除阻止。 若状态为 <em>开</em>
，则跟踪器会被阻止；若状态为 <em>关</em> ，则跟踪器会被解除阻止。</section><section id=保存apk class=level4 data-number=2.5.3.15><h4 data-number=2.5.3.15><span class=header-section-number>2.5.3.15</span> 保存APK<a href=#保存apk class=anchor aria-hidden=true></a></h4><p>对在 <code>AppManager/apks</code> (或在设置页面中被选中的目录)
中被选中的包启用导出 APK 文件。</section></section></section><section id=sec:settings-page class=level2 data-number=2.6><h2 data-number=2.6><span class=header-section-number>2.6</span> <a href=#toc:sec:settings-page>设置页面</a><a href=#sec:settings-page class=anchor aria-hidden=true></a></h2><p>设置页面可被用于个性化 App Manager 的行为。<section id=subsec:language class=level3 data-number=2.6.1><h3 data-number=2.6.1><span class=header-section-number>2.6.1</span>
<a href=#toc:subsec:language>界面语言</a><a href=#subsec:language class=anchor aria-hidden=true></a></h3><p>配置应用内语言。App Manager 目前支持 22 种语言。</section><section id=subsec:appearance class=level3 data-number=2.6.2><h3 data-number=2.6.2><span class=header-section-number>2.6.2</span>
<a href=#toc:subsec:appearance>外观</a><a href=#subsec:appearance class=anchor aria-hidden=true></a></h3><section id=subsubsec:app-theme class=level4 data-number=2.6.2.1><h4 data-number=2.6.2.1><span class=header-section-number>2.6.2.1</span> 应用主题<a href=#subsubsec:app-theme class=anchor aria-hidden=true></a></h4><p>配置应用内主题。</section><section id=subsubsec:pure-black-theme class=level4 data-number=2.6.2.2><h4 data-number=2.6.2.2><span class=header-section-number>2.6.2.2</span> 纯黑色主题<a href=#subsubsec:pure-black-theme class=anchor aria-hidden=true></a></h4><p>使用纯黑色的背景，而不是Material 主题背景。</section><section id=subsubsec:layout-direction class=level4 data-number=2.6.2.3><h4 data-number=2.6.2.3><span class=header-section-number>2.6.2.3</span> 布局方向<a href=#subsubsec:layout-direction class=anchor aria-hidden=true></a></h4><p>更改布局方向，从左到右或者从右到左。
通常情况下由选择的语言决定，但不是每个人都有相同的方向习惯。</section><section id=subsubsec:enable/disable-features class=level4 data-number=2.6.2.4><h4 data-number=2.6.2.4><span class=header-section-number>2.6.2.4</span> 启用/禁用功能<a href=#subsubsec:enable/disable-features class=anchor aria-hidden=true></a></h4><p>启用或禁用 App Manager 中的某些功能，如<ul class=incremental><li><p><strong>拦截器</strong><li><p><strong>Manifest 查看器</strong><li><p><strong>扫描器</strong><li><p><strong>包安装器</strong><li><p><strong>使用情况.</strong> 如关闭此功能，App Manager 永远不会请求
<em>使用情况</em> 权限.<li><p><strong>日志查看器</strong><li><p><strong>App Explorer.</strong> “探索” 选项在尝试打开 APK
文件时不可用。<li><p><strong>App info.</strong> 尝试打开 APK 文件时会显示
“应用信息”选项<li><p><strong>代码编辑器</strong><li><p><strong>VirusTotal</strong></ul></section></section><section id=subsec:privacy class=level3 data-number=2.6.3><h3 data-number=2.6.3><span class=header-section-number>2.6.3</span>
<a href=#toc:subsec:privacy>隐私</a><a href=#subsec:privacy class=anchor aria-hidden=true></a></h3><section id=subsubsec:screen-lock class=level4 data-number=2.6.3.1><h4 data-number=2.6.3.1><span class=header-section-number>2.6.3.1</span> 屏幕锁定<a href=#subsubsec:screen-lock class=anchor aria-hidden=true></a></h4><p>当设置了屏幕锁定时，使用 Android 屏幕锁定的设置锁定 App Manager。<div class="amalert warning"><p><strong><em>警告.</em></strong><p>若启用该设置后，屏幕锁定在 Android
中被禁用/移除，则直到再度启用屏幕锁定前 App Manager 将无法被打开。</div></section><section id=subsubsec:run-am-in-background class=level4 data-number=2.6.3.2><h4 data-number=2.6.3.2><span class=header-section-number>2.6.3.2</span> 在后台运行 App Manager<a href=#subsubsec:run-am-in-background class=anchor aria-hidden=true></a></h4><p>App Manager 在后台运行时会减少初始化延迟。 对缓解某些设备频繁断开
ADB连接的问题而言，这也很有用。</section><section id=subsubsec:use-the-internet class=level4 data-number=2.6.3.3><h4 data-number=2.6.3.3><span class=header-section-number>2.6.3.3</span> 使用网络<a href=#subsubsec:use-the-internet class=anchor aria-hidden=true></a></h4><p>在 App Manager 中激活网络功能。 目前包括在 <a href=#sec:scanner-page>扫描器页面</a>中进行扫描的 VirusTotal 和
Pithus。</section><section id=subsubsec:auth-manager class=level4 data-number=2.6.3.4><h4 data-number=2.6.3.4><span class=header-section-number>2.6.3.4</span> 授权管理器<a href=#subsubsec:auth-manager class=anchor aria-hidden=true></a></h4><p>该设置允许第三方应用程序获得某些功能的访问权限，比如说配置文件。</section></section><section id=subsec:mode-of-operation class=level3 data-number=2.6.4><h3 data-number=2.6.4><span class=header-section-number>2.6.4</span>
<a href=#toc:subsec:mode-of-operation>操作模式</a><a href=#subsec:mode-of-operation class=anchor aria-hidden=true></a></h3><p>操作模式定义了 App Manager 整体的工作模式，其有以下选项：<ul class=incremental><li><p><strong>自动</strong> 让 App Manager 决定最佳选项。
尽管这是默认选项，对于无 Root 用户而言应该使用 <em>无 Root</em>
模式。<li><p><strong>Root</strong> 以 Root 模式运行 App Manager。若未检测到
Root 权限，App Manager 会回退至 <em>无 Root</em>
模式。在极少数个例中，当通过 Root 发起的 Binder 通信被禁用时 (例如 <a href=https://github.com/MuntashirAkon/AppManager/issues/606>Phh
SuperUser</a>)，App Manager 也会回退至 <em>无 Root</em> 模式。<li><p><strong>TCP 启动 ADB</strong> 通过 <a href=#sec:adb-over-tcp>TCP 启动 ADB</a> 的方式，在 ADB 模式下运行 App
Manager。 若未通过 TCP 启动 ADB ，App Manager 会回退至 <em>无 Root</em>
模式。<li><p><strong>无线调试</strong> 通过无线调试启用 ADB
。首先会自动尝试连接之前配置的端口，
如失败会提示用户手动配对，或者手动连接到 ADB daemon。
若通过该方式无法成功连接到 ADB daemon，App Manager会回退至 <em>无
Root</em> 模式。<div class="amalert tip"><p><strong><em>信息.</em></strong><p>由于无线调试在 Android 11 才被引入，该选项仅在运行 Android 11
及更高版本的设备上显示。</div><li><p><strong>无 Root</strong> 以无 Root 模式运行 App Manager。虽然 App
Manager 在此模式中表现更佳， 但所有 Root 或 ADB
相关的功能会被禁用。</ul><p>也会在顶部显示实际操作模式。 实际操作模式是指
<em>Root</em>、<em>ADB</em> 和 <em>无 Root</em> 。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>只有两种情况 "远程服务“才是必需的。一是 ADB
用户，二是使用自定义命令。</div></section><section id=subsec:apk-signing class=level3 data-number=2.6.5><h3 data-number=2.6.5><span class=header-section-number>2.6.5</span>
<a href=#toc:subsec:apk-signing>APK 签名</a><a href=#subsec:apk-signing class=anchor aria-hidden=true></a></h3><section id=签名方案 class=level4 data-number=2.6.5.1><h4 data-number=2.6.5.1><span class=header-section-number>2.6.5.1</span> 签名方案<a href=#签名方案 class=anchor aria-hidden=true></a></h4><p>配置<a href=https://source.android.com/security/apksigning>签名方案</a>
以用于启用 APK 签名的情况。 默认启用 v1 和 v2 签名方案，但应该也启用 v3
以确保在 Android 9 及更高版本的安全性。</section><section id=签名密钥 class=level4 data-number=2.6.5.2><h4 data-number=2.6.5.2><span class=header-section-number>2.6.5.2</span> 签名密钥<a href=#签名密钥 class=anchor aria-hidden=true></a></h4><p>为签名 APK 文件配置签名密钥。 已存在密钥库中的密钥可以被导入到 App
Manager，或者可以生成新的密钥。<div class="amalert tip"><p><strong><em>提示.</em></strong><p>如果你需要在将来使用密钥，推荐你自行创建密钥库并在此处导入密钥。
在没有正确备份的情况下，在 App Manager 生成的密钥有被删除的风险。</div></section><section id=对齐-apk-文件 class=level4 data-number=2.6.5.3><h4 data-number=2.6.5.3><span class=header-section-number>2.6.5.3</span> 对齐 APK 文件<a href=#对齐-apk-文件 class=anchor aria-hidden=true></a></h4><p>在 App Manager 对一个 APK 文件签名时执行 ZIP 对齐。 ZIP对齐在 APK
文件 (实际也是一种 ZIP 文件) 中 ZIP
文件浏览器可通过随机访问非常轻易地访问文件而不是将整个 APK
文件加载到内存， 进而导致 Android 可用内存的减少。
记住一点：该步骤需要该应用程序的清单 (manifest) 中 存在
<code>解压本地库 (extractNativeLibs)</code> 并被设定为
<code>真 (true)</code>。</section></section><section id=subsec:installer class=level3 data-number=2.6.6><h3 data-number=2.6.6><span class=header-section-number>2.6.6</span>
<a href=#toc:subsec:installer>安装器</a><a href=#subsec:installer class=anchor aria-hidden=true></a></h3><p>配置安装器的默认行为。在应用程序安装时， 你也可以通过点击
<em>齿轮</em> 图标并找到绝大多数设置。<section id=安装位置 class=level4 data-number=2.6.6.1><h4 data-number=2.6.6.1><span class=header-section-number>2.6.6.1</span> 安装位置<a href=#安装位置 class=anchor aria-hidden=true></a></h4><p>定义 APK 安装位置，可以是 <em>自动</em>、<em>仅内部存储</em>
和<em>偏好外部存储</em>。 在较新的 Android 版本中，选择最后一个选项
并不保证应用将被安装在外部存储中。</section><section id=阻止跟踪器-1 class=level4 data-number=2.6.6.2><h4 data-number=2.6.6.2><span class=header-section-number>2.6.6.2</span> 阻止跟踪器<a href=#阻止跟踪器-1 class=anchor aria-hidden=true></a></h4><p>在安装应用程序后立刻阻止跟踪器组件。</section><section id=显示变化 class=level4 data-number=2.6.6.3><h4 data-number=2.6.6.3><span class=header-section-number>2.6.6.3</span> 显示变化<a href=#显示变化 class=anchor aria-hidden=true></a></h4><p>在安装应用程序前，若该应用程序已经被安装，
则会在版本控制样式中显示版本、跟踪器、组件、权限、签名、SDK等信息的变更。</section><section id=安装来源 class=level4 data-number=2.6.6.4><h4 data-number=2.6.6.4><span class=header-section-number>2.6.6.4</span> 安装来源<a href=#安装来源 class=anchor aria-hidden=true></a></h4><p>选择安装程序。这对于明确检查安装程序以验证应用程序是否合法安装的应用程序很有用。
这只适用于 root 或 ADB 用户。<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>对于应用来说，检查安装包似乎并无不妥， 但 Android
框架已经在安装过程中处理了这个问题。因此，
通过检查安装包是证明应用来源合法性是错误的。</div></section><section id=签名-apk class=level4 data-number=2.6.6.5><h4 data-number=2.6.6.5><span class=header-section-number>2.6.6.5</span> 签名 APK<a href=#签名-apk class=anchor aria-hidden=true></a></h4><p>安装应用前是否对 APK 文件进行签名。可用 <a href=#subsec:apk-signing>APK 签名</a> 页面 来配置签名。</section><section id=立即执行dex优化 class=level4 data-number=2.6.6.6><h4 data-number=2.6.6.6><span class=header-section-number>2.6.6.6</span> 立即执行DEX优化<a href=#立即执行dex优化 class=anchor aria-hidden=true></a></h4><p>在安装应用程序后立即执行DEX优化。
对于大型应用程序（比如说游戏类应用程序）而言，这很有用。</section><section id=后台安装 class=level4 data-number=2.6.6.7><h4 data-number=2.6.6.7><span class=header-section-number>2.6.6.7</span> 后台安装<a href=#后台安装 class=anchor aria-hidden=true></a></h4><p>总是在后台安装应用程序。当安装完成时，会发出一条通知。</section></section><section id=subsec:backup/restore class=level3 data-number=2.6.7><h3 data-number=2.6.7><span class=header-section-number>2.6.7</span>
<a href=#toc:subsec:backup/restore>备份/恢复</a><a href=#subsec:backup/restore class=anchor aria-hidden=true></a></h3><p>与 <a href=#sec:backup-restore>备份恢复</a> 相关的设置.<section id=压缩方法 class=level4 data-number=2.6.7.1><h4 data-number=2.6.7.1><span class=header-section-number>2.6.7.1</span> 压缩方法<a href=#压缩方法 class=anchor aria-hidden=true></a></h4><p>设置在备份时使用的压缩方式。 App Manager 支持 GZip、BZip2 和
Zstandard 压缩方式，且默认的压缩方式为 GZip。
这不会影响到已有备份的还原。</section><section id=subsubsec:settings-backup-options class=level4 data-number=2.6.7.2><h4 data-number=2.6.7.2><span class=header-section-number>2.6.7.2</span> 备份选项<a href=#subsubsec:settings-backup-options class=anchor aria-hidden=true></a></h4><p>自定义备份时 <em>备份/还原对话框</em> 的显示。<div class=seealso-inline><p><em>另见: <span><a href=#subsec:backup-restore-backup-options>备份选项</a></span></em></div></section><section id=备份带-android-密钥库的应用程序 class=level4 data-number=2.6.7.3><h4 data-number=2.6.7.3><span class=header-section-number>2.6.7.3</span> 备份带 Android
密钥库的应用程序<a href=#备份带-android-密钥库的应用程序 class=anchor aria-hidden=true></a></h4><p>允许备份在 Android 密钥库中有条目的应用程序。 由于一些应用 (比如说
Signal 和 Element ) 在还原后会崩溃闪退，该选项会默认显示。</section><section id=subsubsec:settings-encryption class=level4 data-number=2.6.7.4><h4 data-number=2.6.7.4><span class=header-section-number>2.6.7.4</span> 加密<a href=#subsubsec:settings-encryption class=anchor aria-hidden=true></a></h4><p>为备份设置加密方式。App Manager 当前支持 OpenPGP (源自 <a href=https://f-droid.org/packages/org.sufficientlysecure.keychain/>OpenKeyChain</a>
)、 AES、RSA和ECC。与 <a href=#subsec:apk-signing>APK
签名</a>类似，AES、RSA和ECC密钥被存储在
密钥库中，可从其它密钥库中导入。<div class="amalert danger"><p><strong><em>危险.</em></strong><p>为了确保自身安全，推荐在 App Manager 内部生成 RSA 和 ECC 密钥。
或者应该从存储在安全地方的密钥库中导入。<br>在 AES 的情况下，生成的密钥应存储在安全的地方，例如密码管理器中。</div></section><section id=subsubsec:backup-volume class=level4 data-number=2.6.7.5><h4 data-number=2.6.7.5><span class=header-section-number>2.6.7.5</span> 备份位置<a href=#subsubsec:backup-volume class=anchor aria-hidden=true></a></h4><p>选择存放备份的存储路径。这也将存放日志以及导出的 APK 文件。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>备份卷仅可指定存储空间而不是路径。一般情况下备份会被存放在位于存储路径内部的
<code>AppManager</code> 文件夹内。 但当通过存储访问框架 (Storage Access
Framework，即 SAF ) 选择路径时，会直接选择路径或目录。</div></section><section id=导入备份 class=level4 data-number=2.6.7.6><h4 data-number=2.6.7.6><span class=header-section-number>2.6.7.6</span> 导入备份<a href=#导入备份 class=anchor aria-hidden=true></a></h4><p>从旧版本和已停止更新的项目（比如说钛备份、OAndBackup 和 Swift Backup
(从3.0到3.2的版本) 中导入备份。
备份在导入后不会被删除，以防止在无法正确还原导入的备份时丢失数据。</section></section><section id=subsec:rules class=level3 data-number=2.6.8><h3 data-number=2.6.8><span class=header-section-number>2.6.8</span>
<a href=#toc:subsec:rules>规则</a><a href=#subsec:rules class=anchor aria-hidden=true></a></h3><section id=subsubsec:instant-component-blocking class=level4 data-number=2.6.8.1><h4 data-number=2.6.8.1><span class=header-section-number>2.6.8.1</span> 即时组件拦截<a href=#subsubsec:instant-component-blocking class=anchor aria-hidden=true></a></h4><p>默认情况下，阻止规则不会生效，直到它们在任意应用程序的 <a href=#sec:app-details-page>应用详情页</a> 中被显式应用。
在启用该选项后，所有应用程序的所有规则 (无论新旧)
即刻生效，无需显式启用应用程序的阻止。<div class=seealso-inline><p><em>另见: <span><a href=#subsec:faq:what-is-instant-component-blocking>FAQ:
什么是即时阻止组件？</a></span></em></div></section><section id=导入导出拦截规则 class=level4 data-number=2.6.8.2><h4 data-number=2.6.8.2><span class=header-section-number>2.6.8.2</span> 导入/导出拦截规则<a href=#导入导出拦截规则 class=anchor aria-hidden=true></a></h4><p>可以在 App Manager
内为所有应用程序导入或导出阻止规则。可选择应被导入或导出的规则类型
(组件、应用操作或权限)。 也可从 <a href=https://github.com/lihenggui/blocker>Blocker</a> 和 <a href=https://github.com/tuyafeng/Watt>Watt</a> 导入阻止规则。
若要为单个应用程序导出阻止规则，则可使用相应的 <a href=#sec:app-details-page>应用详情页</a>
导出规则。若要为多个应用程序导出规则，则可使用 <a href=#subsec:batch-operations>批处理操作</a> 。<div class=seealso-inline><p><em>另见: <span><a href=#sec:rules-specification>规则说明</a></span></em></div><section id=导出 class=level5 data-number=2.6.8.2.1><h5 data-number=2.6.8.2.1><span class=header-section-number>2.6.8.2.1</span> 导出<a href=#导出 class=anchor aria-hidden=true></a></h5><p>为所有应用程序导出在 App Manager 配置的阻止规则。 可包含 <a href=#subsec:faq:what-are-app-components>应用组件</a> 、应用操作 (App
Ops) 和权限，基于多选操作中选择的选项导出规则。</section><section id=导入 class=level5 data-number=2.6.8.2.2><h5 data-number=2.6.8.2.2><span class=header-section-number>2.6.8.2.2</span> 导入<a href=#导入 class=anchor aria-hidden=true></a></h5><p>导入之前从 App Manager 导出的阻止规则。 类似于导出，可包含 <a href=#subsec:faq:what-are-app-components>应用组件</a>、应用操作 (App
Ops) 和权限，基于多选操作中选择的选项导入规则。</section><section id=par:import-existing-rules class=level5 data-number=2.6.8.2.3><h5 data-number=2.6.8.2.3><span class=header-section-number>2.6.8.2.3</span> 导入已有规则<a href=#par:import-existing-rules class=anchor aria-hidden=true></a></h5><p>将被其他应用程序阻止的组件添加到 App Manager 中。App Manager 仅跟踪被
App Manager 禁用的组件。
若应用程序的组件时被其他工具或应用程序阻止，则该选项可被用于导入它们。
点击该选项， App Manager
会查找潜在的被其他应用程序或工具阻止的组件，并仅列出应用程序的名称以及匹配的组件数量。
安全起见，所有的应用程序默认情况下不会被选中。它们需要被手动选择，并在
App Manager 中重新应用阻止规则。<div class="amalert danger"><p><strong><em>小心.</em></strong><p>谨慎使用可能存在错误结果的工具。 仅选择你十分确信的应用程序。</div></section><section id=从-watt-中导入 class=level5 data-number=2.6.8.2.4><h5 data-number=2.6.8.2.4><span class=header-section-number>2.6.8.2.4</span> 从 Watt 中导入<a href=#从-watt-中导入 class=anchor aria-hidden=true></a></h5><p>从 <a href=https://github.com/tuyafeng/Watt>Watt</a>
中导入配置文件， 每个文件包含单个包的规则，文件名为包的名称跟着
<code>.xml</code> 的扩展名。<div class="amalert tip"><p><strong><em>提示.</em></strong><p>Watt 的配置文件存放位置为：
<code>/sdcard/Android/data/com.tuyafeng.watt/files/ifw</code></div></section><section id=从-blocker-中导入 class=level5 data-number=2.6.8.2.5><h5 data-number=2.6.8.2.5><span class=header-section-number>2.6.8.2.5</span> 从 Blocker 中导入<a href=#从-blocker-中导入 class=anchor aria-hidden=true></a></h5><p>从 <a href=https://github.com/lihenggui/blocker>Blocker</a>
中导入阻止规则，每个文件包含单个包的规则。 这些文件的扩展名为
<code>.json</code> 。</section></section><section id=删除所有规则 class=level4 data-number=2.6.8.3><h4 data-number=2.6.8.3><span class=header-section-number>2.6.8.3</span> 删除所有规则<a href=#删除所有规则 class=anchor aria-hidden=true></a></h4><p>点击选项以移除App Manager 内配置的所有规则。
这将启用所有已被阻止的组件，应用操作会被设置为默认值以及权限会被授予。</section></section><section id=subsec:advanced class=level3 data-number=2.6.9><h3 data-number=2.6.9><span class=header-section-number>2.6.9</span>
<a href=#toc:subsec:advanced>高级</a><a href=#subsec:advanced class=anchor aria-hidden=true></a></h3><section id=subsubsec:selected-users class=level4 data-number=2.6.9.1><h4 data-number=2.6.9.1><span class=header-section-number>2.6.9.1</span> 选中的用户<a href=#subsubsec:selected-users class=anchor aria-hidden=true></a></h4><p>该选项允许你控制 App Manager 应作用的用户。默认情况下，在 Root 模式或
ADB 模式下 App Manager 对所有用户起作用。</section><section id=subsubsec:saved-apk-name-format class=level4 data-number=2.6.9.2><h4 data-number=2.6.9.2><span class=header-section-number>2.6.9.2</span> 保存的 APK 名称格式<a href=#subsubsec:saved-apk-name-format class=anchor aria-hidden=true></a></h4><p>定义用于批处理操作或通过配置文件导出的 APK 格式的文件名。 App Manager
提供一些特殊的关键词，这些关键词包含在 <code>%</code> (百分号)
符号内，并在输入框下方可用。 这些关键词为：<ul class=incremental><li><p><strong><code>标签</code>。</strong>
表示该应用程序的名称或标签。可根据该应用程序设置的语言进行本地化。<li><p><strong><code>包名</code>。</strong>
表示包名称或该应用程序ID，是每个应用程序拥有的唯一标识符。<li><p><strong><code>版本</code>。</strong>
表示从该应用程序清单里提取出的当前版本。<li><p><strong><code>版本代号</code>。</strong>
表示该应用程序的当前版本代号，可用于区分同一个应用程序的两个版本。<li><p><strong><code>最小SDK</code>。</strong>
表示该应用程序可运行的最小的SDK (即 Android 框架版本)。该数据仅在
Android 7 (Nougat) 及更高版本可用。<li><p><strong><code>目标SDK</code>。</strong>
表示该应用程序的目标SDK。该应用程序可在更高的 SDK
版本以兼容模式运行。<li><p><strong><code>日期时间</code>。</strong> 表示 APK
导出的时间和日期。</ul></section><section id=subsubsec:import/export-keystore class=level4 data-number=2.6.9.3><h4 data-number=2.6.9.3><span class=header-section-number>2.6.9.3</span> 导入/导出密钥库<a href=#subsubsec:import/export-keystore class=anchor aria-hidden=true></a></h4><p>导入或导出用于 App Manager 的密钥库。该密钥库是 Bouncy Castle
KeyStore 并以 <code>bks</code> 作为扩展名。 因此不支持其他诸如 Java
KeyStore (JKS) 或 PKCS #12 的密钥库。
若要从这类密钥库中导入密钥，则应使用如上所述的相关选项。</section></section><section id=subsec:device-info class=level3 data-number=2.6.10><h3 data-number=2.6.10><span class=header-section-number>2.6.10</span> <a href=#toc:subsec:device-info>关于设备</a><a href=#subsec:device-info class=anchor aria-hidden=true></a></h3><p>显示 Android
版本、安全、CPU、GPU、电池、内存、屏幕、语言、用户信息等。</section></section><section id=sec:scanner-page class=level2 data-number=2.7><h2 data-number=2.7><span class=header-section-number>2.7</span> <a href=#toc:sec:scanner-page>扫描器页面</a><a href=#sec:scanner-page class=anchor aria-hidden=true></a></h2><p>在 <a href=#subsec:app-info-tab>应用详情页</a> 中点击
<em>扫描器</em> 按钮后，会出现 <strong>扫描器页面</strong> 。 外部 APK
文件也可从文件管理器、网页浏览器等用 App Manager 的扫描器打开以扫描 APK
文件。<p>扫描器会扫描跟踪器和库，显示跟踪器和库的总数。 它也会显示 APK
文件的检验和并进行签名验证。 若设置里配置了 VirusTotal ，则也可尝试从
VirusTotal 中检索报告， 若该 APK 文件不在数据库时，则可以选择上传该 APK
文件。 当启用网络功能时，还会显示前往 <a href=https://beta.pithus.org>Pithus</a>的链接，并提供报告功能。<div class="amalert danger"><p><strong><em>免责声明.</em></strong><p>App Manager
仅静态扫描应用程序，并不带任何偏见。应用程序可能会提供退出跟踪的选项。
在某些情况下，某些跟踪器的功能并不会被应用程序使用 (比如 F-Droid)。
某些应用程序可能只是单纯将它们当作占位符使用， 以防止某些功能被破坏
(比如Fennec F-Droid)。 <strong>扫描器的目的是让你知道该 APK
可能包含的内容。 应该把扫描结果当作进一步调查之前的第一步。</strong></div><p>点击第一项 (即类的数量)
以打开一个新页面，该页面包含该应用程序的跟踪器类的列表。
所有类可以通过点击 <em>切换类列表</em> 目录查阅。
只需点击其中任意一项即可查看该类的 SMALI 或 Java 版本。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>由于诸多限制，不可能扫描一个 APK 文件里的所有组件。 若一个 APK
文件被高度混淆或包装则更是如此。 扫描器也不会检查字符串
(或网站签名)。</div><p>第二项列出了跟踪器数量以及它们的名称。
点击其中一项以显示包含跟踪器名称、匹配签名和每个签名对应的类的数量的对话框。
某些跟踪器名称可能包含 <span class="math inline"><sup>2</sup></span>
前缀， 表示这些跟踪器在 <a href=https://etip.exodus-privacy.eu.org>ETIP</a> 备选列表内，
即它们是否确实是跟踪器还在调查中。<p>第三项列出了库的数量以及它们的名称。 这些信息大多叔来自 <a href=https://gitlab.com/IzzyOnDroid/repo>IzzyOnDroid repo</a>。<div class=seealso-inline><p><em>另见: <span><a href=#subsec:tracker-classes-versus-tracker-components>FAQ:
跟踪器类与跟踪器组件</a></span></em></div></section><section id=sec:interceptor-page class=level2 data-number=2.8><h2 data-number=2.8><span class=header-section-number>2.8</span> <a href=#toc:sec:interceptor-page>拦截器页面</a><a href=#sec:interceptor-page class=anchor aria-hidden=true></a></h2><p>拦截器可被用于拦截应用间通过 <code>意图 (Intent) </code>进行的通信。
作为源应用程序与目标应用程序之间的中间人工作。 并提供编辑
<code>意图</code> 的界面给功能完整的用户。<div class="amalert warning"><p><strong><em>警告.</em></strong><p>拦截器仅作用于未被指定 <a href=#subsec:faq:what-are-app-components>应用组件</a> 的 <em>隐式</em>
意图。</div><div class=seealso><p><em>另见:</em><ul class=incremental><li><p><a href=https://developer.android.com/guide/components/intents-common>常见
Intent</a><li><p><a href=https://developer.android.com/guide/components/intents-filters>Intent
与 Intent 过滤器</a></ul></div><section id=subsec:intent-filters class=level3 data-number=2.8.1><h3 data-number=2.8.1><span class=header-section-number>2.8.1</span>
<a href=#toc:subsec:intent-filters>意图(Intent)过滤器</a><a href=#subsec:intent-filters class=anchor aria-hidden=true></a></h3><p>应用程序使用意图过滤器来指定它们能够执行的任务或者它们将使用其他应用程序执行的任务。
举个例子，当你使用文件管理器打开一个 PDF
文件时，文件管理器会尝试寻找能够打开 PDF 的应用程序。
为了找到正确的应用程序，文件管理器会创建一个带有MIME类型等过滤器的意图
(Intent)，并要求系统检索能够打开该过滤器的应用程序。
系统会通过检索已安装应用程序的清单
(Manifest)匹配过滤器，并列出能够打开该过滤器
(该例子中是PDF)的应用程序组件。
此时，文件管理器将自行打开所需的应用程序组件或者使用系统提供的选项打开它。
若多个应用程序组件能打开它并且没有设置默认的打开方式，则你可能会看到一个选择正确的应用程序组件打开的提示。<section id=subsubsec:action class=level4 data-number=2.8.1.1><h4 data-number=2.8.1.1><span class=header-section-number>2.8.1.1</span> 动作(Action)<a href=#subsubsec:action class=anchor aria-hidden=true></a></h4><p>动作 (Action) 指定要执行的通用动作，例如
<code>android.intent.action.VIEW</code>。
应用程序通常在清单文件中声明相关的动作以抓取所需的意图。
该动作对广播意图非常有用，起到了至关重要的作用。在其他情况下，其作为过滤相关应用程序组件的初始方法。
诸如 <code>android.intent.action.VIEW</code> 和
<code>android.intent.action.SEND</code> 的通用动作被应用程序广泛使用。
因此，单独设置它可能会匹配到很多应用程序组件。</section><section id=subsubsec:data class=level4 data-number=2.8.1.2><h4 data-number=2.8.1.2><span class=header-section-number>2.8.1.2</span> 数据(Data)<a href=#subsubsec:data class=anchor aria-hidden=true></a></h4><p>数据最初被称为 URI(Uniform Resource Identifier，统一资源标识符)，在
<a href=http://www.faqs.org/rfcs/rfc2396.html>RFC 2396</a> 中被定义。
它可以是网络链接、文件位置，或者名为 <em>内容 (content)</em>
的特殊功能。内容是由 <a href=#subsubsec:providers>内容提供者</a>
管理的一个 Android 功能。 数据经常被一种 <a href=#subsubsec:mime-type>MIME 类型</a> 关联。<p>例如：<pre><code>http://search.disroot.org/?q=URI%20in%20Android%20scheme&amp;categories=general&amp;language=en-US
https://developer.android.com/reference/android/net/Uri
file:///sdcard/AppManager.apk
mailto:email@example.com
content://io.github.muntashirakon.AppManager.provider/23485af89b08d87e898a90c7e/AppManager.apk</code></pre></section><section id=subsubsec:mime-type class=level4 data-number=2.8.1.3><h4 data-number=2.8.1.3><span class=header-section-number>2.8.1.3</span> MIME 类型<a href=#subsubsec:mime-type class=anchor aria-hidden=true></a></h4><p><a href=#subsubsec:data>数据</a> 的 MIME类型。
举个例子，若数据字段被设定为
<code>file:///sdcard/AppManager.apk</code>， 则相关联的MIME类型为
<code>application/vnd.android.package-archive</code>。</section><section id=类别categories class=level4 data-number=2.8.1.4><h4 data-number=2.8.1.4><span class=header-section-number>2.8.1.4</span> 类别(Categories)<a href=#类别categories class=anchor aria-hidden=true></a></h4><p>类别 (Category) 与 <a href=#subsubsec:action>动作 (Action)</a>
类似。某种意义上来说，它也被系统用于过滤应用程序组件。
它并没有更多优势。不同于 <em>动作
(Action)</em>，可以拥有多个类别。点击标题旁边的 <em>添加</em>
按钮以允许添加更多类别。</section><section id=标志位flags class=level4 data-number=2.8.1.5><h4 data-number=2.8.1.5><span class=header-section-number>2.8.1.5</span> 标志位(Flags)<a href=#标志位flags class=anchor aria-hidden=true></a></h4><p>标志 (Flags) 有助于确定活动 (Activity) 启动期间或活动 (Activity)
启动后的系统行为。 因为它需要一些技术背景，不应该被随意触及。标题旁边的
<em>添加</em> 按钮可用于添加一或多个标志 (Flags)。</section><section id=附加数据extras class=level4 data-number=2.8.1.6><h4 data-number=2.8.1.6><span class=header-section-number>2.8.1.6</span> 附加数据(Extras)<a href=#附加数据extras class=anchor aria-hidden=true></a></h4><p>额外数据 (Extras)
是用于向目标组件提供附加信息的键值对。可以使用标题旁边的 <em>添加</em>
按钮添加更多额外数据 (Extras)。</section><section id=uri class=level4 data-number=2.8.1.7><h4 data-number=2.8.1.7><span class=header-section-number>2.8.1.7</span> URI<a href=#uri class=anchor aria-hidden=true></a></h4><p>将整个意图表示为 URI (例如 <code>intent://…</code>)。
一些数据无法被转换为字符串，结果可能无法在此显示。</section></section><section id=subsec:matching-activities class=level3 data-number=2.8.2><h3 data-number=2.8.2><span class=header-section-number>2.8.2</span>
<a href=#toc:subsec:matching-activities>匹配的活动(Activity)</a><a href=#subsec:matching-activities class=anchor aria-hidden=true></a></h3><p>列出匹配意图的所有活动组件。这是由系统内部决定的 (而不是 App Manager)
。 每个组件旁边的启动按钮可用于从 App Manager 直接启动它们。</section><section id=subsec:interceptor-reset-to-default class=level3 data-number=2.8.3><h3 data-number=2.8.3><span class=header-section-number>2.8.3</span>
<a href=#toc:subsec:interceptor-reset-to-default>重置为默认</a><a href=#subsec:interceptor-reset-to-default class=anchor aria-hidden=true></a></h3><p>重置意图至其初始化状态。</section><section id=subsec:interceptor-send-edited-intent class=level3 data-number=2.8.4><h3 data-number=2.8.4><span class=header-section-number>2.8.4</span>
<a href=#toc:subsec:interceptor-send-edited-intent>发送编辑过的意图(Intent)</a><a href=#subsec:interceptor-send-edited-intent class=anchor aria-hidden=true></a></h3><p>将编辑过的意图重新发送到目标应用程序。这可能会打开需要选择所需应用程序的应用程序列表。
从目标应用程序接收的结果会被发送到源应用程序。因此，源应用程序将不会知道是否存在中间人。</section></section><section id=sec:shared-preferences-editor-page class=level2 data-number=2.9><h2 data-number=2.9><span class=header-section-number>2.9</span> <a href=#toc:sec:shared-preferences-editor-page>共享首选项(Shared
Preferences)编辑页</a><a href=#sec:shared-preferences-editor-page class=anchor aria-hidden=true></a></h2><p>可以在此页面中编辑共享首选项。点击列表中的任意一项以打开可编辑该项目的编辑对话框。
右下角的浮动操作按钮可用于添加新项目。
若要保存或删除文件，或放弃当前更改，可使用菜单中的相应选项。</section></section><section id=ch:guides class=level1 data-number=3><h1 data-number=3><span class=header-section-number>3</span> <a href=#toc:ch:guides>指南</a><a href=#ch:guides class=anchor aria-hidden=true></a></h1><section id=sec:adb-over-tcp class=level2 data-number=3.1><h2 data-number=3.1><span class=header-section-number>3.1</span> <a href=#toc:sec:adb-over-tcp>经由 TCP 的 ADB</a><a href=#sec:adb-over-tcp class=anchor aria-hidden=true></a></h2><p>许多仅 Root 功能在通过 TCP 启动的 ADB 下依然可用。为此需要一台已安装
Android 平台工具的 PC 或者 Mac 设备， 以及一部启用开发者选项和 USB
调试的 Android 手机。<div class="amalert tip"><p><strong><em>Root 用户.</em></strong><p>若 App Manager
已被授予超级用户权限，则已经能够毫无问题地执行特权代码。
<strong>因此，Root 用户无需启用通过 TCP 启用的 ADB。</strong>
如果你仍想使用通过 TCP 启动的 ADB， 你必须撤销对 App Manager
的超级用户权限的授予</div><div class=seealso-inline><p><em>另见: <span><a href=#sec:faq:adb-over-tcp>FAQ: 通过 TCP 启动的
ADB</a></span></em></div><section id=subsec:enable-developer-options class=level3 data-number=3.1.1><h3 data-number=3.1.1><span class=header-section-number>3.1.1</span>
<a href=#toc:subsec:enable-developer-options>启用开发者选项</a><a href=#subsec:enable-developer-options class=anchor aria-hidden=true></a></h3><section id=subsubsec:location-of-developer-options class=level4 data-number=3.1.1.1><h4 data-number=3.1.1.1><span class=header-section-number>3.1.1.1</span> 开发人员选项的位置<a href=#subsubsec:location-of-developer-options class=anchor aria-hidden=true></a></h4><p><strong>开发者选项</strong> 位于 Android
<strong>设置</strong>，要么直接 靠近设置页底部
（多数ROMs），要么在其他一些设置下面，比如 <strong>系统</strong>
（Google Pixel、 Lineage OS、 Asus Zenfone 8.0+）,
<strong>附加设置</strong> （Xiaomi MIUI、Oppo ColorOS），
<strong>更多设置</strong> （Vivo FuntouchOS）, <strong>更多</strong>
（ZTE Nubia）。 不像其他设置，开发者选项
在用户明确启用前不可见。如果已经启用开发者选项，你也可以使用 Android
<strong>设置</strong> 中的搜索框来定位它。</section><section id=如何启用开发者选项 class=level4 data-number=3.1.1.2><h4 data-number=3.1.1.2><span class=header-section-number>3.1.1.2</span> 如何启用开发者选项<a href=#如何启用开发者选项 class=anchor aria-hidden=true></a></h4><p>该选项在 Android <strong>设置</strong>
也可用，但是类似于开发者选项的位置，其位置也因设备而异。
但总体来说，你需要找到 <strong>Build number (内部版本号)</strong> (或者
MIUI ROM的 <strong>MIUI 版本</strong> 、 Vivo FuntouchOS的
<strong>软件版本</strong> 、OPPO ColorOS 的 <strong>版本</strong> for )
然后连续点击至少7次， 直到你最终看到一条写着
<em>你已经启用了开发者选项！</em>的消息。
（这一步你可能会看到需要输入PIN/密码/解锁图案或验证码的提示。）
对绝大多数设备而言，其位于设置页面底部的 <strong>关于手机</strong>
内。不过找到它的最佳方法是使用搜索框。</section></section><section id=subsec:enable-usb-debugging class=level3 data-number=3.1.2><h3 data-number=3.1.2><span class=header-section-number>3.1.2</span>
<a href=#toc:subsec:enable-usb-debugging>启用USB调试</a><a href=#subsec:enable-usb-debugging class=anchor aria-hidden=true></a></h3><p>在 <a href=#subsubsec:location-of-developer-options>定位开发者选项</a> 后，
启用 <strong>开发者选项</strong> (如果尚未启用)。然后一点点往下划，
直到你看见 <strong>USB 调试</strong> 选项。点击右侧的切换按钮启用它。
此时你可能会看见一个需要点击 <em>OK</em> 按钮才能实际启用 USB
调试的警示信息。
基于设备供应商和ROM，你可能还需要启用一些其他的选项。以下是一些例子：<section id=小米-miui class=level4 data-number=3.1.2.1><h4 data-number=3.1.2.1><span class=header-section-number>3.1.2.1</span> 小米 (MIUI)<a href=#小米-miui class=anchor aria-hidden=true></a></h4><p>同时启用 <strong>USB 调试 (安全设置)</strong> 。</section><section id=华为-emui class=level4 data-number=3.1.2.2><h4 data-number=3.1.2.2><span class=header-section-number>3.1.2.2</span> 华为 (EMUI)<a href=#华为-emui class=anchor aria-hidden=true></a></h4><p>也启用 <strong>允许在仅充电模式下进行 ADB 调试</strong> 。
当连接到你的 PC 或 Mac 设备时，你可能会看到
<strong>是否允许访问设备数据？</strong> 的提示。 无论哪种情况，请点击
<strong>是，允许访问</strong>。<div class="amalert tip"><p><strong><em>注意.</em></strong><p><strong>USB 调试</strong>
模式经常会被系统自动禁止。遇到此情况时，请重复上述步骤。</div></section><section id=真我-realme class=level4 data-number=3.1.2.3><h4 data-number=3.1.2.3><span class=header-section-number>3.1.2.3</span> 真我 (Realme)<a href=#真我-realme class=anchor aria-hidden=true></a></h4><p>基于设备和操作系统版本，你需要启用 <strong>禁用权限监视</strong> 或
<strong>USB 调试 (安全设置)</strong> 以及 <strong>从 USB 安装</strong>
选项。</section><section id=一加-oxygen-os class=level4 data-number=3.1.2.4><h4 data-number=3.1.2.4><span class=header-section-number>3.1.2.4</span> 一加 (Oxygen OS)<a href=#一加-oxygen-os class=anchor aria-hidden=true></a></h4><p>基于设备和操作系统版本，你需要启用
<strong>禁用权限监视</strong>。</section><section id=lg class=level4 data-number=3.1.2.5><h4 data-number=3.1.2.5><span class=header-section-number>3.1.2.5</span> LG<a href=#lg class=anchor aria-hidden=true></a></h4><p>确认你已启用 <strong>USB 网络共享</strong>。</section><section id=故障排除 class=level4 data-number=3.1.2.6><h4 data-number=3.1.2.6><span class=header-section-number>3.1.2.6</span> 故障排除<a href=#故障排除 class=anchor aria-hidden=true></a></h4><p>当 <strong>USB 调试</strong> 为灰色时，你可以执行以下步骤：<ol class=incremental><li><p>在通过 USB 数据线连接你的手机到 PC 或者 Mac 前，确认你已开启 USB
调试；<li><p>在通过 USB 数据线连接到 PC 或 Mac 后启用 USB 网络共享；<li><p>(对三星设备而言)
若你的设备正在运行KNOX，你可能需要执行一些额外步骤。
参考官方文档或咨询官方客服以获得更多支持。</ol></section></section><section id=subsec:setup-adb-on-pc-or-mac class=level3 data-number=3.1.3><h3 data-number=3.1.3><span class=header-section-number>3.1.3</span>
<a href=#toc:subsec:setup-adb-on-pc-or-mac>在PC或Mac上配置ADB</a><a href=#subsec:setup-adb-on-pc-or-mac class=anchor aria-hidden=true></a></h3><p>为了使用通过 TCP 启动 ADB 功能，你需要在你的 PC 或 Mac
设备上安装并设置 ADB。 <strong><em>Lineage OS 用户可参考 §<a href=#subsubsec:lineage-os data-reference-type=ref data-reference=subsubsec:lineage-os>3.1.4.1</a>。</em></strong><section id=windows class=level4 data-number=3.1.3.1><h4 data-number=3.1.3.1><span class=header-section-number>3.1.3.1</span> Windows<a href=#windows class=anchor aria-hidden=true></a></h4><ol class=incremental><li><p>下载最新的 <a href=https://dl.google.com/android/repository/platform-tools-latest-windows.zip>Android
SDK 平台工具</a> 的 Windows 版本。<li><p>解压 ZIP 文件的内容到任意目录 (例如
<code>C:\</code><span><code>adb</code></span>)，然后用
<em>文件资源管理器</em> 导航到 (转到/打开) 该目录。<li><p>在此目录中打开 <strong>命令提示符</strong>、
<strong>PowerShell</strong> 或 <strong>终端</strong>。
你可以手动从开始菜单打开， 或者按住 <code>Shift</code>
键，打开目录，在目录内用 <em>文件资源管理器</em> 右键单击，然后单击
<em>在此处打开命令窗口</em> 或者 <em>在此处打开 PowerShell 窗口</em>
(取决于你安装的软件)。 现在你可以通过输入 <code>adb</code>
(在命令提示符中) 或者是 <code>./adb</code> (在PowerShell中) 的方式访问
ADB。 请不要关闭此窗口。</ol><div class="amalert tip"><p><strong><em>Tip.</em></strong><p>如果你已经安装了 <a href=https://learn.microsoft.com/en-us/windows/package-manager/winget/>WinGet</a>
，你可以使用以下命令安装 ADB：<div class=sourceCode id=cb3 data-frame=lines><pre class="sourceCode bash"><code class="sourceCode bash"><span id=cb3-1><a href=#cb3-1 aria-hidden=true tabindex=-1></a> <span class=ex>winget</span> install <span class=at>--id</span> Google.PlatformTools</span></code></pre></div><p>完毕后，你只需输入 <code>adb</code> 就可访问 ADB。</div></section><section id=macos class=level4 data-number=3.1.3.2><h4 data-number=3.1.3.2><span class=header-section-number>3.1.3.2</span> macOS<a href=#macos class=anchor aria-hidden=true></a></h4><ol class=incremental><li><p>下载最新版本的 <a href=https://dl.google.com/android/repository/platform-tools-latest-darwin.zip>Android
SDK 平台工具</a> 的 macOS 版本。<li><p>点击它以解压 ZIP 文件的内容到目录。然后用 <em>Finder</em>
导航到该目录并定位 <code>adb</code>。<li><p>使用 <em>Launchpad</em> 或 <em>Spotlight</em> 打开
<strong>终端</strong>， 然后将 <code>adb</code> 从 <em>Finder</em>
窗口拖到 <code>adb</code> 到 <em>终端</em> 窗口并松开。 请不要关闭
<em>终端</em> 窗口。</ol><div class="amalert tip"><p><strong><em>Tip.</em></strong><p>如果你已经安装了 <a href=https://brew.sh>Homebrew</a>，你可以用下列命令安装 ADB:<div class=sourceCode id=cb4 data-frame=lines><pre class="sourceCode bash"><code class="sourceCode bash"><span id=cb4-1><a href=#cb4-1 aria-hidden=true tabindex=-1></a><span class=ex>brew</span> install <span class=at>--cask</span> android-platform-tools</span></code></pre></div><p>完毕后，你只需在任意 <em>终端</em> 窗口中输入 <code>adb</code>
即可访问 access ADB。</div></section><section id=linux class=level4 data-number=3.1.3.3><h4 data-number=3.1.3.3><span class=header-section-number>3.1.3.3</span> Linux<a href=#linux class=anchor aria-hidden=true></a></h4><ol class=incremental><li><p>在你喜欢的终端模拟器中，运行如下命令<div class=sourceCode id=cb5 data-frame=lines data-autogobble><pre class="sourceCode bash"><code class="sourceCode bash"><span id=cb5-1><a href=#cb5-1 aria-hidden=true tabindex=-1></a><span class=bu>cd</span> ~/Downloads <span class=kw>&amp;&amp;</span> <span class=ex>curl</span> <span class=at>-o</span> platform-tools.zip <span class=at>-L</span> <span class=dt>\</span></span>
<span id=cb5-2><a href=#cb5-2 aria-hidden=true tabindex=-1></a>https://dl.google.com/android/repository/platform-tools-latest-linux.zip <span class=kw>&amp;&amp;</span> <span class=dt>\</span></span>
<span id=cb5-3><a href=#cb5-3 aria-hidden=true tabindex=-1></a><span class=fu>unzip</span> platform-tools.zip <span class=kw>&amp;&amp;</span> <span class=fu>rm</span> platform-tools.zip <span class=kw>&amp;&amp;</span> <span class=bu>cd</span> platform-tools</span></code></pre></div><li><p>若成功，你只需在 <em>同一个</em> 终端模拟器窗口内输入
<code>./adb</code> 或者在任意的模拟器输入
<code>~/Downloads/platform-tools/adb</code> 就可以访问 ADB。</ol></section></section><section id=subsec:configure-adb-over-tcp class=level3 data-number=3.1.4><h3 data-number=3.1.4><span class=header-section-number>3.1.4</span>
<a href=#toc:subsec:configure-adb-over-tcp>配置经由TCP的ADB</a><a href=#subsec:configure-adb-over-tcp class=anchor aria-hidden=true></a></h3><section id=subsubsec:lineage-os class=level4 data-number=3.1.4.1><h4 data-number=3.1.4.1><span class=header-section-number>3.1.4.1</span> Lineage OS 17.1
及更早版本<a href=#subsubsec:lineage-os class=anchor aria-hidden=true></a></h4><p>Lineage OS (或其衍生ROM) 用户可直接通过开发者选项启用通过 TCP 启动
ADB 功能。 若要启用，请前往
<strong>开发者选项</strong>，下划，直到你找到 <strong>通过网络启动
ADB</strong>。 现在，点击右侧的切换按钮以启用它并跳转至 §<a href=#subsubsec:adb-mode-in-app-manager data-reference-type=ref data-reference=subsubsec:adb-mode-in-app-manager>3.1.4.3</a><span>在
App Manager 内的 ADB 模式</span>。<div class="amalert warning"><p><strong><em>Warning.</em></strong><p>你可以在开发者选项中关闭 <strong>ADB over
Network</strong>，但关闭该选项也会停止 App Manager
的服务器。因此，请只在你不打算在 ADB over TCP 模式下使用 App Manager
时关闭它。</div></section><section id=subsubsec:enable-adb-over-tcp-via-pc-or-mac class=level4 data-number=3.1.4.2><h4 data-number=3.1.4.2><span class=header-section-number>3.1.4.2</span> 在 PC 或 Mac 上启用
经由TCP的ADB<a href=#subsubsec:enable-adb-over-tcp-via-pc-or-mac class=anchor aria-hidden=true></a></h4><p>对于其他ROM，你可以通过在前面章节中的步骤3打开的命令提示符/PowerShell/终端模拟器进行操作。
在此节中，我将使用 <code>adb</code> 表示 <code>./adb</code>，
<code>adb</code>
或其他你需要使用的任何命令基于前面的章节中你使用的平台和软件。<ol class=incremental><li><p>使用数据线连接你的设备到你的 PC 或 Mac。For some devices, it is
necessary to turn on 对某些设备而言，有必要同时启用 <em>文件传输模式
(MTP)</em>。<li><p>确认一切都按预期运行，在你的终端输入 <code>adb devices</code> 。
若你的设备已成功连接，则你会看到像这样的内容：<pre><code>List of devices attached
xxxxxxxx device</code></pre><div class="amalert tip"><p><strong><em>注意.</em></strong><p>在某些 Android 手机中，会出现这样的提示信息：<strong>允许 USB
调试吗？</strong> 无论什么情况，勾选 <em>始终允许此计算机进行调试</em>
然后点击 <strong>允许</strong>。</div><li><p>最终，运行下面的命令以启用通过 TCP 启用 ADB 功能。:<div class=sourceCode id=cb7 data-frame=lines data-autogobble><pre class="sourceCode bash"><code class="sourceCode bash"><span id=cb7-1><a href=#cb7-1 aria-hidden=true tabindex=-1></a><span class=ex>adb</span> tcpip 5555</span></code></pre></div></ol><div class="amalert danger"><p><strong><em>危险.</em></strong><p>在启用通过 TCP 启用 ADB 功能后，你不能禁用开发者选项或者 USB
调试。</div></section><section id=subsubsec:adb-mode-in-app-manager class=level4 data-number=3.1.4.3><h4 data-number=3.1.4.3><span class=header-section-number>3.1.4.3</span> 在 App Manager 中启用 ADB
模式<a href=#subsubsec:adb-mode-in-app-manager class=anchor aria-hidden=true></a></h4><p>在启用通过 TCP 启动 ADB后，重新启动 App Manager。App Manager
应该会自动检测到 ADB 模式。 若不能，你可以在 <a href=#subsec:mode-of-operation>设置页面</a> 更换操作模式为通过 TCP
启动 ADB 模式。 你也可以在此处验证 App Manager 是否与 <em>推断模式</em>
显示的一样正确检测到 ADB。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>在某些 Android 设备中，在连接到 App Manager 前，可能需要将 USB
数据线从 PC 断开。</div><div class="amalert warning"><p><strong><em>警告.</em></strong><p>通过 TCP 启动 ADB 在重启时会被禁用。对于这种情况，你需要按照 §<a href=#subsubsec:enable-adb-over-tcp-via-pc-or-mac data-reference-type=ref data-reference=subsubsec:enable-adb-over-tcp-via-pc-or-mac>3.1.4.2</a><span>在
PC 或 Mac 上启用通过 TCP 启动 ADB 模式</span> 的步骤再度操作。</div></section></section></section><section id=sec:wireless-debugging class=level2 data-number=3.2><h2 data-number=3.2><span class=header-section-number>3.2</span> <a href=#toc:sec:wireless-debugging>无线调试</a><a href=#sec:wireless-debugging class=anchor aria-hidden=true></a></h2><p>若你的设备运行 Android 11 及更高版本，或稍后能够连接到 Wi-Fi
网络至少几分钟， 则推荐使用无线调试方法，因为比起 <a href=#sec:adb-over-tcp>提供 TCP 启动 ADB</a> 它提供更多保护。
它需要两个步骤：<ol class=incremental><li><p><strong>ADB 匹配</strong> 对新手用户而言有一点复杂的初始步骤
幸运的是，该步骤并不总是每次都需要进行。<li><p><strong>.</strong><span>连接到 ADB</span>
每次你重启手机后都需要进行该操作。App Manager
在多数设备上也可以自动完成此步骤。</ol><section id=subsec:enable-developer-options-and-usb-debugging class=level3 data-number=3.2.1><h3 data-number=3.2.1><span class=header-section-number>3.2.1</span>
<a href=#toc:subsec:enable-developer-options-and-usb-debugging>启用开发者选项和
USB 调试</a><a href=#subsec:enable-developer-options-and-usb-debugging class=anchor aria-hidden=true></a></h3><p>参阅 §<a href=#subsec:enable-developer-options data-reference-type=ref data-reference=subsec:enable-developer-options>3.1.1</a><span>启用开发者选项</span>
和 §<a href=#subsec:enable-usb-debugging data-reference-type=ref data-reference=subsec:enable-usb-debugging>3.1.2</a><span>启用 USB
调试</span>。</section><section id=subsec:enable-wireless-debugging class=level3 data-number=3.2.2><h3 data-number=3.2.2><span class=header-section-number>3.2.2</span>
<a href=#toc:subsec:enable-wireless-debugging>启用无线调试</a><a href=#subsec:enable-wireless-debugging class=anchor aria-hidden=true></a></h3><p>在 <strong>开发者选项</strong> 页面，找到 <strong>无线调试</strong>
并单击以打开它。 在新打开的页面中，打开 <em>使用无线调试</em>
。取决于你的操作系统，你可能会看到一个提示对话框，要求你验证你的决定。
若遇到此情况，请单击 <em>允许</em> 。<div class="amalert tip"><p><strong><em>提示.</em></strong><p>为了更便于访问，你可能想将 <strong>无线调试</strong> 添加到通知块部件
(快速设置磁贴)。 要做到这一点，请找到 <strong>开发者选项</strong> 页面的
<strong>快速设置开发者磁贴</strong> ，单击以打开它。 在新窗口中，启用
<em>无线调试</em>。然而该选项在大多数操作系统中不可用。
如果你没看到这个设置，你可以在磁贴自定义面板中找到
<strong>无线调试</strong> 磁贴。</div></section><section id=subsec:pair-adb-with-app-manager class=level3 data-number=3.2.3><h3 data-number=3.2.3><span class=header-section-number>3.2.3</span>
<a href=#toc:subsec:pair-adb-with-app-manager>用 App Manager 匹配
ADB</a><a href=#subsec:pair-adb-with-app-manager class=anchor aria-hidden=true></a></h3><p>在 App Manager 中，转到 <strong>设置</strong> > <a href=#subsec:mode-of-operation>操作模式</a> ，接着开启
<em>无线调试</em>。启用后，App Manager 会试着自动建立
无线调试连接，如果先前未配对，那么该尝试会失败。尝试失败后，
应用会请你连接或配对 ADB。选择<em>配对</em> 会出现新的对话框。
对话框会让你转到 <strong>无线调试</strong> 页面。<div class="amalert tip"><p><strong><em>注.</em></strong><p>截至 v4.0.0 版， App Manger 使用通知提示进行配对。因而，如果你停用了
App Manager 的通知权限，你必须先启用它。.</div><p>在<strong>无线调试</strong> 页面， 选择
<strong>用配对码配对设备</strong>. 之后会展示
一个包含配对码的对话框。一个请求配对码的通知也会几乎立马变得可见。
将配对码输入通知中的输入框， 单击 <em>配对</em>。如配对成功，App Manager
会显示 “已配对” 的消息通知， <strong>无线调试</strong>
页中的对话框将被自动 忽略。你也可以在相同页面中看到 App Manager 被列为
ADB 客户端。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>如果你有一段时间不在 ADB 模式下使用 App Manager，那么 App Manager
可能会从 Adb
客户端列表中被删除。如果出现这种情况，你必须重复以上步骤。</div></section><section id=subsec:connect-app-manager-to-adb class=level3 data-number=3.2.4><h3 data-number=3.2.4><span class=header-section-number>3.2.4</span>
<a href=#toc:subsec:connect-app-manager-to-adb>连接 App Manager 到
ADB</a><a href=#subsec:connect-app-manager-to-adb class=anchor aria-hidden=true></a></h3><p>若运行模式设置为 <em>自动</em>, <em>通过 TCP 启动的 ADB</em> 或
<em>无线调试</em>， App Manager 应该能够自动连接到 ADB。
若并非如此，则在<strong>设置</strong> > <a href=#subsec:mode-of-operation>操作模式</a> 中选择 <em>无线调试</em>
。 若 App Manager 无法检测或连接到 ADB ，
则会显示一个提示对话框以用于连接或配对 ADB 。 选择 <em>连接</em> 。<p>现在，从 Android 设置中转到 <strong>无线调试</strong>
页面，记下页面显示的端口号。 在 App Manager 的提示对话框中，
用你记下的端口号替换当前端口号，然后点击 <em>连接</em> 。<p>一旦成功建立连接，你就能够禁用 Android 设置的
<strong>无线调试</strong>。<div class="amalert danger"><p><strong><em>小心.</em></strong><p>不要禁用 <strong>USB 调试</strong> 或 §<a href=#subsec:enable-developer-options-and-usb-debugging data-reference-type=ref data-reference=subsec:enable-developer-options-and-usb-debugging>3.2.1</a><span>启用开发者选项和
USB 调试</span> 提及的任何附加选项。 一旦禁用，App Manager
使用的远程服务器会被终止，你可能不得不重新开始。</div></section></section><section id=sec:backup-restore class=level2 data-number=3.3><h2 data-number=3.3><span class=header-section-number>3.3</span> <a href=#toc:sec:backup-restore>备份/恢复</a><a href=#sec:backup-restore class=anchor aria-hidden=true></a></h2><p>App Manager 具有从零开始的现代、高级和易于使用的备份/还原系统实现。
可能仅本应用有能力 同时还原应用程序和数据以及你在 App Manager
内配置的权限和规则。 你还可以选择多次备份应用程序 (使用自定义名称)
或为所有用户进行备份。<div class=seealso><p><em>另见:</em><ul class=incremental><li><p><a href=#subsec:1-click-back-up>一键操作：备份</a><li><p><a href=#subsec:1-click-restore>一键操作：还原</a></ul></div><section id=subsec:backup-location class=level3 data-number=3.3.1><h3 data-number=3.3.1><span class=header-section-number>3.3.1</span>
<a href=#toc:subsec:backup-location>位置</a><a href=#subsec:backup-location class=anchor aria-hidden=true></a></h3><p>备份/还原是 <a href=#subsec:batch-operations>批处理操作</a>
的一部分。 它也位于 <a href=#subsec:app-info-tab>应用信息标签页</a> 的
<a href=#subsubsec:app-info-options-menu>选项菜单</a> 中。 Clicking on
<strong>Backup/Restore</strong> opens the <strong>Backup
Options</strong>. 默认情况下，备份存放在
<code>/storage/emulated/0/AppManager</code> 。 你可以在 <a href=#subsubsec:backup-volume>设置页面</a> 配置自定义的备份位置。
无论如何配置，备份都会存放在所选卷的 <code>AppManager</code>
文件夹。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>若一个或多个应用程序并没有任何备份， 则不会显示 <strong>还原</strong>
和 <strong>删除备份</strong> 选项。</div></section><section id=subsec:backup-restore-backup-options class=level3 data-number=3.3.2><h3 data-number=3.3.2><span class=header-section-number>3.3.2</span>
<a href=#toc:subsec:backup-restore-backup-options>备份选项</a><a href=#subsec:backup-restore-backup-options class=anchor aria-hidden=true></a></h3><p>你可以通过备份选项 (内部称为备份标志) 自定义云端备份。
然而，在将来的备份中不会记得这些自定义设置。 如果你想定制此对话框，在 <a href=#sec:settings-page>设置页面</a> 中使用 <a href=#subsubsec:settings-backup-options>备份选项</a>。<p>下面给出了备份选项的完整描述：<ul class=incremental><li><p><strong>APK 文件</strong> 是否备份 APK 文件。 这包括 <em>Base
APK</em> 文件以及 <code>APK 分包</code> 文件 (如果有)。<li><p><strong>内部数据</strong> 是否备份内部数据目录。 这些目录位于
<code>/data/user/&lt;用户ID></code> 以及 (对 Android 7 及更高版本)
<code>/data/user_de/&lt;用户ID></code>.<li><p><strong>外部数据</strong> 是否备份位于内部存储和SD 卡 (如果有)
的数据目录。 外部数据目录通常包括非必要的应用数据或媒体文件
(而不是使用专用的媒体文件夹)，若选择备份则可能增加备份文件的大小。
然而，对一些应用来说可能是有必要的。 尽管默认情况下不会选中该项
(因为它可能会显著增加备份文件的大小)，你可能需要检查此项以确保能够顺利还原你的备份。<div class="amalert warning"><p><strong><em>小心.</em></strong><p>若你要备份外部数据文件夹，则应该总是备份内部数据文件夹。
然而，如果所讨论的应用会从网络下载大量资源，那么仅备份外部文件夹也会很有用。</div><li><p><strong>OBB 和媒体</strong> 是否备份或还原 OBB 和位于 外部存储或
SD 卡的媒体。
这对实际使用这些文件夹的游戏和图形软件而言很有用。<li><p><strong>缓存</strong> Android 应用在每个数据目录 (内部和外部)
中都有多个缓存目录。 有两种类型的缓存： <strong>缓存 (Cache)</strong> 和
<strong>代码缓存 (Code Cache)</strong>。
禁用此选项会将这两个缓存目录从所有数据目录中排除。
一般情况下建议排除缓存目录，因为大多数应用程序并不会定期清除缓存，缓存通常是由操作系统自身处理。
像 Telegram
之类的应用可能会使用非常大的缓存(由存储空间决定)，这显著增加了备份文件大小。
当该项被禁用时，App Manager 也会忽略 <strong>no_backup</strong>
(无备份)目录。<li><p><strong>额外信息</strong>
备份/还原应用权限、网络规则、电池优化、SSAID，等等，默认启用。
注意：阻止规则在还原应用的额外信息 <em>后</em> 应用。
所以，如果某个条目在两个地方(阻止规则和额外信息备份)同时存在，那么它将会被覆盖。(即会使用源自阻止规则的条目)。<li><p><strong>规则</strong> 你可以通过该选项备份在 App Manager
内配置的阻止规则。 若你通过 App Manager
配置了权限或阻止了一些组件，则当你启用该选项时，
这些规则也会被备份或还原。<li><p><strong>多重备份</strong> 这是否为多重备份。
默认情况下，备份使用其用户 ID 保存。 启用该选项将允许你创建多个备份。
这些备份使用当前的时间日期作为默认备份名称，但你也可以指定自定义备份名称。
当你点击 <strong>备份</strong>
按钮时，使用输入框以自定义备份名称。<li><p><strong>自定义用户</strong>
为所选的用户进行备份或还原，而不仅仅是当前用户。
该选项仅在系统有多个用户的情况下显示。<li><p><strong>跳过签名检查</strong>
当进行备份时，会生成每个文件的检验和 (以及基础 APK 文件的签名证书)
并保存在 <code>checksums.txt</code> 文件中。
当你还原备份时，会再度生成检验和，并用于匹配保存在先前提及的文件内的检验和。
启用此选项以禁用签名检查。 该选项仅在你恢复备份时被应用
(即启用该选项仅禁用恢复时的签名检查)。
无论此处如何设置，备份时始终会生成用于签名检查的检验和。<div class="amalert warning"><p><strong><em>小心.</em></strong><p>你应该总是禁用此选项，以确保你的备份不被任何第三方应用程序修改。
然而仅在你启用了加密才起作用。</div></ul><div class=seealso-inline><p><em>另见: <span><a href=#subsubsec:settings-encryption>设置：加密</a></span></em></div></section><section id=subsec:backup-restore-backup class=level3 data-number=3.3.3><h3 data-number=3.3.3><span class=header-section-number>3.3.3</span>
<a href=#toc:subsec:backup-restore-backup>备份</a><a href=#subsec:backup-restore-backup class=anchor aria-hidden=true></a></h3><p>备份功能会遵守除了 <strong>跳过签名检查</strong> 以外的所有备份选项。
若基本备份 (即并未选择<strong>多重备份</strong> 选项)
已存在，由于备份会被覆盖，你会看到一条警告信息。 若设置了
<strong>多重备份</strong>
，你需要在选项中输入(指定)备份名称，或者你也可以留空以使用当前日期时间作为备份名称。</section><section id=subsec:backup-restore-restore class=level3 data-number=3.3.4><h3 data-number=3.3.4><span class=header-section-number>3.3.4</span>
<a href=#toc:subsec:backup-restore-restore>恢复</a><a href=#subsec:backup-restore-restore class=anchor aria-hidden=true></a></h3><p>还原会遵守全部备份选项，并在出现以下情况时失败：若设置了 <strong>APK
文件</strong> 选项， 备份内容却不包括 APK
文件选项设定的内容，或者其他情况下，未安装该应用程序。
当为多个应用还原备份时，你只能选择还原基础备份 (参阅 <a href=#subsec:backup-restore-backup>备份</a> 章节以了解更多)。
然而，当为单个应用程序还原备份时，你需要通过选项选择还原哪个备份。
若设定了 <strong>所有用户</strong> 选项，则 App Manager
将在后一种情况为所有用户还原所选备份。但是在前一种情况中，将会为各个用户还原基础备份。<div class="amalert tip"><p><strong><em>注意.</em></strong><p>使用存储访问框架 (Storage Access Framework 即 SAF)、SSAID 或 Android
密钥库只有在还原并立即重新启动后正常工作。</div></section><section id=subsec:backup-restore-delete-backup class=level3 data-number=3.3.5><h3 data-number=3.3.5><span class=header-section-number>3.3.5</span>
<a href=#toc:subsec:backup-restore-delete-backup>删除备份</a><a href=#subsec:backup-restore-delete-backup class=anchor aria-hidden=true></a></h3><p>删除备份仅遵守 <strong>所有用户</strong>
选项。当被选中时，仅会提示后删除所有用户的基础备份。
当为单个应用删除备份时，会显示另外一个可供你选择要删除的备份的对话框。</section></section><section id=sec:automating-tasks class=level2 data-number=3.4><h2 data-number=3.4><span class=header-section-number>3.4</span> <a href=#toc:sec:automating-tasks>自动任务</a><a href=#sec:automating-tasks class=anchor aria-hidden=true></a></h2><p>可以通过诸如 <strong>Automation</strong> 或 <strong>Tasker</strong>
之类的第三方应用程序触发在 App Manager 设置的配置文件。 通常情况下用
<code>意图</code> 触发这类操作。<section id=subsec:generating-authorization-key class=level3 data-number=3.4.1><h3 data-number=3.4.1><span class=header-section-number>3.4.1</span>
<a href=#toc:subsec:generating-authorization-key>生成授权密钥</a><a href=#subsec:generating-authorization-key class=anchor aria-hidden=true></a></h3><p>为了确保适当的安全性，需要授权密钥。前往 <strong>设置</strong>
页面，接着是 <strong>隐私</strong> > <strong>授权管理器</strong>
以生成授权密钥。
若并未生成过授权密钥，则会自动生成。该密钥可根据需求重新生成。<div class="amalert danger"><p><strong><em>小心.</em></strong><p>重新生成授权密钥可能会产生一些副作用，比如说令所有先前配置的意图失效。</div></section><section id=subsec:at:general-configuration class=level3 data-number=3.4.2><h3 data-number=3.4.2><span class=header-section-number>3.4.2</span>
<a href=#toc:subsec:at:general-configuration>配置任务</a><a href=#subsec:at:general-configuration class=anchor aria-hidden=true></a></h3><p>活动
<code>io.github.muntashirakon.AppManager.crypto.auth.AuthFeatureDemultiplexer</code>
负责处理所有的自动化意图。 发送意图到该活动，让 App Manager 通过重定向
<code>意图</code> 到指定活动或服务的方式执行指定操作。<section id=需求的附加选项 class=level4 data-number=3.4.2.1><h4 data-number=3.4.2.1><span class=header-section-number>3.4.2.1</span> 需求的附加选项<a href=#需求的附加选项 class=anchor aria-hidden=true></a></h4><p>所有条件都需要两种主要的附加功能：密钥名称和数据类型。如下所示：<ol class=incremental><li><p><strong><code>auth</code>.</strong> (字符串值)
前一节所述的授权密钥。<li><p><strong><code>feature</code>.</strong> (字符串值)
功能名称。下一节将介绍受支持的功能。</ol></section></section><section id=subsec:at:features class=level3 data-number=3.4.3><h3 data-number=3.4.3><span class=header-section-number>3.4.3</span>
<a href=#toc:subsec:at:features>功能特性</a><a href=#subsec:at:features class=anchor aria-hidden=true></a></h3><p>目前 App Manager 支持的一个功能，即 <code>配置文件</code>。</section><section id=subsec:triggering-a-profile class=level3 data-number=3.4.4><h3 data-number=3.4.4><span class=header-section-number>3.4.4</span>
<a href=#toc:subsec:triggering-a-profile>触发配置文件</a><a href=#subsec:triggering-a-profile class=anchor aria-hidden=true></a></h3><p>为了触发配置文件， <code>feature</code> (功能) 字段必须具有
<code>profile</code> (配置文件) 值。 此外，接下来的 extras (额外选项)
可包括：<ol class=incremental><li><p><strong><code>prof</code>.</strong> (字符串值 – 必须) 显示在 <a href=#sec:profiles-page>配置页面</a> 的配置名称。<li><p><strong><code>state</code>.</strong> (字符串值 – 可选)
配置文件的状态 – 目前 <code>on</code> (启用) 或者 <code>off</code>
(禁用) – 如文档所述。. 若此时未设置额外选项，则 App Manager
会提示需要选择的状态。 因此，为了完全自动化，应该设置该选项。</ol></section></section><section id=sec:net-policy class=level2 data-number=3.5><h2 data-number=3.5><span class=header-section-number>3.5</span> <a href=#toc:sec:net-policy>连网策略</a><a href=#sec:net-policy class=anchor aria-hidden=true></a></h2><p>网络策略 (Network policies)，简写 <strong>Network policy</strong>。
网络策略通常位于 Android 设置的应用详情页面中的 <strong>移动数据和
WLAN</strong> 这一节的下面。 该页面中并非所有策略会被授权使用
(比如三星)，以及由于缺少文档，并非所有设置都能被很好地理解。 App Manager
可以显示所有在 <a href=https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/net/NetworkPolicyManager.java>网络策略管理器</a>
声明的网络策略。 对 App Manager 而言位置的策略会被加上 <em>Unknown</em>
前缀以及十六进制格式的策略常量名称和编号。 未知策略应报告给 App Manager
以供纳入。<p>网络策略允许用户配置应用的某些网络行为，而不是直接修改 IP
地址表和/或者使用防火墙应用。 然而，其提供的功能很大程度上依赖于 Android
版本和 ROM。已知网络规则列表如下所示：<ol class=incremental><li><p><strong>无</strong> 或 <strong><code>POLICY_NONE</code></strong>:
(AOSP) 并未设置特定的网络策略。
系统仍可通过应用程序的性质分配规则。<li><p><strong>禁止在后台使用移动数据 (流量计费的网络)</strong> 或
<strong><code>POLICY_REJECT_METERED_BACKGROUND</code></strong>: (AOSP)
当应用在后台运行时，禁止使用移动数据 (流量计费的网络)。<li><p><strong>允许后台使用移动数据
(流量计费的网络)，甚至在流量节省程序开启时</strong> 或
<strong><code>POLICY_ALLOW_METERED_BACKGROUND</code></strong>: (AOSP)
允许后台使用移动数据
(流量计费的网络)，甚至是启用流量节省模式的情况下。<li><p><strong>禁止移动数据 (蜂窝数据)</strong> 或
<strong><code>POLICY_REJECT_CELLULAR</code></strong> (Android 11+) 或
<strong><code>POLICY_REJECT_ON_DATA</code></strong> (直到 Android 10):
(Lineage OS) 禁止使用移动/蜂窝数据。
向配置的应用程序发出网络不可用的信号，就像未激活移动数据
(蜂窝数据)一样。<li><p><strong>禁止 VPN 数据</strong> 或
<strong><code>POLICY_REJECT_VPN</code></strong> (Android 11+) 或
<strong><code>POLICY_REJECT_ON_VPN</code></strong> (直到 Android 10):
(Lineage OS) 禁止使用 VPN 数据。
向配置的应用程序发出网络不可用的信号，就像未激活 VPN 一样。<li><p><strong>禁止 Wi-Fi 数据</strong> 或
<strong><code>POLICY_REJECT_WIFI</code></strong> (Android 11+) 或
<strong><code>POLICY_REJECT_ON_WLAN</code></strong> (直到 Android 10):
(Lineage OS) 禁止使用 Wi-Fi 数据。
向配置的应用程序发出网络不可用的信号，就像该设备未连接到 Wi-Fi
网络一样。<li><p><strong>禁用网络访问</strong> 或
<strong><code>POLICY_REJECT_ALL</code></strong> (Android 11+) 或
<strong><code>POLICY_NETWORK_ISOLATED</code></strong> (直到 Android 10):
(Lineage OS) 禁止所有情况下的网络访问。
这与执行上述其他三项策略不同，推荐对可疑/狡诈的应用而言使用该策略。.
若该策略被执行，则没有必要执行其他策略。<li><p><strong><code>POLICY_ALLOW_METERED_IN_ROAMING</code></strong>:
(三星) 可能是在漫游时允许使用移动数据 (流量计费的网络)。
目前不知道其确切含义。<li><p><strong><code>POLICY_ALLOW_WHITELIST_IN_ROAMING</code></strong>:
(三星) 可能是在漫游时允许使用网络。 目前不知道其确切含义。<li><p><strong>禁止使用移动数据 (流量计费的网络)</strong> 或
<strong><code>POLICY_REJECT_METERED</code></strong>: (摩托罗拉)
若是移动数据 (流量计费的网络) 则禁止使用网络。<li><p><strong>禁止使用后台数据</strong> 或
<strong><code>POLICY_REJECT_BACKGROUND</code></strong>: (摩托罗拉)
禁止后台使用数据。<li><p><strong>禁用网络访问</strong> or
<strong><code>POLICY_REJECT_ALL</code></strong>: (摩托罗拉)
禁止所有的网络访问。 与 Lineage OS 类似，会通过 iptables (防火墙)
阻止网络连接。但不知道它是否向配置的应用程序发出网络不可用的信号。</ol><div class="amalert tip"><p><strong><em>注释.</em></strong><p>相应的 Lineage OS 补丁如下：<ol class=incremental><li><p><a href=https://github.com/LineageOS/android_frameworks_base/commit/a04932bafbbf7d99efd18276152cc2c9c9b2073e>fw/b:
Squash of app fw restriction commits</a><li><p><a href=https://github.com/LineageOS/android_frameworks_base/commit/02c8c82854348f52afe2199f310f44b5f578b5b8>fw/b:
Add support for per app network isolation</a></ol></div></section></section><section id=ch:faq class=level1 data-number=4><h1 data-number=4><span class=header-section-number>4</span> <a href=#toc:ch:faq>常见问题</a><a href=#ch:faq class=anchor aria-hidden=true></a></h1><section id=sec:faq:app-components class=level2 data-number=4.1><h2 data-number=4.1><span class=header-section-number>4.1</span> <a href=#toc:sec:faq:app-components>应用组件</a><a href=#sec:faq:app-components class=anchor aria-hidden=true></a></h2><section id=subsec:faq:what-are-app-components class=level3 data-number=4.1.1><h3 data-number=4.1.1><span class=header-section-number>4.1.1</span>
<a href=#toc:subsec:faq:what-are-app-components>什么是应用组件？</a><a href=#subsec:faq:what-are-app-components class=anchor aria-hidden=true></a></h3><p>活动、服务、广播接收器 (或者仅接收器) 和内容提供者 (或仅提供者)
统称为应用程序组件。 技术上来说，它们都继承了 <a href=https://developer.android.com/reference/android/content/pm/ComponentInfo>ComponentInfo</a>
类 并可以通过意图被启动。</section><section id=subsec:faq:how-components-blocked class=level3 data-number=4.1.2><h3 data-number=4.1.2><span class=header-section-number>4.1.2</span>
<a href=#toc:subsec:faq:how-components-blocked>追踪器和其他组件在App
Manager中是如何被禁用的？其局限性是什么？</a><a href=#subsec:faq:how-components-blocked class=anchor aria-hidden=true></a></h3><p>App Manager 通常使用一个称作 <a href=https://carteryagemann.com/pages/android-intent-firewall.html>Intent
Firewall (IFW)，意图防火墙</a> 的方法阻止应用程序组件 (或跟踪器组件)，
它比其他诸如 <em>pm</em> (PackageManager，包管理器)、 <a href=https://github.com/RikkaApps/Shizuku>Shizuku</a>
或其他任何使用包管理器启用或禁用组件的办法更优秀。
若组件被后者的办法禁用，应用程序自身可以检测到组件被阻止并能重新启用，因为应用程序有自身组件的完整访问权限。
(许多欺骗性应用程序这样做，实际上是为了让跟踪器组件保持不被阻止的状态。)
另一方面，意图防火墙 (IFW)
是一个真正的防火墙，应用程序无法检测自身组件是否被阻止。 这也是 App
Manager 使用术语 <em>阻止</em> 而非 <em>禁用</em> 的原因。<p>就算是意图防火墙也有一些局限性，主要适用于系统应用程序：<ul class=incremental><li><p>相关应用程序被系统加入白名单。
即没有这些应用程序，系统将无法正常运行，并可能导致随机崩溃。
这些应用程序包括但不限于 Android 系统、系统界面、电话服务。
即使禁用或阻止，它们仍然会运行。<li><p>另外一部分系统应用程序或系统进程通过进程间通信 (Interprocess
Communication，IPC) 激活了被加入白名单的系统应用程序的应用程序组件。
此情况下组件会被激活，并无视组件的阻止状态甚至是整个应用程序被禁用。
若有不需要的系统应用程序，阻止其运行的唯一办法就是摆脱
(卸载/移除)它。</ul></section><section id=subsec:faq:components-blocked-by-others class=level3 data-number=4.1.3><h3 data-number=4.1.3><span class=header-section-number>4.1.3</span>
<a href=#toc:subsec:faq:components-blocked-by-others>被其他工具禁用的应用程序组件是否保留在App
Manager中？</a><a href=#subsec:faq:components-blocked-by-others class=anchor aria-hidden=true></a></h3><p><strong>不。</strong>
但是被系统或任何其他工具阻止的应用程序组件会在<a href=#subsec:component-tabs>组件标签页</a> 显示。 这些规则可从 <a href=#par:import-existing-rules>设置</a> 导入。 然而，App Manager
无法区分组件是被第三方工具阻止还是被系统阻止。
因此，在导入页面中显示的应用程序列表应谨慎选择。</section><section id=subsec:faq:components-reblocked-in-am class=level3 data-number=4.1.4><h3 data-number=4.1.4><span class=header-section-number>4.1.4</span>
<a href=#toc:subsec:faq:components-reblocked-in-am>现在被 App Manager
拦截但先前被其他工具禁用的组件会发生什么？</a><a href=#subsec:faq:components-reblocked-in-am class=anchor aria-hidden=true></a></h3><p><em>如果请求，App Manager 会再次阻止组件。</em>
解除阻止的情况下，它们将恢复到应用程序清单中指定的默认状态。
但是如果组件是被 <a href=https://www.myandroidtools.com>MyAndroidTools
(MAT)</a> 使用意图防火墙 (IFW) 阻止， 由于 MAT
使用不同的格式，它们不会被 App Manager 解除阻止。
为了修复这个问题，首先需要从 <a href=#par:import-existing-rules>设置</a> 导入规则 这种情况下，MAT
的配置文件会被永久移除。</section><section id=subsec:faq:what-is-instant-component-blocking class=level3 data-number=4.1.5><h3 data-number=4.1.5><span class=header-section-number>4.1.5</span>
<a href=#toc:subsec:faq:what-is-instant-component-blocking>什么是即时组件禁用？</a><a href=#subsec:faq:what-is-instant-component-blocking class=anchor aria-hidden=true></a></h3><p>当你在 <a href=#sec:app-details-page>应用详情页</a>
中阻止组件时，默认情况下阻止规则不会立刻生效。 仅在你使用顶部右侧菜单的
<em>应用规则</em> 选项时，阻止规则才会生效。 若你启用 <a href=#subsubsec:instant-component-blocking>即时阻止组件</a>
选项，则当你阻止组件时，阻止规则会立刻生效。
若你选择阻止跟踪器组件，阻止规则会自动生效，该选项设置会被忽略。
你也可以通过在应用详情页内同一菜单简单点击 <em>移除规则</em>
为该应用程序移除阻止规则。 由于默认行为使你更好地控制应用程序，保持选项
<em>即时阻止组件</em> 选项为禁用状态更好。</section><section id=subsec:tracker-classes-versus-tracker-components class=level3 data-number=4.1.6><h3 data-number=4.1.6><span class=header-section-number>4.1.6</span>
<a href=#toc:subsec:tracker-classes-versus-tracker-components>跟踪器类与跟踪器组件</a><a href=#subsec:tracker-classes-versus-tracker-components class=anchor aria-hidden=true></a></h3><p>所有应用程序组件都是类，但并非所有类都是组件。事实上，只有少数类是组件。
话虽如此， <a href=#sec:scanner-page>扫描页面</a>
展示的是跟踪器列表以及类的数量，而并非只是组件数。
在所有其他页面，跟踪器和跟踪器组件是同一个意思，都用于表示跟踪器。
即：阻止 tracker 是指阻止跟踪器组件，而不是跟踪器类。<div class="amalert tip"><p><strong><em>信息.</em></strong><p>无法阻止并非组件的跟踪器类。它们仅能在编辑应用程序自身时被移除。</div></section></section><section id=sec:faq:adb-over-tcp class=level2 data-number=4.2><h2 data-number=4.2><span class=header-section-number>4.2</span> <a href=#toc:sec:faq:adb-over-tcp>ADB over TCP (经由TCP的ADB)</a><a href=#sec:faq:adb-over-tcp class=anchor aria-hidden=true></a></h2><section id=subsec:faq:enable-adb-on-every-restart class=level3 data-number=4.2.1><h3 data-number=4.2.1><span class=header-section-number>4.2.1</span>
<a href=#toc:subsec:faq:enable-adb-on-every-restart>我必须在每次重启后启用ADB
over TCP吗？</a><a href=#subsec:faq:enable-adb-on-every-restart class=anchor aria-hidden=true></a></h3><p>很不幸的是，是的。这是因为响应 ADB 连接的 ADB daemon (ADB 守护进程)
也会在重新启动后重新开始。 而这并不会重新启用通过 TCP运行的 ADB。</section><section id=subsec:faq:usb-debugging class=level3 data-number=4.2.2><h3 data-number=4.2.2><span class=header-section-number>4.2.2</span>
<a href=#toc:subsec:faq:usb-debugging>无法启用 USB
调试，怎么办？</a><a href=#subsec:faq:usb-debugging class=anchor aria-hidden=true></a></h3><p>参阅位于 Chapter <a href=#ch:guides data-reference-type=ref data-reference=ch:guides>3</a><span>指引</span> 的 §<a href=#subsec:enable-usb-debugging data-reference-type=ref data-reference=subsec:enable-usb-debugging>3.1.2</a><span>启用 USB
调试</span> 。</section><section id=subsec:faq:block-components-using-adb class=level3 data-number=4.2.3><h3 data-number=4.2.3><span class=header-section-number>4.2.3</span>
<a href=#toc:subsec:faq:block-components-using-adb>我可以使用 ADB over
TCP 来禁用跟踪器或任何其他应用程序组件吗？</a><a href=#subsec:faq:block-components-using-adb class=anchor aria-hidden=true></a></h3><p>ADB 具有数量限制 <a href=https://github.com/aosp-mirror/platform_frameworks_base/blob/master/packages/Shell/AndroidManifest.xml>权限</a>
而并非它们其中一个控制应用程序组件。 然而，<em>仅用于测试</em>
的应用程序的组件可以通过 ADB进行控制。 若 App Manager
检测到此类应用程序，则会自动启用阻止选项。</section><section id=subsec:faq:adb-features class=level3 data-number=4.2.4><h3 data-number=4.2.4><span class=header-section-number>4.2.4</span>
<a href=#toc:subsec:faq:adb-features>哪些功能可以在ADB模式下使用？</a><a href=#subsec:faq:adb-features class=anchor aria-hidden=true></a></h3><p>在 ADB 模式下，受支持的功能会自动启用。
受支持的功能包括禁用、强制停止、清除应用程序数据、授予或撤销应用操作
(App Ops) 和权限等。 也可在无系统提示的情况下安装或卸载应用程序。</section></section><section id=sec:faq:miscellanea class=level2 data-number=4.3><h2 data-number=4.3><span class=header-section-number>4.3</span> <a href=#toc:sec:faq:miscellanea>杂项</a><a href=#sec:faq:miscellanea class=anchor aria-hidden=true></a></h2><section id=subsec:faq:no-root-no-harms class=level3 data-number=4.3.1><h3 data-number=4.3.1><span class=header-section-number>4.3.1</span>
<a href=#toc:subsec:faq:no-root-no-harms>我不使用root/ADB，是否完全安全？</a><a href=#subsec:faq:no-root-no-harms class=anchor aria-hidden=true></a></h3><p>是的，App Manager 不能在无 Root 或 ADB时修改任何系统设置。</section><section id=subsec:faq:how-trackers-libs-updated class=level3 data-number=4.3.2><h3 data-number=4.3.2><span class=header-section-number>4.3.2</span>
<a href=#toc:subsec:faq:how-trackers-libs-updated>跟踪器和库是如何更新的？</a><a href=#subsec:faq:how-trackers-libs-updated class=anchor aria-hidden=true></a></h3><p>在新版本发布前，会手动更新跟踪器和库。</section><section id=subsec:faq:apks-deleted-after-installed class=level3 data-number=4.3.3><h3 data-number=4.3.3><span class=header-section-number>4.3.3</span>
<a href=#toc:subsec:faq:apks-deleted-after-installed>APK
安装后是否被删除？</a><a href=#subsec:faq:apks-deleted-after-installed class=anchor aria-hidden=true></a></h3><p>不会，在安装后，APK 不会被 App Manager 删除。</section><section id=subsec:faq:shizuku-support class=level3 data-number=4.3.4><h3 data-number=4.3.4><span class=header-section-number>4.3.4</span>
<a href=#toc:subsec:faq:shizuku-support>对于 Shizuku 有何计划？</a><a href=#subsec:faq:shizuku-support class=anchor aria-hidden=true></a></h3><p>现在 App Manager 使用隐藏 API 和执行特权代码变得更加复杂， 无法和 <a href=https://shizuku.rikka.app>Shizuku</a>
之类的其他第三方应用程序集成。 不考虑在 App Manager 中集成 Shizuku
(现在具有 Apache 2.0 协议) 的理由如下：<ol class=incremental><li><p>最初 Shizuku 是不自由软件，这也导致我 在 App Manager
中使用了类似的方法来支持 Root 和 ADB。<li><p>App Manager 已经支持 Root 和 ADB，并且在某些情况下比 Shizuku
更优秀。<li><p>主要功能依赖于第三方应用并不是一个好的设计理念选择。<li><p>集成 Shizuku 会增加 App Manager 的复杂性。</ol></section><section id=subsec:faq:what-are-bloatware class=level3 data-number=4.3.5><h3 data-number=4.3.5><span class=header-section-number>4.3.5</span>
<a href=#toc:subsec:faq:what-are-bloatware>什么是预装(bloatware)软件以及如何删除？</a><a href=#subsec:faq:what-are-bloatware class=anchor aria-hidden=true></a></h3><p>臃肿软件（Bloatware）为不必要的预装应用，通常是系统应用。
一些臃肿软件通常用来跟踪用户并收集它们可能为了获利而出售的用户数据。
许多系统应用无需请求任何权限便可访问设备信息、联系人和消息数据，以及其他使用信息，
比如手机使用习惯和存储在共享存储空间中的一切。<p>臃肿软件同样包括 Google 地图、Meta 出品的应用，以及Twitter/X，
这些应用也可以在没有用户同意情况下跟踪和/或收集用户数据。 你可以在
Andeoid 系统设置那里禁用这些应用的一些权限，
但请知晓，系统设置藏有很多权限被安全研究者认为具潜在<em>危险性</em>
（比如联网、传感器等）。<p>如果臃肿软件是用户应用，可以轻易从系统设置或AM进行卸载。
而属于系统应用的臃肿应用没有特权是不可能卸载的。
即使有特权也无法完全<em>卸载</em> 这样的系统应用， 因为它们位于
<em>system</em> 分区，这是一个只读分区。 如果你有 root
权限，你可以重新挂载这个分区来手动 <em>清除</em>
这些应用，但这样做会破化系统的 OTA 更新，
因为系统分区中的数据已经被修改。 有两种更新，一种是 delta
更新（仅由两个系统版本间的差异构成，下载东西少）和完整更新。
你仍能使用完整更新，但更新后臃肿软件又会出现，你不得不再次彻底清理它们。<p>另一个解决方案是通过系统设置或 AM 停用这些应用，
但某些服务仍能在后台运行，
因为它们可以被其他系统应用使用进程间通信（IPC）方式启动。
一个可能的解决方案是停用所有臃肿软件，直到服务最终停止（在重启后）。
不过，由于厂商对 ANdroid 框架所做的巨大改动，
删除或停用某些臃肿软件可能导致系统 UI 崩溃甚至造成启动循环。 从 v4.0.0
版本起，AM 有了一个新功能，叫做 <strong>Debloater</strong>，
可以用作从专有权利的 Android
操作系统中监控、停用，及删除臃肿软件的基础。<div class="amalert warning"><p><strong><em>注意.</em></strong><p>多数情况下，你无法完全 debloat 设备。
因此，建议你使用没有臃肿软件的定制 ROM，如 Graphene OS、Lineage OS
或它们的衍生品。</div></section></section></section><section id=ch:specifications class=level1 data-number=5><h1 data-number=5><span class=header-section-number>5</span> <a href=#toc:ch:specifications>语法</a><a href=#ch:specifications class=anchor aria-hidden=true></a></h1><section id=sec:rules-specification class=level2 data-number=5.1><h2 data-number=5.1><span class=header-section-number>5.1</span> <a href=#toc:sec:rules-specification>规则语法</a><a href=#sec:rules-specification class=anchor aria-hidden=true></a></h2><section id=背景介绍 class=level3 data-number=5.1.1><h3 data-number=5.1.1><span class=header-section-number>5.1.1</span>
<a href=#toc:背景介绍>背景介绍</a><a href=#背景介绍 class=anchor aria-hidden=true></a></h3><p>App Manager 目前支持阻止活动、广播接收器、内容提供者、服务、应用操作
(App Ops) 和权限， 并且在将来可能会添加更多阻止选项。
为了增加更多便携性，导入/导出所有的这些数据是有必要的。<p>由于数据库专门用于存储数据，维护数据库是最佳选择。 目前为止有多个
<code>tsv</code> 文件，每个文件都有包名和 <code>.tsv</code> 扩展名。
<code>RulesStorageManager</code> (规则存储管理器)
类负责查询/处理相应的文件/数据库。
由于这种抽象概念，将来在不更改整个项目设计的情况下切换到数据库或加密数据库系统会更加容易。
目前所有的配置文件存储在
<code>/data/data/io.github.muntashirakon.AppManager/Files/conf</code>。</section><section id=规则文件格式 class=level3 data-number=5.1.2><h3 data-number=5.1.2><span class=header-section-number>5.1.2</span>
<a href=#toc:规则文件格式>规则文件格式</a><a href=#规则文件格式 class=anchor aria-hidden=true></a></h3><section id=内部 class=level4 data-number=5.1.2.1><h4 data-number=5.1.2.1><span class=header-section-number>5.1.2.1</span> 内部<a href=#内部 class=anchor aria-hidden=true></a></h4><p>下述格式在 App Manager 内部使用，且 <em>与外部格式不兼容。</em><pre><code> &lt;name&gt; &lt;type&gt; &lt;mode&gt;|&lt;component_status&gt;|&lt;is_granted&gt;</code></pre><p>此处：<ul class=incremental><li><p><code>&lt;name></code> – 组件/权限/应用操作 (App Ops) 名 (对于
App Ops，值可能为字符串或整数)<li><p><code>&lt;type></code> – <code>ACTIVITY</code>、
<code>RECEIVER</code>、 <code>PROVIDER</code>、 <code>SERVICE</code>、
<code>APP_OP</code>、 <code>PERMISSION</code>的其中一个<li><p><code>&lt;mode></code> – (用于App Ops) 相关的 <a href=#subsec:mode-constants>模式常量</a><li><p><code>&lt;component_status></code> – (用于组件) 组件状态<ul class=incremental><li><p><code>true</code> – 已应用组件 (<code>true</code>
值因为兼容性被保留)<li><p><code>false</code> – 尚未应用组件，但将来会生效
(<code>false</code> 值因为兼容性被保留)<li><p><code>unblocked</code> – 计划解除阻止的组件</ul><li><p><code>&lt;is_granted></code> – (用于权限)
是否授予或撤销权限</ul></section><section id=外部 class=level4 data-number=5.1.2.2><h4 data-number=5.1.2.2><span class=header-section-number>5.1.2.2</span> 外部<a href=#外部 class=anchor aria-hidden=true></a></h4><p>外部格式用于 App Manager 导入或导出规则。<pre><code> &lt;package_name&gt; &lt;component_name&gt; &lt;type&gt; &lt;mode&gt;|&lt;component_status&gt;|&lt;is_granted&gt;</code></pre><p>除了第一项是包的名称外，其格式与上述 (内部格式) 基本相同。<div class="amalert danger"><p><strong><em>小心.</em></strong><p>导出的规则具有与内部格式不同的格式， 不应该被直接复制到
<strong>conf</strong> 文件夹。</div></section></section></section></section><section id=ch:changelogs class=level1 data-number=6><h1 data-number=6><span class=header-section-number>6</span> <a href=#toc:ch:changelogs>更新日志</a><a href=#ch:changelogs class=anchor aria-hidden=true></a></h1><section id=sec:v4.0.3-(443) class=level2 data-number=6.1><h2 data-number=6.1><span class=header-section-number>6.1</span> <a href=#toc:sec:v4.0.3-(443)>v4.0.3 (443)</a><a href=#sec:v4.0.3-(443) class=anchor aria-hidden=true></a></h2><ul class=incremental><li><p>Updated translations<li><p>Improved handling the list items throughout App Manager<li><p>Fixed a regression error in file manager<li><p>Fixed spinners in the App Usage and the System Config
pages.</ul></section><section id=sec:v4.0.2-(442) class=level2 data-number=6.2><h2 data-number=6.2><span class=header-section-number>6.2</span> <a href=#toc:sec:v4.0.2-(442)>v4.0.2 (442)</a><a href=#sec:v4.0.2-(442) class=anchor aria-hidden=true></a></h2><ul class=incremental><li><p>Updated bloatware<li><p>Fixed fetching applications in multi-user environment in no-root
mode<li><p>Fixed opening <code>app-manager</code> URLs from the web
browsers<li><p>Fixed updating SSAID<li><p>Prevented a crash in Android &lt; 9.0 that occurs due to invalid
app ops.</ul></section><section id=sec:v4.0.1-(441) class=level2 data-number=6.3><h2 data-number=6.3><span class=header-section-number>6.3</span> <a href=#toc:sec:v4.0.1-(441)>v4.0.1 (441)</a><a href=#sec:v4.0.1-(441) class=anchor aria-hidden=true></a></h2><section id=overlay-management class=level3 data-number=6.3.1><h3 data-number=6.3.1><span class=header-section-number>6.3.1</span>
<a href=#toc:overlay-management>Overlay management</a><a href=#overlay-management class=anchor aria-hidden=true></a></h3><p>In the App Details page, a new tab “Overlays” is added where per-app
overlays are displayed. They can also be enabled or disabled using the
toggle button. In addition, if the App Details page of an overlay
package is opened, a “Overlay” tag will be displayed in the App Info
tab. Clicking on the tag opens a dialog containing additional info along
with a button that allows navigating to the App Details page of the
overlay target package if it is installed.<section id=known-limitation class=level5 data-number=6.3.1.0.1><h5 data-number=6.3.1.0.1><span class=header-section-number>6.3.1.0.1</span> Known limitation<a href=#known-limitation class=anchor aria-hidden=true></a></h5><p>At present, it only works for root/ADB users in Android 8 (Oreo) and
later.</section></section><section id=unfreeze-option-in-activity-shortcuts class=level3 data-number=6.3.2><h3 data-number=6.3.2><span class=header-section-number>6.3.2</span>
<a href=#toc:unfreeze-option-in-activity-shortcuts>Unfreeze option in
activity shortcuts</a><a href=#unfreeze-option-in-activity-shortcuts class=anchor aria-hidden=true></a></h3><p>If the application corresponding to the shortcut being launched is
frozen, App Manager will now offer you to unfreeze the app temporarily
so that the shortcut can be launched. The app will be frozen again once
the screen is locked.<section id=known-limitation-1 class=level5 data-number=6.3.2.0.1><h5 data-number=6.3.2.0.1><span class=header-section-number>6.3.2.0.1</span> Known limitation<a href=#known-limitation-1 class=anchor aria-hidden=true></a></h5><p>This may not work on devices without a screen lock or if the screen
is locked some time after the display goes off.</section></section><section id=market-like-url-support class=level3 data-number=6.3.3><h3 data-number=6.3.3><span class=header-section-number>6.3.3</span>
<a href=#toc:market-like-url-support><code>market</code>-like URL
support</a><a href=#market-like-url-support class=anchor aria-hidden=true></a></h3><p>Third-party applications can now open the App Details page of any
installed package by invoking an Intent with an URL with the following
format:<pre><code>app-manager://details?id=&lt;pkg&gt;&amp;user=&lt;user_id&gt;</code></pre><p>where <code>&lt;pkg></code> stands for package name, and
<code>&lt;user_id></code> stands for the user ID which is
optional.</section><section id=updated-color-codes class=level3 data-number=6.3.4><h3 data-number=6.3.4><span class=header-section-number>6.3.4</span>
<a href=#toc:updated-color-codes>Updated color codes</a><a href=#updated-color-codes class=anchor aria-hidden=true></a></h3><p>In order to improve accessibility, certain color codes have been
improved. Visit <a href=app-manager://settings/about/version>Settings
> About > Version/Changelog</a> for details.</section><section id=others class=level3 data-number=6.3.5><h3 data-number=6.3.5><span class=header-section-number>6.3.5</span>
<a href=#toc:others>Others</a><a href=#others class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p>Avoided waiting for the remote server to respond when no-root
mode is set<li><p>Fixed downgrading apps in Android 10 onwards<li><p>Fixed installer issues in the Huawei stock operating
systems<li><p>Improved text formatting in the “What’s New” dialog<li><p>In the UI tracker window, fixed clicking on the icon after it is
iconified<li><p>Updated bloatware and suggestions</ul></section></section><section id=sec:v4.0.0-(440) class=level2 data-number=6.4><h2 data-number=6.4><span class=header-section-number>6.4</span> <a href=#toc:sec:v4.0.0-(440)>v4.0.0 (440)</a><a href=#sec:v4.0.0-(440) class=anchor aria-hidden=true></a></h2><p>App Manager v4.0.0 comes with a lot of new features and improvements.
Visit <a href=app-manager://settings/about/version>Settings > About
> Version/Changelog</a> for details.<section id=new-logo class=level3 data-number=6.4.1><h3 data-number=6.4.1><span class=header-section-number>6.4.1</span>
<a href=#toc:new-logo>New logo!</a><a href=#new-logo class=anchor aria-hidden=true></a></h3><p>The new logo is just a cursive “A”. The design is based on the <a href=https://freetengwar.sourceforge.net/>Tengwar Telcontar</a> font
which was created to bring the Tengwar script, originally created by J.
R. R. Tolkien, to the digital world. The letter has the classic App
Manager color (i.e., #dcaf74) and uses a pure black background instead
of a shade of grey.</section><section id=android-14-and-15-support class=level3 data-number=6.4.2><h3 data-number=6.4.2><span class=header-section-number>6.4.2</span>
<a href=#toc:android-14-and-15-support>Android 14 and 15 support</a><a href=#android-14-and-15-support class=anchor aria-hidden=true></a></h3><p>App Manager now targets Android 14 and fully supports Android 15.<section id=known-issue class=level5 data-number=6.4.2.0.1><h5 data-number=6.4.2.0.1><span class=header-section-number>6.4.2.0.1</span> Known issue<a href=#known-issue class=anchor aria-hidden=true></a></h5><p>KeyStore backup/restore is not working in Android 12 and later.</section></section><section id=revamped-debloater class=level3 data-number=6.4.3><h3 data-number=6.4.3><span class=header-section-number>6.4.3</span>
<a href=#toc:revamped-debloater>Revamped debloater</a><a href=#revamped-debloater class=anchor aria-hidden=true></a></h3><p>Debloating profiles were available as “Presets” in the Profiles page
which has now been replaced with the Debloater page and can be accessed
from the three-dots menu in the Main page. <a href=https://github.com/MuntashirAkon/android-debloat-list>ADL</a> is
a new project that focuses on maintaining a list of bloatware as well as
potential open source alternatives. Contributions are welcome!</section><section id=introducing-file-manager class=level3 data-number=6.4.4><h3 data-number=6.4.4><span class=header-section-number>6.4.4</span>
<a href=#toc:introducing-file-manager>Introducing file manager</a><a href=#introducing-file-manager class=anchor aria-hidden=true></a></h3><p>App Manager offers an (almost) fully-featured file manager with basic
file operations, such as copy, cut, rename, and delete along with the
batch operations. It also offers an extensive “Open with…” dialog to
open a file with another app, and a comprehensive file properties
viewer. Folders can also be added to the list of favorites for quick
access. And many more.</section><section id=integrated-code-editor class=level3 data-number=6.4.5><h3 data-number=6.4.5><span class=header-section-number>6.4.5</span>
<a href=#toc:integrated-code-editor>Integrated code editor</a><a href=#integrated-code-editor class=anchor aria-hidden=true></a></h3><p>Manifest and code viewers have been replaced with this new editor.
Among other regular features, it includes proper syntax highlighting and
advanced searching options. In addition, files from third-party apps can
also be opened for editing.</section><section id=history-of-operations class=level3 data-number=6.4.6><h3 data-number=6.4.6><span class=header-section-number>6.4.6</span>
<a href=#toc:history-of-operations>History of operations</a><a href=#history-of-operations class=anchor aria-hidden=true></a></h3><p>All 1-click operations, batch operations, and profile invocations are
now stored as history. The history items can also be executed from the
History page. To ensure consistency, the profile state, configurations,
package list are also stored, and this stored version is executed
instead of the actual profile. As a result, this works even if the
profile is deleted.</section><section id=per-app-freezing-and-more class=level3 data-number=6.4.7><h3 data-number=6.4.7><span class=header-section-number>6.4.7</span>
<a href=#toc:per-app-freezing-and-more>Per-app freezing, and
more</a><a href=#per-app-freezing-and-more class=anchor aria-hidden=true></a></h3><p>Freeze/unfreeze feature now supports setting per-app freezing method
which is beneficial in certain scenarios, such as when a user want to
suspend some apps while using the disable method as the default. In
addition, an “Advanced suspend” option is added which force-stops an
application before suspending it, thus, prevent it’s services from
running in the background.</section><section id=log-viewer-enhancements class=level3 data-number=6.4.8><h3 data-number=6.4.8><span class=header-section-number>6.4.8</span>
<a href=#toc:log-viewer-enhancements>Log viewer enhancements</a><a href=#log-viewer-enhancements class=anchor aria-hidden=true></a></h3><p>Log viewer now supports enhanced searching and filtering options,
such as keyword- and regular expression-based searching and filtering.
Please read the in-app changelog for details. Support for batch
operations has also been added.</section><section id=launching-non-exported-activities class=level3 data-number=6.4.9><h3 data-number=6.4.9><span class=header-section-number>6.4.9</span>
<a href=#toc:launching-non-exported-activities>Launching non-exported
activities</a><a href=#launching-non-exported-activities class=anchor aria-hidden=true></a></h3><p>App Manager now supports launching non-exported activities in no-root
and ADB mode. However, in no-root mode,
<code>android.permission.WRITE_SECURE_SETTINGS</code> permission is
required.</section><section id=new-tags-in-app-info-tab class=level3 data-number=6.4.10><h3 data-number=6.4.10><span class=header-section-number>6.4.10</span> <a href=#toc:new-tags-in-app-info-tab>New tags in App Info tab</a><a href=#new-tags-in-app-info-tab class=anchor aria-hidden=true></a></h3><p>Five new tags are added in the App Info tab. They are: bloatware,
Xposed, sensors disabled, open links, and static shared libs. Clicking
on “bloatware” will display more information regarding the bloatware and
suggest alternatives, “Xposed” tag will display dependency information,
“open links” will display a list of links supported by the application,
and “static shared libs” will display all version of the application
installed in the system along with an option to uninstall them. The
latter is useful for applications, such as Trichrome.<section id=known-issue-1 class=level5 data-number=6.4.10.0.1><h5 data-number=6.4.10.0.1><span class=header-section-number>6.4.10.0.1</span> Known issue<a href=#known-issue-1 class=anchor aria-hidden=true></a></h5><p>“Sensors disabled” only works real-time. That means if the
application is not currently active, this tag will always display even
though the applications may use sensors while it is running. This is a
framework limitation and nothing can be done to avoid it
effectively.</section></section><section id=per-session-installer-options class=level3 data-number=6.4.11><h3 data-number=6.4.11><span class=header-section-number>6.4.11</span> <a href=#toc:per-session-installer-options>Per-session installer
options</a><a href=#per-session-installer-options class=anchor aria-hidden=true></a></h3><p>It is not possible to modify installer options during the
installation by clicking on the “settings” button in the installation
dialog. The installer options will be applied to all the applications
installed in the same session (i.e., the installer queue).</section><section id=advanced-mode-of-operations-adb-enhancements class=level3 data-number=6.4.12><h3 data-number=6.4.12><span class=header-section-number>6.4.12</span> <a href=#toc:advanced-mode-of-operations-adb-enhancements>Advanced mode
of operations, ADB enhancements, …</a><a href=#advanced-mode-of-operations-adb-enhancements class=anchor aria-hidden=true></a></h3><p>App Manager now supports running its remote server (which is used as
a proxy for running privileged operations) as any supported user (UID).
This includes root (0), system (1000), and shell/ADB (2000) through the
custom commands. This is also useful for Fire TVs which have disabled
connecting to ADB from localhost through socket connection. In addition,
ADB pairing is now done using notifications rather than split screen.
ADB connection speed can also be improved by choosing to run App Manager
in the background which can be configured in the settings.</section><section id=data-usage-widget-and-more class=level3 data-number=6.4.13><h3 data-number=6.4.13><span class=header-section-number>6.4.13</span> <a href=#toc:data-usage-widget-and-more>Data usage widget, and more</a><a href=#data-usage-widget-and-more class=anchor aria-hidden=true></a></h3><p>Data usage widget display the total data usage for the day, similar
to the screen time widget which displays the total screen time for the
day. In addition, existing widgets have been improved.</section><section id=others-1 class=level3 data-number=6.4.14><h3 data-number=6.4.14><span class=header-section-number>6.4.14</span> <a href=#toc:others-1>Others</a><a href=#others-1 class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p>Replaced log viewer, sys config, Terminal, etc. with Labs
page<li><p>Added an option to disable sensors for each app in the App Info
tab<li><p>Added an option to perform runtime optimization of applications
in the 1-click Ops page and in the App Info tab<li><p>Added support for Zstandard compression for
backup/restore<li><p>Enabling APK signing now automatically enables zip align
feature<li><p>Support exporting application list as CSV or JSON in the batch
operations<li><p>Added pure black theme support<li><p>Display current activity name (when possible) in the UI Tracker
window<li><p>Added an option to filter apps by user in the Main page<li><p>Display a link to Pithus report in the scanner page if
available.</ul></section></section><section id=sec:v3.1.0-(423) class=level2 data-number=6.5><h2 data-number=6.5><span class=header-section-number>6.5</span> <a href=#toc:sec:v3.1.0-(423)>v3.1.0 (423)</a><a href=#sec:v3.1.0-(423) class=anchor aria-hidden=true></a></h2><p>App Manager v3.1.0 comes with a few new features and a lot of
improvements. Visit <a href=app-manager://settings/about/version>Settings > About >
Version/Changelog</a> for details.<section id=android-13-support class=level3 data-number=6.5.1><h3 data-number=6.5.1><span class=header-section-number>6.5.1</span>
<a href=#toc:android-13-support>Android 13 support</a><a href=#android-13-support class=anchor aria-hidden=true></a></h3><p>App Manager now targets Android 13 which means most issues in Android
12 and 13 has been addressed, including SSAID and SAF issues as well as
monochrome icons and other theming issues.<section id=known-issue-2 class=level5 data-number=6.5.1.0.1><h5 data-number=6.5.1.0.1><span class=header-section-number>6.5.1.0.1</span> Known issue<a href=#known-issue-2 class=anchor aria-hidden=true></a></h5><p>KeyStore backup/restore not working in Android 12 and later.</section></section><section id=introducing-freezeunfreeze class=level3 data-number=6.5.2><h3 data-number=6.5.2><span class=header-section-number>6.5.2</span>
<a href=#toc:introducing-freezeunfreeze>Introducing
freeze/unfreeze</a><a href=#introducing-freezeunfreeze class=anchor aria-hidden=true></a></h3><p>Enable/disable is replaced with freeze/unfreeze to allow greater
control on the behaviours of an app. It supports suspend, disable and
hide functionalities which can be controlled at <a href=app-manager://settings/rules_prefs/freeze_type>Settings >
Rules > Default freezing method</a>. In order to make it easy to
freeze or unfreeze an app, shortcuts can also be created from the App
Info tab by long clicking on the freeze or unfreeze button.</section><section id=export-app-list class=level3 data-number=6.5.3><h3 data-number=6.5.3><span class=header-section-number>6.5.3</span>
<a href=#toc:export-app-list>Export app list</a><a href=#export-app-list class=anchor aria-hidden=true></a></h3><p>In the Main page, it is now possible to export the list of apps in
either XML or Markdown format using batch operations. In the future, the
XML file may also be imported to App Manager.</section><section id=elliptic-curve-crypography-ecc class=level3 data-number=6.5.4><h3 data-number=6.5.4><span class=header-section-number>6.5.4</span>
<a href=#toc:elliptic-curve-crypography-ecc>Elliptic Curve Crypography
(ECC)</a><a href=#elliptic-curve-crypography-ecc class=anchor aria-hidden=true></a></h3><p>App Manager now fully supports encrypting backups using ECC in
addition to offering AES, RSA and OpenPGP.</section><section id=new-languages class=level3 data-number=6.5.5><h3 data-number=6.5.5><span class=header-section-number>6.5.5</span>
<a href=#toc:new-languages>New languages</a><a href=#new-languages class=anchor aria-hidden=true></a></h3><p>Two new languages are added: Korean and Romanian.</section><section id=more-list-options class=level3 data-number=6.5.6><h3 data-number=6.5.6><span class=header-section-number>6.5.6</span>
<a href=#toc:more-list-options>More list options</a><a href=#more-list-options class=anchor aria-hidden=true></a></h3><p>In the main page, more sorting and filtering options are added.
Sorting options include sorting the apps by total size, total data
usage, launch count, screen time and last usage time. Filtering options
include filtering the apps having at least one item in the Android
KeyStore, filtering apps with URIs granted via SAF, and filtering apps
with SSAID.</section><section id=improved-handling-of-mode-of-operation class=level3 data-number=6.5.7><h3 data-number=6.5.7><span class=header-section-number>6.5.7</span>
<a href=#toc:improved-handling-of-mode-of-operation>Improved handling
of mode of operation</a><a href=#improved-handling-of-mode-of-operation class=anchor aria-hidden=true></a></h3><p>Fixed various issues with ADB pairing, handled incomplete USB
debugging. Some rooting methods cannot allow interprocess communication
via Binder. In those cases, ADB mode is used as a fallback method by
enabling it automatically if possible.</section><section id=handling-multiple-users class=level3 data-number=6.5.8><h3 data-number=6.5.8><span class=header-section-number>6.5.8</span>
<a href=#toc:handling-multiple-users>Handling multiple users</a><a href=#handling-multiple-users class=anchor aria-hidden=true></a></h3><p>When possible, App Manager will be able to display apps from work
profile in no-root mode in addition to allowing basic operations such as
launching the app or navigating to the system settings. For backups, it
is now possible to restore backups for other users, but for work
profile, some apps may only work properly after re-enabling the work
profile. In the installer page, selecting <em>All users</em> will now
install the app for all users instead of only the current user. Finally,
in the app info tab, current app can be installed in another profile
using the <em>Install for…</em> option available in the three-dots menu.
This is analogous to the <code>pm install-existing</code> command,
thereby, making the installation process a lot faster.</section><section id=explorer-enhancements class=level3 data-number=6.5.9><h3 data-number=6.5.9><span class=header-section-number>6.5.9</span>
<a href=#toc:explorer-enhancements>Explorer enhancements</a><a href=#explorer-enhancements class=anchor aria-hidden=true></a></h3><p>Explorer can now open DEX and JAR files in addition to APK files.
Several sorting options as well as folder options are also added as the
list options.</section><section id=new-tag-wx class=level3 data-number=6.5.10><h3 data-number=6.5.10><span class=header-section-number>6.5.10</span> <a href=#toc:new-tag-wx>New tag: WX</a><a href=#new-tag-wx class=anchor aria-hidden=true></a></h3><p>In app info tab, a new tag called WX is added. It is displayed in
Android 10 and later if the application targets Android 9 or earlier. It
indicates <a href=https://en.wikipedia.org/wiki/W%5EX>W^X</a>
violation which allows the app to execute arbitrary executable files
either by the modification of executables embedded within the app or by
downloading them from the Internet.</section><section id=app-ops-management class=level3 data-number=6.5.11><h3 data-number=6.5.11><span class=header-section-number>6.5.11</span> <a href=#toc:app-ops-management>App ops management</a><a href=#app-ops-management class=anchor aria-hidden=true></a></h3><p>App ops are now managed automatically to avoid various app ops
related crashes in various platforms. This will also lessen the amount
of crashes in an unsupported operating system.</section><section id=batch-uninstallation class=level3 data-number=6.5.12><h3 data-number=6.5.12><span class=header-section-number>6.5.12</span> <a href=#toc:batch-uninstallation>Batch uninstallation</a><a href=#batch-uninstallation class=anchor aria-hidden=true></a></h3><p>In the Main page, enabled batch uninstallation in no-root mode.</section><section id=running-apps class=level3 data-number=6.5.13><h3 data-number=6.5.13><span class=header-section-number>6.5.13</span> <a href=#toc:running-apps>Running apps</a><a href=#running-apps class=anchor aria-hidden=true></a></h3><p>Enabled advanced searching. Searching now matches not only app labels
but also package names.</section><section id=interceptor class=level3 data-number=6.5.14><h3 data-number=6.5.14><span class=header-section-number>6.5.14</span> <a href=#toc:interceptor>Interceptor</a><a href=#interceptor class=anchor aria-hidden=true></a></h3><p>Copy the intercepted Intent as am command which can be run from
either an ADB shell or a terminal using root with the same
effectiveness.</section><section id=device-specific-changes class=level3 data-number=6.5.15><h3 data-number=6.5.15><span class=header-section-number>6.5.15</span> <a href=#toc:device-specific-changes>Device-specific changes</a><a href=#device-specific-changes class=anchor aria-hidden=true></a></h3><section id=graphene-os class=level5 data-number=6.5.15.0.1><h5 data-number=6.5.15.0.1><span class=header-section-number>6.5.15.0.1</span> Graphene OS<a href=#graphene-os class=anchor aria-hidden=true></a></h5><p>Explicitly handle the Internet permission which is a runtime
permission in the OS.</section><section id=miui class=level5 data-number=6.5.15.0.2><h5 data-number=6.5.15.0.2><span class=header-section-number>6.5.15.0.2</span> MIUI<a href=#miui class=anchor aria-hidden=true></a></h5><p>Fixed permission denied issues in the installer due to a framework
issue introduced in MIUI 12.5.</section><section id=motorola class=level5 data-number=6.5.15.0.3><h5 data-number=6.5.15.0.3><span class=header-section-number>6.5.15.0.3</span> Motorola<a href=#motorola class=anchor aria-hidden=true></a></h5><p>Fixed crashes in the Interceptor page due to a framework issue
introduced in Android 11.</section></section><section id=others-2 class=level3 data-number=6.5.16><h3 data-number=6.5.16><span class=header-section-number>6.5.16</span> <a href=#toc:others-2>Others</a><a href=#others-2 class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p>Improved Java-Smali conversion by including all the subclasses
during conversion<li><p>Improved scanning performance in the Scanner page<li><p>Improved updating the list of apps in the Main page<li><p>Scan all the available paths to detect systemless-ly installed
system apps<li><p><code>vacuum</code> SQLite database before opening it for viewing
or editing.</ul></section></section><section id=sec:v3.0.0-(410) class=level2 data-number=6.6><h2 data-number=6.6><span class=header-section-number>6.6</span> <a href=#toc:sec:v3.0.0-(410)>v3.0.0 (410)</a><a href=#sec:v3.0.0-(410) class=anchor aria-hidden=true></a></h2><p>App Manager v3.0.0 comes with a lot of features and improvements. See
<a href=app-manager://settings/about/version>Settings > About >
Version/Changelog</a> to see a more detailed changelog.<section id=material-3-and-more class=level3 data-number=6.6.1><h3 data-number=6.6.1><span class=header-section-number>6.6.1</span>
<a href=#toc:material-3-and-more>Material 3 and More</a><a href=#material-3-and-more class=anchor aria-hidden=true></a></h3><p>Material 3, somewhat similar to <em>Material You</em>, is a
significant improvement over Material Design 2 with support for dynamic
colours in Android 12 and later. In addition, many design changes have
been made in App Manager without any significant changes in the overall
user experience.<section id=known-issue-3 class=level5 data-number=6.6.1.0.1><h5 data-number=6.6.1.0.1><span class=header-section-number>6.6.1.0.1</span> Known issue<a href=#known-issue-3 class=anchor aria-hidden=true></a></h5><p>Switches are still based on Material Design 2 which will be fixed in
a future release.</section></section><section id=wireless-debugging class=level3 data-number=6.6.2><h3 data-number=6.6.2><span class=header-section-number>6.6.2</span>
<a href=#toc:wireless-debugging>Wireless Debugging</a><a href=#wireless-debugging class=anchor aria-hidden=true></a></h3><p>Wireless debugging support has been fully implemented. Head over to
§<a href=#sec:wireless-debugging data-reference-type=ref data-reference=sec:wireless-debugging>3.2</a> for instructions on how
to configure wireless debugging.<div class="amalert tip"><p><strong><em>No-root users.</em></strong><p>Due to auto-detection feature, startup time might be large for
no-root users when the mode of operation is set to <em>auto</em>.
Instead, no-root users should select <em>no-root</em> instead of
<em>auto</em>.</div></section><section id=languages class=level3 data-number=6.6.3><h3 data-number=6.6.3><span class=header-section-number>6.6.3</span>
<a href=#toc:languages>Languages</a><a href=#languages class=anchor aria-hidden=true></a></h3><p>App Manager is fully translated into Indonesian and Italian languages
and can be enabled in settings. Bengali is removed due to lack of
translators.</section><section id=introducing-app-explorer class=level3 data-number=6.6.4><h3 data-number=6.6.4><span class=header-section-number>6.6.4</span>
<a href=#toc:introducing-app-explorer>Introducing App Explorer</a><a href=#introducing-app-explorer class=anchor aria-hidden=true></a></h3><p>App Explorer can be used to browse the contents of an application.
This includes binary XML files, DEX contents or any other media files.
DEX contents can only be explored in Android Oreo (Android 8) and later.
It’s also possible to convert an <code>.smali</code> file into
<code>.java</code> for a better understanding of the reversed code. This
feature, if not needed, can be disabled in Settings > Enable/disable
features.</section><section id=import-backups-from-other-applications class=level3 data-number=6.6.5><h3 data-number=6.6.5><span class=header-section-number>6.6.5</span>
<a href=#toc:import-backups-from-other-applications>Import Backups
from Other Applications</a><a href=#import-backups-from-other-applications class=anchor aria-hidden=true></a></h3><p>It is possible to import backups from discontinued or obsolete
applications such as Titanium Backup, OAndBackup and Swift Backup
(version 3.0 to 3.2). Go to Setting > Backup/restore to find this
option.</section><section id=virustotal class=level3 data-number=6.6.6><h3 data-number=6.6.6><span class=header-section-number>6.6.6</span>
<a href=#toc:virustotal>VirusTotal</a><a href=#virustotal class=anchor aria-hidden=true></a></h3><p>VirusTotal is a widely used tool to scan files and URLs for viruses.
In the scanner page and in the running apps page, an option to scan
files with VirusTotal has been added. But the option is hidden by
default. To enable the option, it is necessary to obtain an API key from
VirusTotal. Go to Settings > VirusTotal API Key for more
information.<div class="amalert warning"><p><strong><em>Internet feature.</em></strong><p>This is currently the only feature which require an Internet
connection. If you wish to use any Internet feature that might also be
added in the future, enable <em>Use the Internet</em> in Settings >
Enable/disable features.</div></section><section id=trigger-profiles-from-the-automation-software class=level3 data-number=6.6.7><h3 data-number=6.6.7><span class=header-section-number>6.6.7</span>
<a href=#toc:trigger-profiles-from-the-automation-software>Trigger
Profiles from the Automation Software</a><a href=#trigger-profiles-from-the-automation-software class=anchor aria-hidden=true></a></h3><p>As the implementation of routine operations is being delayed, an
option to trigger profiles from the external automation software is
added. See §<a href=#sec:automating-tasks data-reference-type=ref data-reference=sec:automating-tasks>3.4</a> for instructions on how to
configure profile automation.</section><section id=improved-application-installer class=level3 data-number=6.6.8><h3 data-number=6.6.8><span class=header-section-number>6.6.8</span>
<a href=#toc:improved-application-installer>Improved Application
Installer</a><a href=#improved-application-installer class=anchor aria-hidden=true></a></h3><p>Application installer includes several improvements including the
ability to downgrade applications in no-root mode, installing multiple
applications at once and blocking trackers after installation. In
Android 12 and later, no-root users can update applications without any
user interactions.</section><section id=component-blocking class=level3 data-number=6.6.9><h3 data-number=6.6.9><span class=header-section-number>6.6.9</span>
<a href=#toc:component-blocking>Component Blocking</a><a href=#component-blocking class=anchor aria-hidden=true></a></h3><p>It is now possible to configure how App Manager should block a
component. Visit Settings > Rules > Default blocking method for
more information. In the components tab, long clicking the block/unblock
button opens a context menu which allows per-component blocking in a
similar manner. ADB users can also block the components of a <em>Test
only</em> app.</section><section id=advanced-searching class=level3 data-number=6.6.10><h3 data-number=6.6.10><span class=header-section-number>6.6.10</span> <a href=#toc:advanced-searching>Advanced Searching</a><a href=#advanced-searching class=anchor aria-hidden=true></a></h3><p>In some pages, the search bar supports additional searching which
includes searching via prefix, suffix or even regular expressions. In
the main page, it is also possible to search for applications using the
first letters of each word, e.g. <em>App Manager</em> can be listed by
searching for <em>am</em>.</section><section id=shared-libraries class=level3 data-number=6.6.11><h3 data-number=6.6.11><span class=header-section-number>6.6.11</span> <a href=#toc:shared-libraries>Shared Libraries</a><a href=#shared-libraries class=anchor aria-hidden=true></a></h3><p>Shared libraries tab has received a significant improvements. It can
display three types of libraries, such as native, jar and APK files.</section><section id=make-the-best-use-of-interceptor class=level3 data-number=6.6.12><h3 data-number=6.6.12><span class=header-section-number>6.6.12</span> <a href=#toc:make-the-best-use-of-interceptor>Make the Best Use of
Interceptor</a><a href=#make-the-best-use-of-interceptor class=anchor aria-hidden=true></a></h3><p>Activity interceptor can be opened directly from the activities tab
by long clicking on the launch button, and similarly, activities can be
launched from the activity interceptor page with or without root, for
any users.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>Currently, activities opened via root cannot send the results back to
the original applications.</div></section><section id=widget-screen-time class=level3 data-number=6.6.13><h3 data-number=6.6.13><span class=header-section-number>6.6.13</span> <a href=#toc:widget-screen-time>Widget: Screen Time</a><a href=#widget-screen-time class=anchor aria-hidden=true></a></h3><p>Screen time widget is quite similar to Digital Wellbeing’s widget by
the same name. It displays the total screen time for the day along with
the top three apps from all users.</section><section id=widget-clear-cache class=level3 data-number=6.6.14><h3 data-number=6.6.14><span class=header-section-number>6.6.14</span> <a href=#toc:widget-clear-cache>Widget: Clear Cache</a><a href=#widget-clear-cache class=anchor aria-hidden=true></a></h3><p>Clear cache widget can be to clear cache from all the applications
directly from the home screen.</section></section><section id=sec:v2.6.0-(385) class=level2 data-number=6.7><h2 data-number=6.7><span class=header-section-number>6.7</span> <a href=#toc:sec:v2.6.0-(385)>v2.6.0 (385)</a><a href=#sec:v2.6.0-(385) class=anchor aria-hidden=true></a></h2><section id=introducing-backups class=level3 data-number=6.7.1><h3 data-number=6.7.1><span class=header-section-number>6.7.1</span>
<a href=#toc:introducing-backups>Introducing Backups</a><a href=#introducing-backups class=anchor aria-hidden=true></a></h3><p>Back up/restore feature is now finally out of beta! Read <a href=#sec:backup-restore>the corresponding guide</a> to understand how
it works.</section><section id=introducing-log-viewer class=level3 data-number=6.7.2><h3 data-number=6.7.2><span class=header-section-number>6.7.2</span>
<a href=#toc:introducing-log-viewer>Introducing Log Viewer</a><a href=#introducing-log-viewer class=anchor aria-hidden=true></a></h3><p><a href=#subsubsec:log-viewer>Log viewer</a> is essentially a
front-end for <code>logcat</code>. It can be used to filter logs by
<em>tag</em> or <em>pid</em> (process ID), or even by custom filters.
Log levels AKA verbosity can also be configured. You can also save,
share and manage logs.</section><section id=lock-app-manager class=level3 data-number=6.7.3><h3 data-number=6.7.3><span class=header-section-number>6.7.3</span>
<a href=#toc:lock-app-manager>Lock App Manager</a><a href=#lock-app-manager class=anchor aria-hidden=true></a></h3><p><a href=#subsubsec:screen-lock>Lock App Manager</a> with the screen
lock configured for your device.</section><section id=extended-modes-for-app-ops class=level3 data-number=6.7.4><h3 data-number=6.7.4><span class=header-section-number>6.7.4</span>
<a href=#toc:extended-modes-for-app-ops>Extended Modes for App
Ops</a><a href=#extended-modes-for-app-ops class=anchor aria-hidden=true></a></h3><p>You can set any mode for any app ops that your device supports,
either from the <a href=#subsec:set-mode-for-app-ops-dots>1-click ops
page</a> or from the <a href=#subsubsec:app-ops>app ops tab</a>.</section><section id=new-batch-ops-add-to-profile class=level3 data-number=6.7.5><h3 data-number=6.7.5><span class=header-section-number>6.7.5</span>
<a href=#toc:new-batch-ops-add-to-profile>New Batch Ops: Add to
Profile</a><a href=#new-batch-ops-add-to-profile class=anchor aria-hidden=true></a></h3><p>You can now easily add selected apps to an existing profile using the
batch operations.</section><section id=app-info-improved class=level3 data-number=6.7.6><h3 data-number=6.7.6><span class=header-section-number>6.7.6</span>
<a href=#toc:app-info-improved>App Info: Improved</a><a href=#app-info-improved class=anchor aria-hidden=true></a></h3><p>App info tab now has many options, including the ability to change <a href=#sec:terminologies>SSAID</a>, network policy (i.e. background
network usage), battery optimization, etc. Most of the tags used in this
tab are also clickable, and if you click on them, you will be able to
look at the current state or configure them right away.</section><section id=advanced-sort-and-filtering-options-in-the-main-page class=level3 data-number=6.7.7><h3 data-number=6.7.7><span class=header-section-number>6.7.7</span>
<a href=#toc:advanced-sort-and-filtering-options-in-the-main-page>Advanced
Sort and Filtering Options in the Main Page</a><a href=#advanced-sort-and-filtering-options-in-the-main-page class=anchor aria-hidden=true></a></h3><p>Sort and filter options are now replaced by <a href=#subsubsec:main-list-options>List Options</a> which is highly
configurable, including the ability to filter using profiles.</section><section id=about-this-device class=level3 data-number=6.7.8><h3 data-number=6.7.8><span class=header-section-number>6.7.8</span>
<a href=#toc:about-this-device>About This Device</a><a href=#about-this-device class=anchor aria-hidden=true></a></h3><p>Interested in knowing about your device in just one page? Go to the
bottom of the <a href=#subsec:device-info>settings page</a>.</section><section id=enabledisable-features class=level3 data-number=6.7.9><h3 data-number=6.7.9><span class=header-section-number>6.7.9</span>
<a href=#toc:enabledisable-features>Enable/disable Features</a><a href=#enabledisable-features class=anchor aria-hidden=true></a></h3><p>Not interested in all the features that AM offers? You can disable
some features in <a href=#subsubsec:enable/disable-features>settings</a>.</section><section id=new-languages-1 class=level3 data-number=6.7.10><h3 data-number=6.7.10><span class=header-section-number>6.7.10</span> <a href=#toc:new-languages-1>New Languages</a><a href=#new-languages-1 class=anchor aria-hidden=true></a></h3><p>AM now has more than 19 languages! New languages include Farsi,
Japanese and Traditional Chinese.</section><section id=signing-the-apk-files class=level3 data-number=6.7.11><h3 data-number=6.7.11><span class=header-section-number>6.7.11</span> <a href=#toc:signing-the-apk-files>Signing the APK Files</a><a href=#signing-the-apk-files class=anchor aria-hidden=true></a></h3><p>You can now import external signing keys in AM! For security, App
Manager has its own encrypted KeyStore which can also be <a href=#subsubsec:import/export-keystore>imported or exported</a>.</section><section id=new-extension-unapkm class=level3 data-number=6.7.12><h3 data-number=6.7.12><span class=header-section-number>6.7.12</span> <a href=#toc:new-extension-unapkm>New Extension: UnAPKM</a><a href=#new-extension-unapkm class=anchor aria-hidden=true></a></h3><p>Since APKMirror has removed encryption from their APKM files, it’s no
longer necessary to decrypt them. As a result, the option to decrypt
APKM files has been removed. Instead, this option is now provided by the
UnAPKM extension which you can grab from <a href=https://f-droid.org/packages/io.github.muntashirakon.unapkm/>F-Droid</a>.
So, if you have an encrypted APKM file and have this extension
installed, you can open the file directly in AM.</section></section><section id=sec:v2.5.20-(375) class=level2 data-number=6.8><h2 data-number=6.8><span class=header-section-number>6.8</span> <a href=#toc:sec:v2.5.20-(375)>v2.5.20 (375)</a><a href=#sec:v2.5.20-(375) class=anchor aria-hidden=true></a></h2><section id=subsec:introducing-profiles class=level3 data-number=6.8.1><h3 data-number=6.8.1><span class=header-section-number>6.8.1</span>
<a href=#toc:subsec:introducing-profiles>Introducing Profiles</a><a href=#subsec:introducing-profiles class=anchor aria-hidden=true></a></h3><p><a href=#sec:profile-page>Profiles</a> finally closes the <a href=https://github.com/MuntashirAkon/AppManager/issues/72>related
issue</a>. Profiles can be used to execute certain tasks repeatedly
without doing everything manually. A profile can be applied (or invoked)
either from the <a href=#sec:profiles-page>Profiles page</a> or from
the home screen by creating shortcuts. There are also some presets which
consist of debloating profiles taken from <a href=https://gitlab.com/W1nst0n/universal-android-debloater>Universal
Android Debloater</a>.<section id=known-limitations class=level5 data-number=6.8.1.0.1><h5 data-number=6.8.1.0.1><span class=header-section-number>6.8.1.0.1</span> Known limitations<a href=#known-limitations class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Exporting rules and applying permissions are not currently
working.<li><p>Profiles are applied for all users.</ul></section></section><section id=subsec:the-interceptor class=level3 data-number=6.8.2><h3 data-number=6.8.2><span class=header-section-number>6.8.2</span>
<a href=#toc:subsec:the-interceptor>The Interceptor</a><a href=#subsec:the-interceptor class=anchor aria-hidden=true></a></h3><p><a href=https://github.com/MuntashirAkon/intent-intercept>Intent
Intercept</a> works as a man-in-the-middle between source and
destination, that is, when you open a file or URL with another app, you
can see what is being shared by opening it with Interceptor first. You
can also add or modify the intents before sending them to the
destination. Additionally, you can double-click on any exportable
activities in the Activities tab in the App Details page to open them in
the Interceptor to add more configurations.<section id=known-limitation-2 class=level5 data-number=6.8.2.0.1><h5 data-number=6.8.2.0.1><span class=header-section-number>6.8.2.0.1</span> Known limitation<a href=#known-limitation-2 class=anchor aria-hidden=true></a></h5><p>Editing extras is not currently possible.</section></section><section id=subsec:unapkm:-dedrm-the-apkm-files class=level3 data-number=6.8.3><h3 data-number=6.8.3><span class=header-section-number>6.8.3</span>
<a href=#toc:subsec:unapkm:-dedrm-the-apkm-files>UnAPKM: DeDRM the
APKM files</a><a href=#subsec:unapkm:-dedrm-the-apkm-files class=anchor aria-hidden=true></a></h3><p>When I released a small tool called <a href=https://f-droid.org/en/packages/io.github.muntashirakon.unapkm>UnAPKM</a>,
I promised that similar feature will be available in App Manager. I am
proud to announce that you can open APKM files directly in the App Info
page or convert them to APKS or install them directly.</section><section id=subsec:multiple-user class=level3 data-number=6.8.4><h3 data-number=6.8.4><span class=header-section-number>6.8.4</span>
<a href=#toc:subsec:multiple-user>Multiple user</a><a href=#subsec:multiple-user class=anchor aria-hidden=true></a></h3><p>App manager now supports multiple users! For now, this requires root
or ADB. But no-root support is also being considered. If you have
multiple users enabled and click on an app installed in multiple
profiles, an alert prompt will be displayed where you can select the
user.</section><section id=vive-la-france class=level3 data-number=6.8.5><h3 data-number=6.8.5><span class=header-section-number>6.8.5</span>
<a href=#toc:vive-la-france>Vive la France!</a><a href=#vive-la-france class=anchor aria-hidden=true></a></h3><p>Thanks to the contributors, we have one more addition to the language
club: French. You can add more languages or improve existing
translations at <a href=https://hosted.weblate.org/engage/app-manager>Weblate</a>.</section><section id=report-crashes class=level3 data-number=6.8.6><h3 data-number=6.8.6><span class=header-section-number>6.8.6</span>
<a href=#toc:report-crashes>Report crashes</a><a href=#report-crashes class=anchor aria-hidden=true></a></h3><p>If App Manager crashes, you can now easily report the crash from the
notifications which opens the share options. Crashes are not reported by
App Manager, it only redirects you to your favourite Email client.</section><section id=android-11 class=level3 data-number=6.8.7><h3 data-number=6.8.7><span class=header-section-number>6.8.7</span>
<a href=#toc:android-11>Android 11</a><a href=#android-11 class=anchor aria-hidden=true></a></h3><p>Added support for Android 11. Not everything may work as expected
though.</section><section id=app-installer-improvements class=level3 data-number=6.8.8><h3 data-number=6.8.8><span class=header-section-number>6.8.8</span>
<a href=#toc:app-installer-improvements>App Installer
Improvements</a><a href=#app-installer-improvements class=anchor aria-hidden=true></a></h3><section id=set-installation-locations class=level4 data-number=6.8.8.1><h4 data-number=6.8.8.1><span class=header-section-number>6.8.8.1</span> Set installation
locations<a href=#set-installation-locations class=anchor aria-hidden=true></a></h4><p>In settings page, you can set install locations such as auto
(default), internal only and prefer external.</section><section id=set-apk-installer class=level4 data-number=6.8.8.2><h4 data-number=6.8.8.2><span class=header-section-number>6.8.8.2</span> Set APK installer<a href=#set-apk-installer class=anchor aria-hidden=true></a></h4><p>In settings page, you can also set default APK installer (root/ADB
only) instead of App Manager.</section><section id=multiple-users class=level4 data-number=6.8.8.3><h4 data-number=6.8.8.3><span class=header-section-number>6.8.8.3</span> Multiple users<a href=#multiple-users class=anchor aria-hidden=true></a></h4><p>In settings page, you can allow App Manager to display multiple users
during APK installation.</section><section id=signing-apk-files class=level4 data-number=6.8.8.4><h4 data-number=6.8.8.4><span class=header-section-number>6.8.8.4</span> Signing APK files<a href=#signing-apk-files class=anchor aria-hidden=true></a></h4><p>In settings page, you can choose to sign APK files before installing
them. You can also select which signature scheme to use in the <em>APK
signing</em> option in settings.<section id=known-limitation-3 class=level5 data-number=6.8.8.4.1><h5 data-number=6.8.8.4.1><span class=header-section-number>6.8.8.4.1</span> Known limitation<a href=#known-limitation-3 class=anchor aria-hidden=true></a></h5><p>Currently, only a generic key is used to sign APK files</section></section></section></section><section id=v2.5.17-368 class=level2 data-number=6.9><h2 data-number=6.9><span class=header-section-number>6.9</span> <a href=#toc:v2.5.17-368>v2.5.17 (368)</a><a href=#v2.5.17-368 class=anchor aria-hidden=true></a></h2><section id=app-installer class=level3 data-number=6.9.1><h3 data-number=6.9.1><span class=header-section-number>6.9.1</span>
<a href=#toc:app-installer>App Installer</a><a href=#app-installer class=anchor aria-hidden=true></a></h3><p>As promised, it is now possible to select splits. AM also provides
recommendations based on device configurations. If the app is already
installed, recommendations are provided based on the installed app. It
is also possible to downgrade to a lower version without data loss if
the device has root or ADB. But it should be noted that not all app can
be downgraded. Installer is also improved to speed up the installation
process, especially, for root users. If the app has already been
installed and the new (x)apk(s) is newer or older or the same version
with a different signature, AM will display a list of changes similar to
<strong>What’s New</strong> before prompting the user to install the
app. This is useful if the app has introduced tracker components, new
permissions, etc.<section id=known-limitations-1 class=level5 data-number=6.9.1.0.1><h5 data-number=6.9.1.0.1><span class=header-section-number>6.9.1.0.1</span> Known Limitations<a href=#known-limitations-1 class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Large app can take a long time to fetch app info, and therefore,
it may take a long time display the installation prompt.<li><p>If the apk is not located in the internal storage, the app has to
be cached first which might also take a long time depending on the size
of the apk.</ul></section></section><section id=scanner-replacement-for-exodus-page class=level3 data-number=6.9.2><h3 data-number=6.9.2><span class=header-section-number>6.9.2</span>
<a href=#toc:scanner-replacement-for-exodus-page>Scanner: Replacement
for Exodus Page</a><a href=#scanner-replacement-for-exodus-page class=anchor aria-hidden=true></a></h3><p>Exodus page is now replaced with scanner page. <a href=#sec:scanner-page>Scanner page</a> contains not only a list of
trackers but also a list of used libraries. This is just a start. In the
future, this page will contain more in depth analysis of the app.</section><section id=introducing-system-config class=level3 data-number=6.9.3><h3 data-number=6.9.3><span class=header-section-number>6.9.3</span>
<a href=#toc:introducing-system-config>Introducing System Config</a><a href=#introducing-system-config class=anchor aria-hidden=true></a></h3><p>System Config lists various system configurations and
whitelists/blacklists included in Android by either OEM/vendor, AOSP or
even some Magisk modules. Root users can access this option from the
overflow menu in the main page. There isn’t any official documentation
for these options therefore it’s difficult to write a complete
documentation for this page. I will gradually add documentations using
my own knowledge. However, some functions should be understandable by
their name.</section><section id=more-languages class=level3 data-number=6.9.4><h3 data-number=6.9.4><span class=header-section-number>6.9.4</span>
<a href=#toc:more-languages>More Languages</a><a href=#more-languages class=anchor aria-hidden=true></a></h3><p>Thanks to the contributors, AM now has more than 12 languages. New
languages include Bengali, Hindi, Norwegian, Polish, Russian, Simplified
Chinese, Turkish and Ukrainian.</section><section id=app-info-tab class=level3 data-number=6.9.5><h3 data-number=6.9.5><span class=header-section-number>6.9.5</span>
<a href=#toc:app-info-tab>App Info Tab</a><a href=#app-info-tab class=anchor aria-hidden=true></a></h3><p>More tags are added in the <a href=#subsec:app-info-tab>app info
tab</a> such as <strong>KeyStore</strong> (apps with KeyStore items),
<strong>Systemless app</strong> (apps installed via Magisk),
<strong>Running</strong> (apps that are running). For external apk, two
more options are added namely <strong>Reinstall</strong> and
<strong>Downgrade</strong>. Now it is possible to share an apk via
Bluetooth. For system apps, it is possible to uninstall updates for
root/ADB users. But like the similar option in the system settings, this
operation will clear all app data. As stated above, exodus has been
replaced with scanner.</section><section id=navigation-improvements class=level3 data-number=6.9.6><h3 data-number=6.9.6><span class=header-section-number>6.9.6</span>
<a href=#toc:navigation-improvements>Navigation Improvements</a><a href=#navigation-improvements class=anchor aria-hidden=true></a></h3><p>It’s now relatively easy to navigate to various UI components using
keyboard. You can use up/down button to navigate between list items and
tab button to navigate to UI components inside an item.</section><section id=running-apps-page class=level3 data-number=6.9.7><h3 data-number=6.9.7><span class=header-section-number>6.9.7</span>
<a href=#toc:running-apps-page>Running Apps Page</a><a href=#running-apps-page class=anchor aria-hidden=true></a></h3><p>It is now possible to sort and filter processes in this tab. Also,
the three big buttons are replaced with an easy-to-use three dot menu.
Previously the memory usage was wrong which is fixed in this
version.</section><section id=built-in-toybox class=level3 data-number=6.9.8><h3 data-number=6.9.8><span class=header-section-number>6.9.8</span>
<a href=#toc:built-in-toybox>Built-in Toybox</a><a href=#built-in-toybox class=anchor aria-hidden=true></a></h3><p>Toybox (an alternative to busybox) is bundled with AM. Although
Android has this utility built-in from API 23, toybox is bundled in
order to prevent buggy implementations and to support API &lt; 23.</section><section id=component-blocker-improvements class=level3 data-number=6.9.9><h3 data-number=6.9.9><span class=header-section-number>6.9.9</span>
<a href=#toc:component-blocker-improvements>Component Blocker
Improvements</a><a href=#component-blocker-improvements class=anchor aria-hidden=true></a></h3><p>Component blocker seemed to be problematic in the previous version,
especially when global component blocking is enabled. The issues are
mostly fixed now.<div class="amalert warning"><p><strong><em>Caution.</em></strong><p>The component blocking mechanism is no longer compatible with v2.5.6
due to various security issues. If you have this version, upgrade to
v2.5.13 or earlier versions first. After that, enable <a href=#subsubsec:instant-component-blocking>global component
blocking</a> and disable it again.</div></section><section id=improvements-in-the-app-details-page class=level3 data-number=6.9.10><h3 data-number=6.9.10><span class=header-section-number>6.9.10</span> <a href=#toc:improvements-in-the-app-details-page>Improvements in the App
Details Page</a><a href=#improvements-in-the-app-details-page class=anchor aria-hidden=true></a></h3><p>Value of various app ops depend on their parent app ops. Therefore,
when you allow/deny an app op, the parent of the app op gets modified.
This fixes the issues some users have been complaining regarding some
app ops that couldn’t be changed.<p>If an app has the target API 23 or less, its permissions cannot be
modified using the <code>pm grant …</code> command. Therefore, for such
apps, option to toggle permission has been disabled.<p>The signature tab is improved to support localization. It also
displays multiple checksums for a signature.</section><section id=app-manifest class=level3 data-number=6.9.11><h3 data-number=6.9.11><span class=header-section-number>6.9.11</span> <a href=#toc:app-manifest>App Manifest</a><a href=#app-manifest class=anchor aria-hidden=true></a></h3><p>Manifest no longer crashes if the size of the manifest is too long.
Generated manifest are now more accurate than before.</section></section><section id=v2.5.13-348 class=level2 data-number=6.10><h2 data-number=6.10><span class=header-section-number>6.10</span>
<a href=#toc:v2.5.13-348>v2.5.13 (348)</a><a href=#v2.5.13-348 class=anchor aria-hidden=true></a></h2><section id=bundled-app-split-apk class=level3 data-number=6.10.1><h3 data-number=6.10.1><span class=header-section-number>6.10.1</span> <a href=#toc:bundled-app-split-apk>Bundled App (Split APK)</a><a href=#bundled-app-split-apk class=anchor aria-hidden=true></a></h3><p>Bundled app formats such as <strong>apks</strong> and
<strong>xapk</strong> are now supported. You can install these apps
using the regular installation buttons. For root and adb users, apps are
installed using shell, and for non-root users, the platform default
method is used.<section id=known-limitations-2 class=level5 data-number=6.10.1.0.1><h5 data-number=6.10.1.0.1><span class=header-section-number>6.10.1.0.1</span> Known Limitations<a href=#known-limitations-2 class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Currently <em>all</em> splits apks are installed. But this
behaviour is going to change in the next release. If you only need a few
splits instead of all, extract the <strong>APKS</strong> or
<strong>XAPK</strong> file, and then, create a new zip file with your
desired split apks and replace the <strong>ZIP</strong> extension with
<strong>APKS</strong>. Now, open it with AM.<li><p>There is no progress dialog to display the installation
progress.</ul></section></section><section id=direct-install-support class=level3 data-number=6.10.2><h3 data-number=6.10.2><span class=header-section-number>6.10.2</span> <a href=#toc:direct-install-support>Direct Install Support</a><a href=#direct-install-support class=anchor aria-hidden=true></a></h3><p>You can now install <strong>APK</strong>, <strong>APKS</strong> or
<strong>XAPK</strong> directly from your favourite browser or file
manager. For apps that need updates, a <strong>What’s New</strong>
dialog is displayed showing the changes in the new version.<section id=known-limitations-3 class=level5 data-number=6.10.2.0.1><h5 data-number=6.10.2.0.1><span class=header-section-number>6.10.2.0.1</span> Known Limitations<a href=#known-limitations-3 class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Downgrade is not yet possible.<li><p>There is no progress dialog to display the installation progress.
If you cannot interact with the current page, wait until the
installation is finished.</ul></section></section><section id=remove-all-blocking-rules class=level3 data-number=6.10.3><h3 data-number=6.10.3><span class=header-section-number>6.10.3</span> <a href=#toc:remove-all-blocking-rules>Remove All Blocking Rules</a><a href=#remove-all-blocking-rules class=anchor aria-hidden=true></a></h3><p>In the Settings page, a new option is added which can be used to
remove all blocking rules configured within App Manager.</section><section id=app-ops class=level3 data-number=6.10.4><h3 data-number=6.10.4><span class=header-section-number>6.10.4</span> <a href=#toc:app-ops>App
Ops</a><a href=#app-ops class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p>App Ops are now generated using a technique similar to AppOpsX.
This should decrease the loading time significantly in the App Ops
tab.<li><p>In the App Ops tab, a menu item is added which can be used to
list only active app ops without including the default app ops. The
preference is saved in the shared preferences.</ul><section id=known-limitation-4 class=level5 data-number=6.10.4.0.1><h5 data-number=6.10.4.0.1><span class=header-section-number>6.10.4.0.1</span> Known Limitation<a href=#known-limitation-4 class=anchor aria-hidden=true></a></h5><p>Often the App Ops tab may not be responsive. If that’s the case,
restart App Manager.</section></section><section id=enhanced-adb-support class=level3 data-number=6.10.5><h3 data-number=6.10.5><span class=header-section-number>6.10.5</span> <a href=#toc:enhanced-adb-support>Enhanced ADB Support</a><a href=#enhanced-adb-support class=anchor aria-hidden=true></a></h3><p>ADB shell commands are now executed using a technique similar to
AppOpsX (This is the <em>free</em> alternative of AppOps by Rikka.).
This should dramatically increase the execution time.<section id=known-limitation-5 class=level5 data-number=6.10.5.0.1><h5 data-number=6.10.5.0.1><span class=header-section-number>6.10.5.0.1</span> Known Limitation<a href=#known-limitation-5 class=anchor aria-hidden=true></a></h5><p>AM can often crash or become not responsive. If that’s the case,
restart App Manager.</section></section><section id=filtering-in-main-page class=level3 data-number=6.10.6><h3 data-number=6.10.6><span class=header-section-number>6.10.6</span> <a href=#toc:filtering-in-main-page>Filtering in Main Page</a><a href=#filtering-in-main-page class=anchor aria-hidden=true></a></h3><p>Add an option to filter apps that has at least one activity.</section><section id=apk-backupsharing class=level3 data-number=6.10.7><h3 data-number=6.10.7><span class=header-section-number>6.10.7</span> <a href=#toc:apk-backupsharing>Apk Backup/Sharing</a><a href=#apk-backupsharing class=anchor aria-hidden=true></a></h3><p>Apk files are now saved as <code>app name_version.extension</code>
instead of <code>package.name.extension</code>.</section><section id=batch-ops class=level3 data-number=6.10.8><h3 data-number=6.10.8><span class=header-section-number>6.10.8</span> <a href=#toc:batch-ops>Batch Ops</a><a href=#batch-ops class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p>Added a foreground service to run batch operations. The result of
the operation is displayed in a notification. If an operation has failed
for some packages, clicking on the notification will open a dialog box
listing the failed packages. There is also a <strong>Try Again</strong>
button on the bottom which can be used to perform the operation again
for the failed packages.<li><p>Replaced Linux <em>kill</em> with
<strong>force-stop</strong>.</ul></section><section id=translations class=level3 data-number=6.10.9><h3 data-number=6.10.9><span class=header-section-number>6.10.9</span> <a href=#toc:translations>Translations</a><a href=#translations class=anchor aria-hidden=true></a></h3><p>Added German and Portuguese (Brazilian) translations.<section id=known-limitation-6 class=level5 data-number=6.10.9.0.1><h5 data-number=6.10.9.0.1><span class=header-section-number>6.10.9.0.1</span> Known Limitation<a href=#known-limitation-6 class=anchor aria-hidden=true></a></h5><p>Not all translations are verified yet.</section></section><section id=app-data-backup class=level3 data-number=6.10.10><h3 data-number=6.10.10><span class=header-section-number>6.10.10</span> <a href=#toc:app-data-backup>App Data Backup</a><a href=#app-data-backup class=anchor aria-hidden=true></a></h3><p>Install app only for the current user at the time of restoring
backups. Support for split apks is also added.<p><em>Data backup feature is now considered unstable. If you encounter
any problem, please report to me without hesitation.</em></section></section></section><section id=ch:app-ops class=level1 data-number=7><h1 data-number=7><span class=header-section-number>7</span> <a href=#toc:ch:app-ops>App Ops</a><a href=#ch:app-ops class=anchor aria-hidden=true></a></h1><section id=sec:app-ops-background class=level2 data-number=7.1><h2 data-number=7.1><span class=header-section-number>7.1</span> <a href=#toc:sec:app-ops-background>Background</a><a href=#sec:app-ops-background class=anchor aria-hidden=true></a></h2><p><strong>App Ops</strong> (short hand for <strong>Application
Operations</strong>) are used by Android system (since Android 4.3) to
control application permissions. The user <em>can</em> control some
permissions, but only the permissions that are considered dangerous (and
Google thinks knowing your phone number isn’t a dangerous thing). So,
app ops seems to be the one we need if we want to install apps like
Facebook and it’s Messenger (the latter literary records everything if
you live outside the EU) and still want <em>some</em> privacy and/or
security. Although certain features of app ops were available in
Settings and later in hidden settings in older version of Android, it’s
completely hidden in newer versions of Android and is continued to be
kept hidden. Now, any app with
<strong>android.Manifest.permission.GET_APP_OPS_STATS</strong>
permission can get the app ops information for other applications but
this permission is hidden from users and can only be enabled using ADB
or root. Still, the app with this permission cannot grant or revoke
permissions (actually mode of operation) for apps other than itself
(with limited capacity, of course). To modify the ops of other app, the
app needs
<strong>android.Manifest.permission.UPDATE_APP_OPS_STATS</strong>
permissions which isn’t accessible via <code>pm</code> command. So, you
cannot grant it via root or ADB, the permission is only granted to the
system apps. There are very few apps who support disabling permissions
via app ops. The best one to my knowledge is <a href=https://github.com/8enet/AppOpsX>AppOpsX</a>. The main (visible)
difference between my app (AppManager) and this app is that the latter
also provides you the ability to revoke internet permissions (by writing
ip tables). One crucial problem that I faced during the development of
the app ops API is the lack of documentation in English language.</section><section id=sec:introduction-to-app-ops class=level2 data-number=7.2><h2 data-number=7.2><span class=header-section-number>7.2</span> <a href=#toc:sec:introduction-to-app-ops>Introduction to App Ops</a><a href=#sec:introduction-to-app-ops class=anchor aria-hidden=true></a></h2><figure id=fig:appops><figure><object data=../images/appops.svg type=image/svg+xml></object></figure><figcaption>Figure 2: How app ops work</figcaption></figure><p>Figure <a href=#fig:appops>1</a> describes the process of changing
and processing permission. <a href=#sec:appopsmanager>AppOpsManager</a> can be used to manage
permissions in Settings app. <strong>AppOpsManager</strong> is also
useful in determining if a certain permission (or operation) is granted
to the application. Most of the methods of
<strong>AppOpsManager</strong> are accessible to the user app but unlike
a system app, it can only be used to check permissions for any app or
for the app itself and start or terminating certain operations.
Moreover, not all operations are actually accessible from this Java
class. <strong>AppOpsManager</strong> holds all the necessary constants
such as <a href=#subsec:op-constants><code>OP_*</code></a>,
<code>OPSTR_*</code>, <a href=#subsec:mode-constants><code>MODE_*</code></a> which describes
operation code, operation string and mode of operations respectively. It
also holds necessary data structures such as <a href=#subsec:package-ops>PackageOps</a> and <strong>OpEntry</strong>.
<strong>PackageOps</strong> holds <strong>OpEntry</strong> for a
package, and <strong>OpEntry</strong>, as the name suggests, describes
each operation.<p><code>AppOpService</code> is completely hidden from a user
application but accessible to the system applications. As it can be seen
in Figure <a href=#fig:appops>1</a>, this is the class that does the
actual management stuff. It contains data structures such as
<strong>Ops</strong> to store basic package info and <strong>Op</strong>
which is similar to <strong>OpEntry</strong> of
<strong>AppOpsManager</strong>. It also has <strong>Shell</strong> which
is actually the source code of the <a href=#sec:appops-cli><em>appops</em> command line tool</a>. It writes
configurations to or read configurations from <a href=#sec:appops-xml><code>/data/system/appops.xml</code></a>. System
services calls <strong>AppOpsService</strong> to find out what an
application is allowed and what is not allowed to perform, and
<strong>AppOpsService</strong> determines these permissions by parsing
<code>/data/system/appops.xml</code>. If no custom values are present in
<em>appops.xml</em>, it returns the default mode available in
<strong>AppOpsManager</strong>.</section><section id=sec:appopsmanager class=level2 data-number=7.3><h2 data-number=7.3><span class=header-section-number>7.3</span> <a href=#toc:sec:appopsmanager>AppOpsManager</a><a href=#sec:appopsmanager class=anchor aria-hidden=true></a></h2><p><a href=https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/AppOpsManager.java>AppOpsManager</a>
stands for application operations manager. It consists of various
constants and classes to modify app operations.<div class=seealso-inline><p><em>另见: <span><a href=https://developer.android.com/reference/android/app/AppOpsManager>AppOpsManager
documentation</a></span></em></div><section id=subsec:op-constants class=level3 data-number=7.3.1><h3 data-number=7.3.1><span class=header-section-number>7.3.1</span>
<a href=#toc:subsec:op-constants><code>OP_*</code> Constants</a><a href=#subsec:op-constants class=anchor aria-hidden=true></a></h3><p><code>OP_*</code> are the integer constants starting from
<code>0</code>. <code>OP_NONE</code> implies that no operations are
specified whereas <code>_NUM_OP</code> denotes the number of operations
defined in <code>OP_*</code> prefix. While they denote each operation,
the operations are not necessarily unique. In fact, there are many
operations that are actually a single operation denoted by multiple
<code>OP_*</code> constant (possibly for future use). Vendors may define
their own op based on their requirements. MIUI is one of the vendors who
are known to do that.<div class=listing><div class=sourceCode id=cb11 data-frame=lines><pre class="sourceCode java"><code class="sourceCode java"><span id=cb11-1><a href=#cb11-1 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_NONE <span class=op>=</span> <span class=op>-</span><span class=dv>1</span><span class=op>;</span></span>
<span id=cb11-2><a href=#cb11-2 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_COARSE_LOCATION <span class=op>=</span> <span class=dv>0</span><span class=op>;</span></span>
<span id=cb11-3><a href=#cb11-3 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_FINE_LOCATION <span class=op>=</span> <span class=dv>1</span><span class=op>;</span></span>
<span id=cb11-4><a href=#cb11-4 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_GPS <span class=op>=</span> <span class=dv>2</span><span class=op>;</span></span>
<span id=cb11-5><a href=#cb11-5 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_VIBRATE <span class=op>=</span> <span class=dv>3</span><span class=op>;</span></span>
<span id=cb11-6><a href=#cb11-6 aria-hidden=true tabindex=-1></a><span class=kw>...</span></span>
<span id=cb11-7><a href=#cb11-7 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_READ_DEVICE_IDENTIFIERS <span class=op>=</span> <span class=dv>89</span><span class=op>;</span></span>
<span id=cb11-8><a href=#cb11-8 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_ACCESS_MEDIA_LOCATION <span class=op>=</span> <span class=dv>90</span><span class=op>;</span></span>
<span id=cb11-9><a href=#cb11-9 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_ACTIVATE_PLATFORM_VPN <span class=op>=</span> <span class=dv>91</span><span class=op>;</span></span>
<span id=cb11-10><a href=#cb11-10 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> _NUM_OP <span class=op>=</span> <span class=dv>92</span><span class=op>;</span></span></code></pre></div></div><p>Whether an operation is unique is defined by
<code>sOpToSwitch</code>. It maps each operation to another operation or
to itself (if it’s a unique operation). For instance,
<code>OP_FINE_LOCATION</code> and <code>OP_GPS</code> are mapped to
<code>OP_COARSE_LOCATION</code>.<p>Each operation has a private name which are described by
<code>sOpNames</code>. These names are usually the same names as the
constants without the <code>OP_</code> prefix. Some operations have
public names as well which are described by <code>sOpToString</code>.
For instance, <code>OP_COARSE_LOCATION</code> has the public name
<strong>android:coarse_location</strong>.<p>As a gradual process of moving permissions to app ops, there are
already many permissions that are defined under some operations. These
permissions are mapped in <code>sOpPerms</code>. For example, the
permission
<strong>android.Manifest.permission.ACCESS_COARSE_LOCATION</strong> is
mapped to <code>OP_COARSE_LOCATION</code>. Some operations may not have
any associated permissions which have <code>null</code> values.<p>As described in the previous section, operations that are configured
for an app are stored at <a href=#sec:appops-xml><code>/data/system/appops.xml</code></a>. If an
operation is not configured, then whether system will allow that
operation is determined from <code>sOpDefaultMode</code>. It lists the
<em>default mode</em> for each operation.</section><section id=subsec:mode-constants class=level3 data-number=7.3.2><h3 data-number=7.3.2><span class=header-section-number>7.3.2</span>
<a href=#toc:subsec:mode-constants><code>MODE_*</code> Constants</a><a href=#subsec:mode-constants class=anchor aria-hidden=true></a></h3><p><code>MODE_*</code> constants also integer constants starting from
<code>0</code>. These constants are assigned to each operation
describing whether an app is authorised to perform that operation. These
modes usually have associated names such as <strong>allow</strong> for
<code>MODE_ALLOWED</code>, <strong>ignore</strong> for
<code>MODE_IGNORED</code>, <strong>deny</strong> for
<code>MODE_ERRORED</code> (a rather misnomer), <strong>default</strong>
for <code>MODE_DEFAULT</code> and <strong>foreground</strong> for
<code>MODE_FOREGROUND</code>.<ol class=incremental><li><p><strong><code>MODE_ALLOWED</code>.</strong> The app is allowed to
perform the given operation<li><p><strong><code>MODE_IGNORED</code>.</strong> The app is not
allowed to perform the given operation, and any attempt to perform the
operation should <em>silently fail</em>, i.e. it should not cause the
app to crash<li><p><strong><code>MODE_ERRORED</code>.</strong> The app is not
allowed to perform the given operation, and this attempt should cause it
to have a fatal error, typically a
<code>SecurityException</code><li><p><strong><code>MODE_DEFAULT</code>.</strong> The app should use
its default security check, specified in
<code>AppOpsManager</code><li><p><strong><code>MODE_FOREGROUND</code>.</strong> Special mode that
means “allow only when app is in foreground.” This mode was added in
Android 10<li><p><strong><code>MODE_ASK</code>.</strong> This is a custom mode
used by MIUI whose uses are unknown.</ol></section><section id=subsec:package-ops class=level3 data-number=7.3.3><h3 data-number=7.3.3><span class=header-section-number>7.3.3</span>
<a href=#toc:subsec:package-ops>PackageOps</a><a href=#subsec:package-ops class=anchor aria-hidden=true></a></h3><p><strong>AppOpsManager.PackageOps</strong> is a data structure to
store all the <strong>OpEntry</strong> for a package. In simple terms,
it stores all the customised operations for a package.<div class=listing><div class=sourceCode id=cb12 data-frame=lines><pre class="sourceCode java"><code class="sourceCode java"><span id=cb12-1><a href=#cb12-1 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=kw>class</span> PackageOps <span class=kw>implements</span> Parcelable <span class=op>{</span></span>
<span id=cb12-2><a href=#cb12-2 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=bu>String</span> mPackageName<span class=op>;</span></span>
<span id=cb12-3><a href=#cb12-3 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=dt>int</span> mUid<span class=op>;</span></span>
<span id=cb12-4><a href=#cb12-4 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=bu>List</span><span class=op>&lt;</span>OpEntry<span class=op>&gt;</span> mEntries<span class=op>;</span></span>
<span id=cb12-5><a href=#cb12-5 aria-hidden=true tabindex=-1></a>    <span class=kw>...</span></span>
<span id=cb12-6><a href=#cb12-6 aria-hidden=true tabindex=-1></a><span class=op>}</span></span></code></pre></div></div><p>As can be seen in Listing <a href=#lst:package-ops-class>2</a>, it
stores all <strong>OpEntry</strong> for a package as well as the
corresponding package name and its kernel user ID.</section><section id=subsec:opentry class=level3 data-number=7.3.4><h3 data-number=7.3.4><span class=header-section-number>7.3.4</span>
<a href=#toc:subsec:opentry>OpEntry</a><a href=#subsec:opentry class=anchor aria-hidden=true></a></h3><p><strong>AppOpsManager.OpEntry</strong> is a data structure that
stores a single operation for any package.<div class=listing><div class=sourceCode id=cb13 data-frame=lines><pre class="sourceCode java"><code class="sourceCode java"><span id=cb13-1><a href=#cb13-1 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=kw>class</span> OpEntry <span class=kw>implements</span> Parcelable <span class=op>{</span></span>
<span id=cb13-2><a href=#cb13-2 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=dt>int</span> mOp<span class=op>;</span></span>
<span id=cb13-3><a href=#cb13-3 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=dt>boolean</span> mRunning<span class=op>;</span></span>
<span id=cb13-4><a href=#cb13-4 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Mode</span> <span class=dt>int</span> mMode<span class=op>;</span></span>
<span id=cb13-5><a href=#cb13-5 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mAccessTimes<span class=op>;</span></span>
<span id=cb13-6><a href=#cb13-6 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mRejectTimes<span class=op>;</span></span>
<span id=cb13-7><a href=#cb13-7 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mDurations<span class=op>;</span></span>
<span id=cb13-8><a href=#cb13-8 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mProxyUids<span class=op>;</span></span>
<span id=cb13-9><a href=#cb13-9 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseArray<span class=op>&lt;</span><span class=bu>String</span><span class=op>&gt;</span> mProxyPackageNames<span class=op>;</span></span>
<span id=cb13-10><a href=#cb13-10 aria-hidden=true tabindex=-1></a>    <span class=kw>...</span></span>
<span id=cb13-11><a href=#cb13-11 aria-hidden=true tabindex=-1></a><span class=op>}</span></span></code></pre></div></div><p>Here:<ul class=incremental><li><p><code>mOp</code>: Denotes one of the <a href=#subsec:op-constants><code>OP_*</code> constants</a><li><p><code>mRunning</code>: Whether the operation is in progress
(i.e. the operation has started but not finished yet). Not all
operations can be started or finished this way<li><p><code>mMOde</code>: One of the <a href=#subsec:mode-constants><code>MODE_*</code> constants</a><li><p><code>mAccessTimes</code>: Stores all the available access
times<li><p><code>mRejectTimes</code>: Stores all the available reject
times<li><p><code>mDurations</code>: All available access durations, checking
this with <code>mRunning</code> will tell you for how long the app is
performing a certain app operation<li><p><code>mProxyUids</code>: No documentation found<li><p><code>mProxyPackageNames:</code> No documentation found</ul></section><section id=subsec:usage class=level3 data-number=7.3.5><h3 data-number=7.3.5><span class=header-section-number>7.3.5</span>
<a href=#toc:subsec:usage>Usage</a><a href=#subsec:usage class=anchor aria-hidden=true></a></h3><p>TODO</section></section><section id=sec:appopsservice class=level2 data-number=7.4><h2 data-number=7.4><span class=header-section-number>7.4</span> <a href=#toc:sec:appopsservice>AppOpsService</a><a href=#sec:appopsservice class=anchor aria-hidden=true></a></h2><p>TODO</section><section id=sec:appops-xml class=level2 data-number=7.5><h2 data-number=7.5><span class=header-section-number>7.5</span> <a href=#toc:sec:appops-xml>appops.xml</a><a href=#sec:appops-xml class=anchor aria-hidden=true></a></h2><p>Latest <code>appops.xml</code> has the following format: (This DTD is
made by me and by no means perfect, has compatibility issues.)<pre><code>&lt;!DOCTYPE app-ops [

&lt;!ELEMENT app-ops (uid|pkg)*&gt;
&lt;!ATTLIST app-ops v CDATA #IMPLIED&gt;

&lt;!ELEMENT uid (op)*&gt;
&lt;!ATTLIST uid n CDATA #REQUIRED&gt;

&lt;!ELEMENT pkg (uid)*&gt;
&lt;!ATTLIST pkg n CDATA #REQUIRED&gt;

&lt;!ELEMENT uid (op)*&gt;
&lt;!ATTLIST uid
n CDATA #REQUIRED
p CDATA #IMPLIED&gt;

&lt;!ELEMENT op (st)*&gt;
&lt;!ATTLIST op
n CDATA #REQUIRED
m CDATA #REQUIRED&gt;

&lt;!ELEMENT st EMPTY&gt;
&lt;!ATTLIST st
n CDATA #REQUIRED
t CDATA #IMPLIED
r CDATA #IMPLIED
d CDATA #IMPLIED
pp CDATA #IMPLIED
pu CDATA #IMPLIED&gt;

]&gt;</code></pre><p>The instruction below follows the exact order given above:<ul class=incremental><li><p><code>app-ops</code>: The root element. It can contain any number
of <code>pkg</code> or package <code>uid</code><ul class=incremental><li><p><code>v</code>: (optional, integer) The version number (default:
<code>NO_VERSION</code> or <code>-1</code>)</ul><li><p><code>pkg</code>: Stores package info. It can contain any number
of <code>uid</code><ul class=incremental><li><p><code>n</code>: (required, string) Name of the package</ul><li><p>Package <code>uid</code>: Stores package or packages info<ul class=incremental><li><p><code>n</code>: (required, integer) The user ID</ul><li><p><code>uid</code>: The package user ID. It can contain any number
of <code>op</code><ul class=incremental><li><p><code>n</code>: (required, integer) The user ID<li><p><code>p</code>: (optional, boolean) Is the app is a
private/system app</ul><li><p><code>op</code>: The operation, can contain <code>st</code> or
nothing at all<ul class=incremental><li><p><code>n</code>: (required, integer) The op name in integer,
i.e. AppOpsManager.OP_*<li><p><code>m</code>: (required, integer) The op mode,
i.e. AppOpsManager.MODE_*</ul><li><p><code>st</code>: State of operation: whether the operation is
accessed, rejected or running (not available on old versions)<ul class=incremental><li><p><code>n</code>: (required, long) Key containing flags and
uid<li><p><code>t</code>: (optional, long) Access time (default:
<code>0</code>)<li><p><code>r</code>: (optional, long) Reject time (default:
<code>0</code>)<li><p><code>d</code>: (optional, long) Access duration (default:
<code>0</code>)<li><p><code>pp</code>: (optional, string) Proxy package name<li><p><code>pu</code>: (optional, integer) Proxy package uid</ul></ul><p>This definition can be found at <a href=https://android.googlesource.com/platform/frameworks/base/+/master/services/core/java/com/android/server/appop/AppOpsService.java>AppOpsService</a>.</section><section id=sec:appops-cli class=level2 data-number=7.6><h2 data-number=7.6><span class=header-section-number>7.6</span> <a href=#toc:sec:appops-cli>Command Line Interface</a><a href=#sec:appops-cli class=anchor aria-hidden=true></a></h2><p><code>appops</code> or <code>cmd appops</code> (on latest versions)
can be accessible via ADB or root. This is an easier method to get or
update any operation for a package (provided the package name is known).
The help page of this command is self-explanatory:<pre><code>AppOps service (appops) commands:
help
Print this help text.
start [--user &lt;USER_ID&gt;] &lt;PACKAGE | UID&gt; &lt;OP&gt;
Starts a given operation for a particular application.
stop [--user &lt;USER_ID&gt;] &lt;PACKAGE | UID&gt; &lt;OP&gt;
Stops a given operation for a particular application.
set [--user &lt;USER_ID&gt;] &lt;[--uid] PACKAGE | UID&gt; &lt;OP&gt; &lt;MODE&gt;
Set the mode for a particular application and operation.
get [--user &lt;USER_ID&gt;] &lt;PACKAGE | UID&gt; [&lt;OP&gt;]
Return the mode for a particular application and optional operation.
query-op [--user &lt;USER_ID&gt;] &lt;OP&gt; [&lt;MODE&gt;]
Print all packages that currently have the given op in the given mode.
reset [--user &lt;USER_ID&gt;] [&lt;PACKAGE&gt;]
Reset the given application or all applications to default modes.
write-settings
Immediately write pending changes to storage.
read-settings
Read the last written settings, replacing current state in RAM.
options:
&lt;PACKAGE&gt; an Android package name or its UID if prefixed by --uid
&lt;OP&gt;      an AppOps operation.
&lt;MODE&gt;    one of allow, ignore, deny, or default
&lt;USER_ID&gt; the user id under which the package is installed. If --user is not
specified, the current user is assumed.</code></pre></section></section><section id=footnotes class="footnotes footnotes-end-of-document" role=doc-endnotes><hr><ol><li id=fn1><p>For distributing normal releases only<a href=#fnref1 class=footnote-back role=doc-backlink>↩︎</a><li id=fn2><p>GitHub 的 PR 将使用 git patch 进行手动合并, 因此, GitHub
可能会错误地将它们标记为closed而不是merged.<a href=#fnref2 class=footnote-back role=doc-backlink>↩︎</a><li id=fn3><p>你也可以叫我“Muntashir Akon”<a href=#fnref3 class=footnote-back role=doc-backlink>↩︎</a></ol></section>