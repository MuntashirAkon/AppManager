<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=zh-hant xml:lang=zh-Hant><meta charset=utf-8><meta name=generator content="pandoc"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=author content="Muntashir Al-Islam"><title>App Manager</title><style>code{white-space:pre-wrap}span.smallcaps{font-variant:small-caps}span.underline{text-decoration:underline}div.column{display:inline-block;vertical-align:top;width:50%}div.hanging-indent{margin-left:1.5em;text-indent:-1.5em}ul.task-list{list-style:none}pre>code.sourceCode{white-space:pre;position:relative}pre>code.sourceCode>span{display:inline-block;line-height:1.25}pre>code.sourceCode>span:empty{height:1.2em}.sourceCode{overflow:visible}code.sourceCode>span{color:inherit;text-decoration:inherit}div.sourceCode{margin:1em 0}pre.sourceCode{margin:0}@media screen{div.sourceCode{overflow:auto}}@media print{pre>code.sourceCode{white-space:pre-wrap}pre>code.sourceCode>span{text-indent:-5em;padding-left:5em}}pre.numberSource code{counter-reset:source-line 0}pre.numberSource code>span{position:relative;left:-4em;counter-increment:source-line}pre.numberSource code>span>a:first-child::before{content:counter(source-line);position:relative;left:-1em;text-align:right;vertical-align:baseline;border:none;display:inline-block;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;width:4em}pre.numberSource{margin-left:3em;padding-left:4px}div.sourceCode{}@media screen{pre>code.sourceCode>span>a:first-child::before{text-decoration:underline}}code span.al{font-weight:700}code span.an{font-style:italic}code span.cf{font-weight:700}code span.co{font-style:italic}code span.cv{font-style:italic}code span.do{font-style:italic}code span.dt{text-decoration:underline}code span.er{font-weight:700}code span.in{font-style:italic}code span.kw{font-weight:700}code span.pp{font-weight:700}code span.wa{font-style:italic}.display.math{display:block;text-align:center;margin:.5rem auto}</style><link rel=stylesheet href=../css/custom.css><header id=title-block-header><h1 class=title>App Manager</h1><p class=author>Muntashir Al-Islam</header><nav id=TOC role=doc-toc><ul class=incremental><li><span><span class=toc-section-number>1</span> <a href=#ch:introduction id=toc:ch:introduction>簡介</a></span><ul class=incremental><li><span><span class=toc-section-number>1.1</span> <a href=#sec:terminologies id=toc:sec:terminologies>術語</a></span><li><span><span class=toc-section-number>1.2</span> <a href=#sec:supported-versions id=toc:sec:supported-versions>受支持的版本</a></span><li><span><span class=toc-section-number>1.3</span> <a href=#sec:official-sources id=toc:sec:official-sources>官方來源</a></span><ul class=incremental><li><span><span class=toc-section-number>1.3.1</span> <a href=#subsec:binary-distribution-sources id=toc:subsec:binary-distribution-sources>二進制(可執行)分發來源</a></span><li><span><span class=toc-section-number>1.3.2</span> <a href=#subsec:links-to-source-code id=toc:subsec:links-to-source-code>源碼鏈接</a></span><li><span><span class=toc-section-number>1.3.3</span> <a href=#subsec:translations id=toc:subsec:translations>翻譯</a></span></ul><li><span><span class=toc-section-number>1.4</span> <a href=#sec:contributing id=toc:sec:contributing>貢獻</a></span><ul class=incremental><li><span><span class=toc-section-number>1.4.1</span> <a href=#subsec:build-instructions id=toc:subsec:build-instructions>構建說明</a></span><li><span><span class=toc-section-number>1.4.2</span> <a href=#subsec:submitting-patches id=toc:subsec:submitting-patches>提交補丁</a></span></ul><li><span><span class=toc-section-number>1.5</span> <a href=#sec:donation-&-funding id=toc:sec:donation-&-funding>捐贈 & 資助</a></span><li><span><span class=toc-section-number>1.6</span> <a href=#sec:contact id=toc:sec:contact>聯系我們</a></span></ul><li><span><span class=toc-section-number>2</span> <a href=#ch:pages id=toc:ch:pages>頁面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.1</span> <a href=#sec:main-page id=toc:sec:main-page>主頁</a></span><ul class=incremental><li><span><span class=toc-section-number>2.1.1</span> <a href=#subsec:batch-operations id=toc:subsec:batch-operations>批處理</a></span><li><span><span class=toc-section-number>2.1.2</span> <a href=#subsec:main-colour-codes id=toc:subsec:main-colour-codes>顏色代碼含義</a></span><li><span><span class=toc-section-number>2.1.3</span> <a href=#subsec:main-page-application-types id=toc:subsec:main-page-application-types>應用類型</a></span><li><span><span class=toc-section-number>2.1.4</span> <a href=#subsec:main-page-version-info id=toc:subsec:main-page-version-info>版本信息</a></span><li><span><span class=toc-section-number>2.1.5</span> <a href=#subsec:main-page-options-menu id=toc:subsec:main-page-options-menu>選項菜單</a></span></ul><li><span><span class=toc-section-number>2.2</span> <a href=#sec:app-details-page id=toc:sec:app-details-page>應用程序詳情頁</a></span><ul class=incremental><li><span><span class=toc-section-number>2.2.1</span> <a href=#subsec:app-details-colour-codes id=toc:subsec:app-details-colour-codes>顏色代碼含義</a></span><li><span><span class=toc-section-number>2.2.2</span> <a href=#subsec:app-info-tab id=toc:subsec:app-info-tab>應用信息</a></span><li><span><span class=toc-section-number>2.2.3</span> <a href=#subsec:component-tabs id=toc:subsec:component-tabs>組件選項卡</a></span><li><span><span class=toc-section-number>2.2.4</span> <a href=#subsec:permission-tabs id=toc:subsec:permission-tabs>權限選項卡</a></span><li><span><span class=toc-section-number>2.2.5</span> <a href=#subsec:signatures-tab id=toc:subsec:signatures-tab>簽名選項卡</a></span><li><span><span class=toc-section-number>2.2.6</span> <a href=#subsec:shared-libs-tab id=toc:subsec:shared-libs-tab>共享庫選項卡</a></span><li><span><span class=toc-section-number>2.2.7</span> <a href=#subsec:other-tabs id=toc:subsec:other-tabs>其他選項卡</a></span></ul><li><span><span class=toc-section-number>2.3</span> <a href=#sec:1-click-ops-page id=toc:sec:1-click-ops-page>一鍵操作頁</a></span><ul class=incremental><li><span><span class=toc-section-number>2.3.1</span> <a href=#subsec:block-unblock-trackers id=toc:subsec:block-unblock-trackers>Block/Unblock
Trackers</a></span><li><span><span class=toc-section-number>2.3.2</span> <a href=#subsec:block-components-dots id=toc:subsec:block-components-dots>Block Components…</a></span><li><span><span class=toc-section-number>2.3.3</span> <a href=#subsec:set-mode-for-app-ops-dots id=toc:subsec:set-mode-for-app-ops-dots>Set Mode for App
Ops…</a></span><li><span><span class=toc-section-number>2.3.4</span> <a href=#subsec:1-click-back-up id=toc:subsec:1-click-back-up>備份</a></span><li><span><span class=toc-section-number>2.3.5</span> <a href=#subsec:1-click-restore id=toc:subsec:1-click-restore>恢覆</a></span></ul><li><span><span class=toc-section-number>2.4</span> <a href=#sec:profiles-page id=toc:sec:profiles-page>配置文件頁面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.4.1</span> <a href=#subsec:profiles-options-menu id=toc:subsec:profiles-options-menu>選項菜單</a></span></ul><li><span><span class=toc-section-number>2.5</span> <a href=#sec:profile-page id=toc:sec:profile-page>配置頁</a></span><ul class=incremental><li><span><span class=toc-section-number>2.5.1</span> <a href=#subsec:profile-options-menu id=toc:subsec:profile-options-menu>選項菜單</a></span><li><span><span class=toc-section-number>2.5.2</span> <a href=#subsec:profile-apps-tab id=toc:subsec:profile-apps-tab>應用程序選項卡</a></span><li><span><span class=toc-section-number>2.5.3</span> <a href=#subsec:profile-configurations-tab id=toc:subsec:profile-configurations-tab>配置選項卡</a></span></ul><li><span><span class=toc-section-number>2.6</span> <a href=#sec:settings-page id=toc:sec:settings-page>設置頁面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.6.1</span> <a href=#subsec:language id=toc:subsec:language>界面語言</a></span><li><span><span class=toc-section-number>2.6.2</span> <a href=#subsec:app-theme id=toc:subsec:app-theme>應用主題</a></span><li><span><span class=toc-section-number>2.6.3</span> <a href=#subsec:screen-lock id=toc:subsec:screen-lock>屏幕鎖定</a></span><li><span><span class=toc-section-number>2.6.4</span> <a href=#subsec:mode-of-operation id=toc:subsec:mode-of-operation>操作模式</a></span><li><span><span class=toc-section-number>2.6.5</span> <a href=#subsec:selected-users id=toc:subsec:selected-users>Selected
Users</a></span><li><span><span class=toc-section-number>2.6.6</span> <a href=#subsec:enable/disable-features id=toc:subsec:enable/disable-features>啟用/禁用功能</a></span><li><span><span class=toc-section-number>2.6.7</span> <a href=#subsec:saved-apk-name-format id=toc:subsec:saved-apk-name-format>Saved APK Name
Format</a></span><li><span><span class=toc-section-number>2.6.8</span> <a href=#subsec:apk-signing id=toc:subsec:apk-signing>APK
簽名</a></span><li><span><span class=toc-section-number>2.6.9</span> <a href=#subsec:installer id=toc:subsec:installer>安裝器</a></span><li><span><span class=toc-section-number>2.6.10</span> <a href=#subsec:backup/restore id=toc:subsec:backup/restore>備份/恢覆</a></span><li><span><span class=toc-section-number>2.6.11</span> <a href=#subsec:rules id=toc:subsec:rules>規則</a></span><li><span><span class=toc-section-number>2.6.12</span> <a href=#subsec:import/export-keystore id=toc:subsec:import/export-keystore>導入/導出密鑰庫</a></span><li><span><span class=toc-section-number>2.6.13</span> <a href=#subsec:device-info id=toc:subsec:device-info>關於設備</a></span></ul><li><span><span class=toc-section-number>2.7</span> <a href=#sec:scanner-page id=toc:sec:scanner-page>掃描器頁面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.7.1</span> <a href=#subsec:missing-signatures id=toc:subsec:missing-signatures>缺少簽名</a></span></ul><li><span><span class=toc-section-number>2.8</span> <a href=#sec:interceptor-page id=toc:sec:interceptor-page>攔截器頁面</a></span><ul class=incremental><li><span><span class=toc-section-number>2.8.1</span> <a href=#subsec:intent-filters id=toc:subsec:intent-filters>意圖(Intent)過濾器</a></span><li><span><span class=toc-section-number>2.8.2</span> <a href=#subsec:matching-activities id=toc:subsec:matching-activities>匹配的活動(Activity)</a></span><li><span><span class=toc-section-number>2.8.3</span> <a href=#subsec:interceptor-reset-to-default id=toc:subsec:interceptor-reset-to-default>重置為默認</a></span><li><span><span class=toc-section-number>2.8.4</span> <a href=#subsec:interceptor-send-edited-intent id=toc:subsec:interceptor-send-edited-intent>發送編輯過的意圖(Intent)</a></span></ul><li><span><span class=toc-section-number>2.9</span> <a href=#sec:shared-preferences-editor-page id=toc:sec:shared-preferences-editor-page>共享首選項(Shared
Preferences)編輯頁</a></span></ul><li><span><span class=toc-section-number>3</span> <a href=#ch:guides id=toc:ch:guides>指南</a></span><ul class=incremental><li><span><span class=toc-section-number>3.1</span> <a href=#sec:adb-over-tcp id=toc:sec:adb-over-tcp>經由 TCP 的
ADB</a></span><ul class=incremental><li><span><span class=toc-section-number>3.1.1</span> <a href=#subsec:enable-developer-options id=toc:subsec:enable-developer-options>啟用開發者選項</a></span><li><span><span class=toc-section-number>3.1.2</span> <a href=#subsec:enable-usb-debugging id=toc:subsec:enable-usb-debugging>啟用USB調試</a></span><li><span><span class=toc-section-number>3.1.3</span> <a href=#subsec:setup-adb-on-pc-or-mac id=toc:subsec:setup-adb-on-pc-or-mac>在PC或Mac上配置ADB</a></span><li><span><span class=toc-section-number>3.1.4</span> <a href=#subsec:configure-adb-over-tcp id=toc:subsec:configure-adb-over-tcp>配置經由TCP的ADB</a></span><li><span><span class=toc-section-number>3.1.5</span> <a href=#subsec:references id=toc:subsec:references>參考</a></span></ul><li><span><span class=toc-section-number>3.2</span> <a href=#sec:wireless-debugging id=toc:sec:wireless-debugging>Wireless
Debugging</a></span><ul class=incremental><li><span><span class=toc-section-number>3.2.1</span> <a href=#subsec:enable-developer-options-and-usb-debugging id=toc:subsec:enable-developer-options-and-usb-debugging>Enable
developer options and USB Debugging</a></span><li><span><span class=toc-section-number>3.2.2</span> <a href=#subsec:enable-wireless-debugging id=toc:subsec:enable-wireless-debugging>Enable Wireless
Debugging</a></span><li><span><span class=toc-section-number>3.2.3</span> <a href=#subsec:pair-adb-with-app-manager id=toc:subsec:pair-adb-with-app-manager>Pair ADB with App
Manager</a></span><li><span><span class=toc-section-number>3.2.4</span> <a href=#subsec:connect-app-manager-to-adb id=toc:subsec:connect-app-manager-to-adb>Connect App Manager to
ADB</a></span></ul><li><span><span class=toc-section-number>3.3</span> <a href=#sec:backup-restore id=toc:sec:backup-restore>備份/恢覆</a></span><ul class=incremental><li><span><span class=toc-section-number>3.3.1</span> <a href=#subsec:backup-location id=toc:subsec:backup-location>位置</a></span><li><span><span class=toc-section-number>3.3.2</span> <a href=#subsec:backup-restore-backup-options id=toc:subsec:backup-restore-backup-options>備份選項</a></span><li><span><span class=toc-section-number>3.3.3</span> <a href=#subsec:backup-restore-backup id=toc:subsec:backup-restore-backup>備份</a></span><li><span><span class=toc-section-number>3.3.4</span> <a href=#subsec:backup-restore-restore id=toc:subsec:backup-restore-restore>恢覆</a></span><li><span><span class=toc-section-number>3.3.5</span> <a href=#subsec:backup-restore-delete-backup id=toc:subsec:backup-restore-delete-backup>刪除備份</a></span></ul><li><span><span class=toc-section-number>3.4</span> <a href=#sec:automating-tasks id=toc:sec:automating-tasks>Automating
Tasks</a></span><ul class=incremental><li><span><span class=toc-section-number>3.4.1</span> <a href=#subsec:generating-authorization-key id=toc:subsec:generating-authorization-key>Generating authorization
key</a></span><li><span><span class=toc-section-number>3.4.2</span> <a href=#subsec:at:general-configuration id=toc:subsec:at:general-configuration>Configuring
tasks</a></span><li><span><span class=toc-section-number>3.4.3</span> <a href=#subsec:at:features id=toc:subsec:at:features>Features</a></span><li><span><span class=toc-section-number>3.4.4</span> <a href=#subsec:triggering-a-profile id=toc:subsec:triggering-a-profile>Triggering a
profile</a></span></ul><li><span><span class=toc-section-number>3.5</span> <a href=#sec:net-policy id=toc:sec:net-policy>連網策略</a></span></ul><li><span><span class=toc-section-number>4</span> <a href=#ch:faq id=toc:ch:faq>常見問題</a></span><ul class=incremental><li><span><span class=toc-section-number>4.1</span> <a href=#sec:faq:app-components id=toc:sec:faq:app-components>應用組件</a></span><ul class=incremental><li><span><span class=toc-section-number>4.1.1</span> <a href=#subsec:faq:what-are-app-components id=toc:subsec:faq:what-are-app-components>什麽是應用組件？</a></span><li><span><span class=toc-section-number>4.1.2</span> <a href=#subsec:faq:how-components-blocked id=toc:subsec:faq:how-components-blocked>追蹤器或其他組件在App
Manager中是如何被禁用的？其局限性是什麽？</a></span><li><span><span class=toc-section-number>4.1.3</span> <a href=#subsec:faq:components-blocked-by-others id=toc:subsec:faq:components-blocked-by-others>被其他工具禁用的應用程序組件是否保留在App
Manager中？</a></span><li><span><span class=toc-section-number>4.1.4</span> <a href=#subsec:faq:components-reblocked-in-am id=toc:subsec:faq:components-reblocked-in-am>被 App Manager
禁用但同時也被其他工具禁用的組件會發生什麽？</a></span><li><span><span class=toc-section-number>4.1.5</span> <a href=#subsec:faq:what-is-instant-component-blocking id=toc:subsec:faq:what-is-instant-component-blocking>什麽是即時組件禁用？</a></span><li><span><span class=toc-section-number>4.1.6</span> <a href=#subsec:tracker-classes-versus-tracker-components id=toc:subsec:tracker-classes-versus-tracker-components>跟蹤器類與跟蹤器組件</a></span></ul><li><span><span class=toc-section-number>4.2</span> <a href=#sec:faq:adb-over-tcp id=toc:sec:faq:adb-over-tcp>ADB over TCP
(經由TCP的ADB)</a></span><ul class=incremental><li><span><span class=toc-section-number>4.2.1</span> <a href=#subsec:faq:enable-adb-on-every-restart id=toc:subsec:faq:enable-adb-on-every-restart>我必須在每次重啟後啟用ADB
over TCP嗎？</a></span><li><span><span class=toc-section-number>4.2.2</span> <a href=#subsec:faq:usb-debugging id=toc:subsec:faq:usb-debugging>無法啟用 USB
調試，怎麽辦？</a></span><li><span><span class=toc-section-number>4.2.3</span> <a href=#subsec:faq:block-components-using-adb id=toc:subsec:faq:block-components-using-adb>我可以使用 ADB over TCP
來禁用跟蹤器或任何其他應用程序組件嗎？</a></span><li><span><span class=toc-section-number>4.2.4</span> <a href=#subsec:faq:adb-features id=toc:subsec:faq:adb-features>哪些功能可以在ADB模式下使用？</a></span></ul><li><span><span class=toc-section-number>4.3</span> <a href=#sec:faq:miscellanea id=toc:sec:faq:miscellanea>雜項</a></span><ul class=incremental><li><span><span class=toc-section-number>4.3.1</span> <a href=#subsec:faq:no-root-no-harms id=toc:subsec:faq:no-root-no-harms>我不使用root/ADB，是否完全安全？</a></span><li><span><span class=toc-section-number>4.3.2</span> <a href=#subsec:faq:how-trackers-libs-updated id=toc:subsec:faq:how-trackers-libs-updated>跟蹤器和庫是如何更新的？</a></span><li><span><span class=toc-section-number>4.3.3</span> <a href=#subsec:faq:apks-deleted-after-installed id=toc:subsec:faq:apks-deleted-after-installed>Are APKs deleted after
installed?</a></span><li><span><span class=toc-section-number>4.3.4</span> <a href=#subsec:faq:shizuku-support id=toc:subsec:faq:shizuku-support>對於 Shizuku
有何計劃？</a></span><li><span><span class=toc-section-number>4.3.5</span> <a href=#subsec:faq:what-are-bloatware id=toc:subsec:faq:what-are-bloatware>什麽是預裝(bloatware)軟件以及如何刪除？</a></span></ul></ul><li><span><span class=toc-section-number>5</span> <a href=#ch:specifications id=toc:ch:specifications>語法</a></span><ul class=incremental><li><span><span class=toc-section-number>5.1</span> <a href=#sec:rules-specification id=toc:sec:rules-specification>規則語法</a></span><ul class=incremental><li><span><span class=toc-section-number>5.1.1</span> <a href=#背景介紹 id=toc:背景介紹>背景介紹</a></span><li><span><span class=toc-section-number>5.1.2</span> <a href=#規則文件格式 id=toc:規則文件格式>規則文件格式</a></span></ul></ul><li><span><span class=toc-section-number>6</span> <a href=#ch:changelogs id=toc:ch:changelogs>更新日志</a></span><ul class=incremental><li><span><span class=toc-section-number>6.1</span> <a href=#sec:v3.0.0-(410) id=toc:sec:v3.0.0-(410)>v3.0.0
(410)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.1.1</span> <a href=#material-3-and-more id=toc:material-3-and-more>Material 3 and
More</a></span><li><span><span class=toc-section-number>6.1.2</span> <a href=#wireless-debugging id=toc:wireless-debugging>Wireless
Debugging</a></span><li><span><span class=toc-section-number>6.1.3</span> <a href=#languages id=toc:languages>Languages</a></span><li><span><span class=toc-section-number>6.1.4</span> <a href=#introducing-app-explorer id=toc:introducing-app-explorer>Introducing App
Explorer</a></span><li><span><span class=toc-section-number>6.1.5</span> <a href=#import-backups-from-other-applications id=toc:import-backups-from-other-applications>Import Backups from
Other Applications</a></span><li><span><span class=toc-section-number>6.1.6</span> <a href=#virustotal id=toc:virustotal>VirusTotal</a></span><li><span><span class=toc-section-number>6.1.7</span> <a href=#trigger-profiles-from-the-automation-software id=toc:trigger-profiles-from-the-automation-software>Trigger Profiles
from the Automation Software</a></span><li><span><span class=toc-section-number>6.1.8</span> <a href=#improved-application-installer id=toc:improved-application-installer>Improved Application
Installer</a></span><li><span><span class=toc-section-number>6.1.9</span> <a href=#component-blocking id=toc:component-blocking>Component
Blocking</a></span><li><span><span class=toc-section-number>6.1.10</span> <a href=#advanced-searching id=toc:advanced-searching>Advanced
Searching</a></span><li><span><span class=toc-section-number>6.1.11</span> <a href=#shared-libraries id=toc:shared-libraries>Shared
Libraries</a></span><li><span><span class=toc-section-number>6.1.12</span> <a href=#make-the-best-use-of-interceptor id=toc:make-the-best-use-of-interceptor>Make the Best Use of
Interceptor</a></span><li><span><span class=toc-section-number>6.1.13</span> <a href=#widget-screen-time id=toc:widget-screen-time>Widget: Screen
Time</a></span><li><span><span class=toc-section-number>6.1.14</span> <a href=#widget-clear-cache id=toc:widget-clear-cache>Widget: Clear
Cache</a></span></ul><li><span><span class=toc-section-number>6.2</span> <a href=#sec:v2.6.0-(385) id=toc:sec:v2.6.0-(385)>v2.6.0
(385)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.2.1</span> <a href=#introducing-backups id=toc:introducing-backups>Introducing
Backups</a></span><li><span><span class=toc-section-number>6.2.2</span> <a href=#introducing-log-viewer id=toc:introducing-log-viewer>Introducing Log Viewer</a></span><li><span><span class=toc-section-number>6.2.3</span> <a href=#lock-app-manager id=toc:lock-app-manager>Lock App
Manager</a></span><li><span><span class=toc-section-number>6.2.4</span> <a href=#extended-modes-for-app-ops id=toc:extended-modes-for-app-ops>Extended Modes for App
Ops</a></span><li><span><span class=toc-section-number>6.2.5</span> <a href=#new-batch-ops-add-to-profile id=toc:new-batch-ops-add-to-profile>New Batch Ops: Add to
Profile</a></span><li><span><span class=toc-section-number>6.2.6</span> <a href=#app-info-improved id=toc:app-info-improved>App Info:
Improved</a></span><li><span><span class=toc-section-number>6.2.7</span> <a href=#advanced-sort-and-filtering-options-in-the-main-page id=toc:advanced-sort-and-filtering-options-in-the-main-page>Advanced
Sort and Filtering Options in the Main Page</a></span><li><span><span class=toc-section-number>6.2.8</span> <a href=#about-this-device id=toc:about-this-device>About This
Device</a></span><li><span><span class=toc-section-number>6.2.9</span> <a href=#enabledisable-features id=toc:enabledisable-features>Enable/disable Features</a></span><li><span><span class=toc-section-number>6.2.10</span> <a href=#new-languages id=toc:new-languages>New
Languages</a></span><li><span><span class=toc-section-number>6.2.11</span> <a href=#signing-the-apk-files id=toc:signing-the-apk-files>Signing the
APK Files</a></span><li><span><span class=toc-section-number>6.2.12</span> <a href=#new-extension-unapkm id=toc:new-extension-unapkm>New
Extension: UnAPKM</a></span></ul><li><span><span class=toc-section-number>6.3</span> <a href=#sec:v2.5.20-(375) id=toc:sec:v2.5.20-(375)>v2.5.20
(375)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.3.1</span> <a href=#subsec:introducing-profiles id=toc:subsec:introducing-profiles>Introducing
Profiles</a></span><li><span><span class=toc-section-number>6.3.2</span> <a href=#subsec:the-interceptor id=toc:subsec:the-interceptor>The
Interceptor</a></span><li><span><span class=toc-section-number>6.3.3</span> <a href=#subsec:unapkm:-dedrm-the-apkm-files id=toc:subsec:unapkm:-dedrm-the-apkm-files>UnAPKM: DeDRM the APKM
files</a></span><li><span><span class=toc-section-number>6.3.4</span> <a href=#subsec:multiple-user id=toc:subsec:multiple-user>Multiple
user</a></span><li><span><span class=toc-section-number>6.3.5</span> <a href=#vive-la-france id=toc:vive-la-france>Vive la
France!</a></span><li><span><span class=toc-section-number>6.3.6</span> <a href=#report-crashes id=toc:report-crashes>Report
crashes</a></span><li><span><span class=toc-section-number>6.3.7</span> <a href=#android-11 id=toc:android-11>Android 11</a></span><li><span><span class=toc-section-number>6.3.8</span> <a href=#app-installer-improvements id=toc:app-installer-improvements>App Installer
Improvements</a></span></ul><li><span><span class=toc-section-number>6.4</span> <a href=#v2.5.17-368 id=toc:v2.5.17-368>v2.5.17 (368)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.4.1</span> <a href=#app-installer id=toc:app-installer>App
Installer</a></span><li><span><span class=toc-section-number>6.4.2</span> <a href=#scanner-replacement-for-exodus-page id=toc:scanner-replacement-for-exodus-page>Scanner: Replacement for
Exodus Page</a></span><li><span><span class=toc-section-number>6.4.3</span> <a href=#introducing-system-config id=toc:introducing-system-config>Introducing System
Config</a></span><li><span><span class=toc-section-number>6.4.4</span> <a href=#more-languages id=toc:more-languages>More
Languages</a></span><li><span><span class=toc-section-number>6.4.5</span> <a href=#app-info-tab id=toc:app-info-tab>App Info Tab</a></span><li><span><span class=toc-section-number>6.4.6</span> <a href=#navigation-improvements id=toc:navigation-improvements>Navigation Improvements</a></span><li><span><span class=toc-section-number>6.4.7</span> <a href=#running-apps-page id=toc:running-apps-page>Running Apps
Page</a></span><li><span><span class=toc-section-number>6.4.8</span> <a href=#built-in-toybox id=toc:built-in-toybox>Built-in
Toybox</a></span><li><span><span class=toc-section-number>6.4.9</span> <a href=#component-blocker-improvements id=toc:component-blocker-improvements>Component Blocker
Improvements</a></span><li><span><span class=toc-section-number>6.4.10</span> <a href=#improvements-in-the-app-details-page id=toc:improvements-in-the-app-details-page>Improvements in the App
Details Page</a></span><li><span><span class=toc-section-number>6.4.11</span> <a href=#app-manifest id=toc:app-manifest>App Manifest</a></span></ul><li><span><span class=toc-section-number>6.5</span> <a href=#v2.5.13-348 id=toc:v2.5.13-348>v2.5.13 (348)</a></span><ul class=incremental><li><span><span class=toc-section-number>6.5.1</span> <a href=#bundled-app-split-apk id=toc:bundled-app-split-apk>Bundled App
(Split APK)</a></span><li><span><span class=toc-section-number>6.5.2</span> <a href=#direct-install-support id=toc:direct-install-support>Direct
Install Support</a></span><li><span><span class=toc-section-number>6.5.3</span> <a href=#remove-all-blocking-rules id=toc:remove-all-blocking-rules>Remove All Blocking
Rules</a></span><li><span><span class=toc-section-number>6.5.4</span> <a href=#app-ops id=toc:app-ops>App Ops</a></span><li><span><span class=toc-section-number>6.5.5</span> <a href=#enhanced-adb-support id=toc:enhanced-adb-support>Enhanced ADB
Support</a></span><li><span><span class=toc-section-number>6.5.6</span> <a href=#filtering-in-main-page id=toc:filtering-in-main-page>Filtering
in Main Page</a></span><li><span><span class=toc-section-number>6.5.7</span> <a href=#apk-backupsharing id=toc:apk-backupsharing>Apk
Backup/Sharing</a></span><li><span><span class=toc-section-number>6.5.8</span> <a href=#batch-ops id=toc:batch-ops>Batch Ops</a></span><li><span><span class=toc-section-number>6.5.9</span> <a href=#translations id=toc:translations>Translations</a></span><li><span><span class=toc-section-number>6.5.10</span> <a href=#app-data-backup id=toc:app-data-backup>App Data
Backup</a></span></ul></ul><li><span><span class=toc-section-number>7</span> <a href=#ch:app-ops id=toc:ch:app-ops>App Ops</a></span><ul class=incremental><li><span><span class=toc-section-number>7.1</span> <a href=#sec:app-ops-background id=toc:sec:app-ops-background>Background</a></span><li><span><span class=toc-section-number>7.2</span> <a href=#sec:introduction-to-app-ops id=toc:sec:introduction-to-app-ops>Introduction to App
Ops</a></span><li><span><span class=toc-section-number>7.3</span> <a href=#sec:appopsmanager id=toc:sec:appopsmanager>AppOpsManager</a></span><ul class=incremental><li><span><span class=toc-section-number>7.3.1</span> <a href=#subsec:op-constants id=toc:subsec:op-constants><code>OP_*</code> Constants</a></span><li><span><span class=toc-section-number>7.3.2</span> <a href=#subsec:mode-constants id=toc:subsec:mode-constants><code>MODE_*</code>
Constants</a></span><li><span><span class=toc-section-number>7.3.3</span> <a href=#subsec:package-ops id=toc:subsec:package-ops>PackageOps</a></span><li><span><span class=toc-section-number>7.3.4</span> <a href=#subsec:opentry id=toc:subsec:opentry>OpEntry</a></span><li><span><span class=toc-section-number>7.3.5</span> <a href=#subsec:usage id=toc:subsec:usage>Usage</a></span></ul><li><span><span class=toc-section-number>7.4</span> <a href=#sec:appopsservice id=toc:sec:appopsservice>AppOpsService</a></span><li><span><span class=toc-section-number>7.5</span> <a href=#sec:appops-xml id=toc:sec:appops-xml>appops.xml</a></span><li><span><span class=toc-section-number>7.6</span> <a href=#sec:appops-cli id=toc:sec:appops-cli>Command Line
Interface</a></span></ul></ul></nav><div class=titlingpage><div class=center><p><img src=../images/icon.png style=width:1in alt=image><p><strong><span class=smallcaps>App Manager</span></strong><p><strong>用戶手冊</strong><p><em>v3.0.0</em><p>2 8月 2022<p>Copyright © 2020–2022 Muntashir Al-Islam<blockquote><p>明智而緩慢。他們跌跌撞撞地跑得很快。
<span>—勞倫斯修士，<em>羅密歐與朱麗葉</em></span></blockquote></div></div><section id=ch:introduction class=level1 data-number=1><h1 data-number=1><span class=header-section-number>1</span> <a href=#toc:ch:introduction>簡介</a><a href=#ch:introduction class=anchor aria-hidden=true></a></h1><p>App Manager 是一個提供大量功能的高級的 Android
軟件包管理器，因此，需要用戶手冊來幫助用戶正確使用。本文作為 App Manager
的用戶手冊，旨在描述 App Manager 所提供的每一個功能。 本文也可以被認為是
App Manager 的 “官方” 指南，並指明 App Manager 的預期行為。翻譯可能有誤
(原文為英文)。因此，每個有能力的用戶應該閱讀該文件的英文版本，以獲得最佳的體驗。
此外還可能有其他非官方的或第三方的資源，如博客文章、視頻、聊天群組等。雖然這些資源可能對許多人有用，但它們可能不是針對最新版本。
如果在App Manager中發現任何偏離本文檔的情況，應在 <a href=https://github.com/MuntashirAkon/AppManager/issues>App Manager
問題追蹤</a>內反映。<section id=sec:terminologies class=level2 data-number=1.1><h2 data-number=1.1><span class=header-section-number>1.1</span> <a href=#toc:sec:terminologies>術語</a><a href=#sec:terminologies class=anchor aria-hidden=true></a></h2><ul class=incremental><li><p><strong>AM</strong> — App Manager<li><p><strong>Block/Unblock</strong> — Used for component blocking or
unblocking. How components are blocked depends on the user
preferences.<li><p><strong>IFW</strong> — Intent Firewall (意圖防火墻)<li><p><strong>Ops</strong> — operations (操作), e.g. app ops, batch
ops, 1-click ops<li><p><strong>SSAID</strong> — <code>Settings.Secure.ANDROID_ID</code>
- 分配給每個應用的設備標識符 (Android
Oreo及以上版本)，由應用簽名與包<code>android</code>的SSAID組合生成的。因此，除非用戶選擇格式化設備，否則它保證對每個應用來說都是獨一無二的。它被廣泛用於跟蹤用戶。<li><p><strong>Tracker</strong> — Denotes tracker components throughout
the document and in App Manager except in the <a href=#sec:scanner-page>scanner page</a>. Trackers include libraries
such as crash reporters, analytics, profiling, identification, ad,
location, etc. Thus, they are not equal in functions. There is no
distinction or bias between open source and closed source libraries that
promote tracking.</ul></section><section id=sec:supported-versions class=level2 data-number=1.2><h2 data-number=1.2><span class=header-section-number>1.2</span> <a href=#toc:sec:supported-versions>受支持的版本</a><a href=#sec:supported-versions class=anchor aria-hidden=true></a></h2><p>當前，支持的版本是v2.6.0（穩定版），v3.0.0（alpha和debug版）。先前版本的
App Manager 可能包含安全漏洞，不應繼續使用。</section><section id=sec:official-sources class=level2 data-number=1.3><h2 data-number=1.3><span class=header-section-number>1.3</span> <a href=#toc:sec:official-sources>官方來源</a><a href=#sec:official-sources class=anchor aria-hidden=true></a></h2><section id=subsec:binary-distribution-sources class=level3 data-number=1.3.1><h3 data-number=1.3.1><span class=header-section-number>1.3.1</span>
<a href=#toc:subsec:binary-distribution-sources>二進制(可執行)分發來源</a><a href=#subsec:binary-distribution-sources class=anchor aria-hidden=true></a></h3><p>App Manager 通過以下渠道發布。 非官方來源可能分發 App Manager
的修改版本，後果自負。<ol class=incremental><li><p>F-Droid <a href=#fn1 class=footnote-ref id=fnref1 role=doc-noteref><sup>1</sup></a><br><em>Link:</em> <a href=https://f-droid.org/packages/io.github.muntashirakon.AppManager class=uri>https://f-droid.org/packages/io.github.muntashirakon.AppManager</a><li><p>GitHub repository.<br><em>Normal releases:</em> <a href=https://github.com/MuntashirAkon/AppManager/releases class=uri>https://github.com/MuntashirAkon/AppManager/releases</a><br><em>Debug releases:</em> <a href=https://github.com/MuntashirAkon/AppManager/actions class=uri>https://github.com/MuntashirAkon/AppManager/actions</a><li><p>Telegram.<br><em>Normal releases:</em> <a href=https://t.me/AppManagerChannel class=uri>https://t.me/AppManagerChannel</a><br><em>Debug releases:</em> <a href=https://t.me/AppManagerDebug class=uri>https://t.me/AppManagerDebug</a></ol></section><section id=subsec:links-to-source-code class=level3 data-number=1.3.2><h3 data-number=1.3.2><span class=header-section-number>1.3.2</span>
<a href=#toc:subsec:links-to-source-code>源碼鏈接</a><a href=#subsec:links-to-source-code class=anchor aria-hidden=true></a></h3><p>除了GitHub外其他都是鏡像鏈接。tags 應當始終是最新的，但 master
分支不保證是 最新的。如果計劃 clone master 分支，請使用 GitHub
鏈接而不是其他鏈接。<ol class=incremental><li><p>GitHub: <a href=https://github.com/MuntashirAkon/AppManager class=uri>https://github.com/MuntashirAkon/AppManager</a><li><p>GitLab: <a href=https://gitlab.com/muntashir/AppManager class=uri>https://gitlab.com/muntashir/AppManager</a><li><p>Codeberg: <a href=https://codeberg.org/muntashir/AppManager class=uri>https://codeberg.org/muntashir/AppManager</a><li><p>Riseup: <a href=https://0xacab.org/muntashir/AppManager class=uri>https://0xacab.org/muntashir/AppManager</a></ol></section><section id=subsec:translations class=level3 data-number=1.3.3><h3 data-number=1.3.3><span class=header-section-number>1.3.3</span>
<a href=#toc:subsec:translations>翻譯</a><a href=#subsec:translations class=anchor aria-hidden=true></a></h3><p>App Manager 不接受直接通過PR/MR進行的翻譯。翻譯僅通過 Weblate
進行自動化管理。 要加入翻譯團隊，請訪問 <a href=https://hosted.weblate.org/engage/app-manager/ class=uri>https://hosted.weblate.org/engage/app-manager/</a>。</section></section><section id=sec:contributing class=level2 data-number=1.4><h2 data-number=1.4><span class=header-section-number>1.4</span> <a href=#toc:sec:contributing>貢獻</a><a href=#sec:contributing class=anchor aria-hidden=true></a></h2><p>用戶可有通過多種方式做出貢獻，如創建有用 issues 、參加討論、
改進文檔和翻譯，添加未被認可的庫或跟蹤器，
審查源代碼以及報告安全漏洞。<section id=subsec:build-instructions class=level3 data-number=1.4.1><h3 data-number=1.4.1><span class=header-section-number>1.4.1</span>
<a href=#toc:subsec:build-instructions>構建說明</a><a href=#subsec:build-instructions class=anchor aria-hidden=true></a></h3><p>在位於源碼根目錄下的BUILDING文件中可以獲得編譯指導。</section><section id=subsec:submitting-patches class=level3 data-number=1.4.2><h3 data-number=1.4.2><span class=header-section-number>1.4.2</span>
<a href=#toc:subsec:submitting-patches>提交補丁</a><a href=#subsec:submitting-patches class=anchor aria-hidden=true></a></h3><p>除GitHub之外的倉庫目前被視為鏡像，在這些網站提交的 PR/MR 將不被接受.
<a href=#fn2 class=footnote-ref id=fnref2 role=doc-noteref><sup>2</sup></a> 相反，patches (<code>.patch</code>
文件)
可以通過電子郵件附件提交。<em>請務必對Commits簽名(Signing-off)</em>
更多信息請參見位於源碼根目錄下的CONTRIBUTING文件.<div class="amalert warning"><p><strong><em>注意.</em></strong><p>在通過電子郵件提交補丁是，整個郵件對話在將來可能會被公開訪問.
所以，請不要除了您的姓名和電子郵件地址之外，不要包含任何個人身份信息（PII）.</div></section></section><section id=sec:donation-&-funding class=level2 data-number=1.5><h2 data-number=1.5><span class=header-section-number>1.5</span> <a href=#toc:sec:donation-&-funding>捐贈 & 資助</a><a href=#sec:donation-&-funding class=anchor aria-hidden=true></a></h2><p><em>捐贈或購買並不是使用App Manager的必要條件.</em> 雖然 App Manager
不支持任何任何內購, 但可以通過 Open Source Collective 向 App Manager
的所有者發送捐贈.<p>Open Source Collective 是 Open Collective
平台上的一個財政托管機構，以幫助開源項目管理他們的財務狀況。
目前，它支持通過銀行賬戶、PayPal、信用卡或借記卡和加密貨幣發起捐贈.<p><em>Link:</em> <a href=https://opencollective.com/muntashir class=uri>https://opencollective.com/muntashir</a>.<p>通過發送捐款，發送者同意他們不應使用捐款作為籌碼來使作者優先考慮其所請求的功能.
請求新功能不需要任何捐贈，且它們的優先級是按作者傾向排序.<p><em>App Manager 接受任何資助的提議</em>
有興趣的組織的代表可以通過以下方式直接聯系聯系所有者: §<a href=#sec:contact data-reference-type=ref data-reference=sec:contact>1.6</a>.</section><section id=sec:contact class=level2 data-number=1.6><h2 data-number=1.6><span class=header-section-number>1.6</span> <a href=#toc:sec:contact>聯系我們</a><a href=#sec:contact class=anchor aria-hidden=true></a></h2><p>Muntashir Al-Islam<a href=#fn3 class=footnote-ref id=fnref3 role=doc-noteref><sup>3</sup></a><br>郵箱: <a href=mailto:muntashirakon@riseup.net>muntashirakon [at]
riseup [dot] net</a><br>Key Fingerprint:
<code>7bad37c2981e41f8f6abea7f58f0b4f26c346fce</code><br>GitHub: <a href=https://github.com/MuntashirAkon class=uri>https://github.com/MuntashirAkon</a><br>Twitter: <a href=https://twitter.com/Muntashir class=uri>https://twitter.com/Muntashir</a></section></section><section id=ch:pages class=level1 data-number=2><h1 data-number=2><span class=header-section-number>2</span> <a href=#toc:ch:pages>頁面</a><a href=#ch:pages class=anchor aria-hidden=true></a></h1><section id=sec:main-page class=level2 data-number=2.1><h2 data-number=2.1><span class=header-section-number>2.1</span> <a href=#toc:sec:main-page>主頁</a><a href=#sec:main-page class=anchor aria-hidden=true></a></h2><p>主頁面列出所有已安裝、已卸載和已備份的應用。
單獨點擊任何已安裝的應用項目可打開相應的 <a href=#sec:app-details-page>應用詳情頁</a>。
對於未安裝的系統應用，它會顯示一個 對話框提示，可以用來重新安裝該應用。
使用列表選項中的 <a href=#par:main-page-sort>排序</a>
，可以選擇應用列表的排序方式，退出應用後仍會保留排序方式。
使用列表選項中的 <a href=#par:main-page-filter>過濾</a>，可以過濾列表選項。
篩選也可以通過搜索欄進行過濾，並支持正則表達式。<p><figure><object data=../images/main_page_entry_info_labeled.svg type=image/svg+xml id=fig:main_page_entry_info_labeled></object></figure><section id=subsec:batch-operations class=level3 data-number=2.1.1><h3 data-number=2.1.1><span class=header-section-number>2.1.1</span>
<a href=#toc:subsec:batch-operations>批處理</a><a href=#subsec:batch-operations class=anchor aria-hidden=true></a></h3><p>批處理也可以在這個頁面內進行。
多選模式可以由點擊任何應用圖標或長按列表中的任何一項進入。
進入後，僅需單擊列表中的任何一項便可選中，而不是打開應用程序詳情頁。
該模式下，批處理操作位於位於頁面底部的多選菜單，包括包括：<ul class=incremental><li><p>將選中應用添加到 <a href=#sec:profiles-page>配置</a><li><p><a href=#sec:backup-restore>備份、恢覆或刪除</a>應用程序<li><p>阻止應用中的追蹤器<li><p>清除應用數據或緩存<li><p>啟用/停用/強制停止/卸載應用程序<li><p>導出屏蔽規則<li><p>阻止應用的後台操作 (Android 7 及更高版本)<li><p>導出APK文件到 <code>AppManager/apks</code><li><p>設置<a href=#sec:net-policy>聯網規則</a></ul><div class="amalert tip"><p><strong><em>無障礙.</em></strong><p>進入多選模式後，鍵盤或遙控器的左右鍵呼出多選菜單。</div></section><section id=subsec:main-colour-codes class=level3 data-number=2.1.2><h3 data-number=2.1.2><span class=header-section-number>2.1.2</span>
<a href=#toc:subsec:main-colour-codes>顏色代碼含義</a><a href=#subsec:main-colour-codes class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p><span class=colorbox style=background-color:#fceed1><span style=color:#000>淺灰橙(日間模式下)</span></span> / <span class=colorbox style=background-color:#091f36><span style=color:#fff>深藍(夜間模式下)</span></span> –
多選模式下被選中的應用<li><p><span class=colorbox style=background-color:#ff8a80><span style=color:#000>淺紅(日間模式下)</span></span> / <span class=colorbox style=background-color:#4f1c14><span style=color:#fff>深紅
(夜間模式下)</span></span> – 停用的應用<li><p><span class=colorbox style=background-color:#ff0><span style=color:#000>黃色星標</span></span> – 可調試的應用<li><p><span style=color:#e05915>橙色 <em>日期</em></span> –
應用可讀取日志<li><p><span style=color:#e05915>橙色 <em>UID</em></span> – 用戶 ID
在應用間被共享<li><p><span style=color:#e05915>橙色 <em>SDK</em></span> –
使用明文網絡通信(如 HTTP)<li><p><span style=color:red>紅色 <em>包名</em></span> –
應用禁止清除數據<li><p><span style=color:red>紅色<em>備份標識</em></span> –
已卸載的應用存在一個或多個備份<li><p><span style=color:#e05915>橙色<em>備份標識</em></span> –
備份過期, 如基本備份中包含已安裝的應用的舊版本<li><p><span style=color:#09868b>深藍綠色 <em>備份標識</em></span>
– 備份在期, 如基本備份中包含已安裝應用的相同或更高版本<li><p><span style=color:#09868b>深藍綠色 <em>包名</em></span> –
已強行停止運行的應用<li><p><span style=color:#09868b>深藍綠色 <em>版本</em></span> –
不活躍的應用<li><p><span style=color:#f0f>紫紅</span> –
常駐應用(一直運行的應用)</ul></section><section id=subsec:main-page-application-types class=level3 data-number=2.1.3><h3 data-number=2.1.3><span class=header-section-number>2.1.3</span>
<a href=#toc:subsec:main-page-application-types>應用類型</a><a href=#subsec:main-page-application-types class=anchor aria-hidden=true></a></h3><p>一個應用程序可以是 <strong>用戶</strong> 或 <strong>系統</strong>
應用，同時存在以下後綴:<ul class=incremental><li><p><code>X</code> – 支持多種架構<li><p><code>0</code> – 不含dex文件<li><p><code>°</code> – 已暫停應用<li><p><code>#</code> –
應用程序請求系統分配一個大堆，即 大運行時內存<li><p><code>?</code> – 應用程序請求虛擬機處於安全模式。</ul></section><section id=subsec:main-page-version-info class=level3 data-number=2.1.4><h3 data-number=2.1.4><span class=header-section-number>2.1.4</span>
<a href=#toc:subsec:main-page-version-info>版本信息</a><a href=#subsec:main-page-version-info class=anchor aria-hidden=true></a></h3><p>版本名稱有以下前綴:<ul class=incremental><li><p><code>_</code> – 沒有硬件加速（減慢應用中的過渡動畫）<li><p><code>~</code> – 僅測試模式<li><p><code>debug</code> – 可調試應用</ul></section><section id=subsec:main-page-options-menu class=level3 data-number=2.1.5><h3 data-number=2.1.5><span class=header-section-number>2.1.5</span>
<a href=#toc:subsec:main-page-options-menu>選項菜單</a><a href=#subsec:main-page-options-menu class=anchor aria-hidden=true></a></h3><p>選項菜單提供了幾個選項，可用以對列出的應用程序進行排序和過濾，
以及轉到 App Manager 內或外的不同頁面。<section id=說明 class=level4 data-number=2.1.5.1><h4 data-number=2.1.5.1><span class=header-section-number>2.1.5.1</span> 說明<a href=#說明 class=anchor aria-hidden=true></a></h4><p>點擊 <strong>指南</strong> 打開離線版的App Manager用戶手冊.
它也可能打開在線版本如果如果相應的功能拆分<code>feat_docs</code>未安裝,
或系統 WebView不存在.</section><section id=subsubsec:main-list-options class=level4 data-number=2.1.5.2><h4 data-number=2.1.5.2><span class=header-section-number>2.1.5.2</span> 列表選項<a href=#subsubsec:main-list-options class=anchor aria-hidden=true></a></h4><p><strong>列表選項</strong>
包含了對主頁面中的列表進行排序和過濾的選項。<section id=排序 class=level5 data-number=2.1.5.2.1><h5 data-number=2.1.5.2.1><span class=header-section-number>2.1.5.2.1</span> 排序<a href=#排序 class=anchor aria-hidden=true></a></h5><div id=par:main-page-sort></div><p>主頁面中列出的應用程序可以按照以下方式進行排序:<ul class=incremental><li><p><strong>用戶應用優先</strong> 用戶應用將優先展示<li><p><strong>應用標簽</strong> 根據應用標簽（也稱為
<em>應用程序名稱</em>）升序排序。(默認選項)<li><p><strong>包名</strong> 根據包名升序排序<li><p><strong>最後更新</strong> 根據更新時間降序排序<li><p><strong>共享 user ID</strong> 根據共享 user ID升序排序<li><p><strong>目標 SDK</strong> 根據目標SDK升序排序<li><p><strong>簽名</strong> 根據簽名信息升序排序<li><p><strong>已停用優先</strong> 已停用將優先展示<li><p><strong>已阻止優先</strong>
根據已阻止的應用組件數目降序排序<li><p><strong>已備份優先</strong> 已備份將優先展示<li><p><strong>追蹤器</strong> 根據追蹤器數目降序排序S<li><p><strong>最後操作</strong> 根據被App
Manager操作的應用時間降序排序</ul><p>此外，還有 <em>反轉</em> 選項，可以用來對列表進行反向排序。
無論怎樣排序偏好，應用程序都是先按字母順序排序，以防止產生任何隨機排序結果.</section><section id=篩選 class=level5 data-number=2.1.5.2.2><h5 data-number=2.1.5.2.2><span class=header-section-number>2.1.5.2.2</span> 篩選<a href=#篩選 class=anchor aria-hidden=true></a></h5><div id=par:main-page-filter></div><p>主頁面中列出的應用可以通過以下方式進行過濾:<ul class=incremental><li><p><strong>用戶</strong> 僅用戶應用<li><p><strong>系統</strong> 僅系統應用<li><p><strong>停用</strong> 僅停用應用<li><p><strong>被阻止</strong> 僅被阻止組件的應用<li><p><strong>可打開</strong> 僅至少有一個Aactivity的應用<li><p><strong>有備份</strong> 僅有備份的應用<li><p><strong>無備份</strong> 僅沒有備份的應用<li><p><strong>運行中</strong> 僅正在運行的應用<li><p><strong>有分包</strong> 僅有分包(多Apk)應用<li><p><strong>已安裝</strong> 僅已安裝應用<li><p><strong>已卸載</strong> 僅已卸載應用</ul><p>與排序不同，它可以同時應用多個過濾選項，
如，停用的用戶應用可以通過選擇 <em>用戶</em>和 <em>停用</em>列出，這對<a href=#subsec:batch-operations>批處理</a>特別有用，在這種情況下過濾用戶應用可能是必要的，以便安全地進行某些操作。
Unlike sorting, it is possible to apply more than one filtering options
at the same time. For example, the disabled user applications can be
listed by selecting both <em>User apps</em> and <em>Disabled apps</em>.
This can be particularly useful for <a href=#subsec:batch-operations>batch operations</a> where filtering the
user applications may be necessary to carry out certain operations
safely.</section><section id=配置文件名稱 class=level5 data-number=2.1.5.2.3><h5 data-number=2.1.5.2.3><span class=header-section-number>2.1.5.2.3</span> 配置文件名稱<a href=#配置文件名稱 class=anchor aria-hidden=true></a></h5><p>也可以列出僅存在於 <a href=#sec:profiles-page>profile</a>
中的應用程序。這個可以
對於在配置文件上執行某些操作（例如，卸載配置文件中的所有應用程序）很有用
不能通過 <a href=#sec:profiles-page>Profiles page</a> 完成。</section></section><section id=subsubsec:main:1-click-ops class=level4 data-number=2.1.5.3><h4 data-number=2.1.5.3><span class=header-section-number>2.1.5.3</span> 一鍵操作<a href=#subsubsec:main:1-click-ops class=anchor aria-hidden=true></a></h4><p><strong>1-Click Ops</strong> 代表單擊操作。它打開 <a href=#sec:1-click-ops-page>corresponding page</a> 在新活動中。</section><section id=應用使用情況 class=level4 data-number=2.1.5.4><h4 data-number=2.1.5.4><span class=header-section-number>2.1.5.4</span> 應用使用情況<a href=#應用使用情況 class=anchor aria-hidden=true></a></h4><p>應用程序使用統計，例如 <em>屏幕時間</em>、<em>數據使用量</em>（移動和
Wi-Fi）、 <em>單擊菜單中的 <strong>App Usage</strong>
選項可以訪問打開應用程序的次數</em>。但是，它需要 <em>使用權限</em>
權限。如果使用訪問功能被禁用，則不會列出此菜單項 <a href=#subsec:enable/disable-features>設置</a>。</section><section id=系統配置 class=level4 data-number=2.1.5.5><h4 data-number=2.1.5.5><span class=header-section-number>2.1.5.5</span> 系統配置<a href=#系統配置 class=anchor aria-hidden=true></a></h4><p>此菜單項打開一個新頁面，其中包含 Android
中包含的各種系統配置、黑名單/白名單 顯示 OEM、供應商、AOSP 或 Magisk
模塊。它需要根。因此，該菜單項不會 如果 App Manager 無法使用 root
權限，則會列出。</section><section id=subsubsec:main:running-apps class=level4 data-number=2.1.5.6><h4 data-number=2.1.5.6><span class=header-section-number>2.1.5.6</span> 正在運行的應用<a href=#subsubsec:main:running-apps class=anchor aria-hidden=true></a></h4><p>此菜單項打開一個新頁面，其中顯示正在運行的應用程序或進程的列表。它還顯示
當前內存和緩存（如果可用）使用情況。如果 App Manager 無法使用 root 或
ADB，它只會顯示自己 在最新版本的 Android
中。正在運行的應用程序或進程也可以在 結果頁面。每個進程 ID (PID)
的日誌也可以在 <a href=#subsubsec:log-viewer>log viewer</a> 中查看。
此外，還可以通過單擊圖標或長按
物品。正常單擊任何項目會打開一個對話框，其中顯示更詳細的信息。</section><section id=配置文件 class=level4 data-number=2.1.5.7><h4 data-number=2.1.5.7><span class=header-section-number>2.1.5.7</span> 配置文件<a href=#配置文件 class=anchor aria-hidden=true></a></h4><p>此菜單項打開 <a href=#sec:profiles-page>profiles
page</a>。配置文件是一種配置經常使用的方法
任務。它們也可以通過快捷方式調用。</section><section id=subsubsec:log-viewer class=level4 data-number=2.1.5.8><h4 data-number=2.1.5.8><span class=header-section-number>2.1.5.8</span> 日志查看器<a href=#subsubsec:log-viewer class=anchor aria-hidden=true></a></h4><p>此菜單項可打開日志查看器頁面，其使用 <code>logcat</code>
命令顯示並管理日志. 此頁面默認只能顯示 App Manager
自身進程的日志記錄，但是，
若授予<code>android.permission.READ_LOGS</code>
權限後，則可顯示來自所有進程的日志. 若當前<a href=#subsec:mode-of-operation>運行模式</a> 為 root 或
ADB，此權限將自動授予.</section><section id=apk更新器 class=level4 data-number=2.1.5.9><h4 data-number=2.1.5.9><span class=header-section-number>2.1.5.9</span> APK更新器<a href=#apk更新器 class=anchor aria-hidden=true></a></h4><p>若系統中已安裝<a href=https://github.com/rumboalla/apkupdater>APK
Updater</a> ，則可通過此菜單項直接打開.
若系統中不存在該應用，則該選項將被隱藏.</section><section id=termux-終端模擬器 class=level4 data-number=2.1.5.10><h4 data-number=2.1.5.10><span class=header-section-number>2.1.5.10</span> Termux 終端模擬器<a href=#termux-終端模擬器 class=anchor aria-hidden=true></a></h4><p>如果系統中已安裝<a href=https://github.com/termux/termux-app>Termux</a>
，則可直接從此菜單項運行會話（或 新會話）.
如果應用不存在，則此選項將被隱藏.</section><section id=設置 class=level4 data-number=2.1.5.11><h4 data-number=2.1.5.11><span class=header-section-number>2.1.5.11</span> 設置<a href=#設置 class=anchor aria-hidden=true></a></h4><p>此菜單項將打開本應用的 <a href=#sec:settings-page>設置</a>.</section></section></section><section id=sec:app-details-page class=level2 data-number=2.2><h2 data-number=2.2><span class=header-section-number>2.2</span> <a href=#toc:sec:app-details-page>應用程序詳情頁</a><a href=#sec:app-details-page class=anchor aria-hidden=true></a></h2><p><strong>應用詳情</strong> 頁面由 11
個標簽頁組成。它描述了一個應用程序所能有的幾乎所有信息,
包括其清單中的所有屬性、<a href=#ch:app-ops>應用操作</a>、簽名
信息、庫等等。<section id=subsec:app-details-colour-codes class=level3 data-number=2.2.1><h3 data-number=2.2.1><span class=header-section-number>2.2.1</span>
<a href=#toc:subsec:app-details-colour-codes>顏色代碼含義</a><a href=#subsec:app-details-colour-codes class=anchor aria-hidden=true></a></h3><p>本頁中使用的顏色列表及它們的含義：<ul class=incremental><li><p><span class=colorbox style=background-color:red><span style=color:#000>正紅 (日間)</span></span> / <span class=colorbox style=background-color:#790d0d><span style=color:#fff>深紅
(夜間)</span></span> – 危險權限或, 被阻止的組件(使用App
Manager操作)<li><p><span class=colorbox style=background-color:#ff8a80><span style=color:#000>亮紅 (日間)</span></span> / <span class=colorbox style=background-color:#4f1c14><span style=color:#fff>緋紅
(夜間)</span></span> – 被阻止的組件(其他應用操作)<div class="amalert tip"><p><strong><em>注意.</em></strong><p>表示在 App Manager 之外禁用(阻止)的組件,
標記為禁用(阻止)的組件並不意味著它被用戶禁用,它也可能是被系統禁用的,
或者在其清單(Android-Manifest.xml)中被標記為禁用(阻止)。被停用的應用程序也會被系統（和App
Manager）視為禁用(阻止)。</div><li><p><span class=colorbox style=background-color:#ff8017><span style=color:#000>鮮橙 (日間)</span></span> / <span class=colorbox style=background-color:#ff801780><span style=color:#fff>深橙 (夜間)</span></span> – 追蹤器組件<li><p><span class=colorbox style=background-color:#ea80fc><span style=color:#000>亮紫 (日間)</span></span> / <span class=colorbox style=background-color:#431c5d><span style=color:#fff>深紫 (夜間)</span></span> – 正在運行的組件</ul></section><section id=subsec:app-info-tab class=level3 data-number=2.2.2><h3 data-number=2.2.2><span class=header-section-number>2.2.2</span>
<a href=#toc:subsec:app-info-tab>應用信息</a><a href=#subsec:app-info-tab class=anchor aria-hidden=true></a></h3><p><strong>應用信息</strong> 選項卡包含關於一個應用程序的基本信息,
許多操作可以在此標簽中執行.<section id=subsubsec:app-info-general-information class=level4 data-number=2.2.2.1><h4 data-number=2.2.2.1><span class=header-section-number>2.2.2.1</span> 基本信息<a href=#subsubsec:app-info-general-information class=anchor aria-hidden=true></a></h4><p>以下的列表與“應用信息”選項卡中列出的順序相同.<ul class=incremental><li><p><strong>應用圖標</strong>:
應用圖標，若應用沒有圖標，則顯示系統默認圖標.
可以點擊圖標，進行與剪貼板中的 SHA 或 MD5 進行 APK 簽名驗證.<li><p><strong>應用標簽</strong>: 應用程序名.<li><p><strong>包名</strong>: 應用程序包名，點擊覆制.<li><p><strong>版本</strong>: 版本分為兩部分: 第一部分稱
<em>版本名(Version Name)</em>.
格式各不相同，但常由多個以點分隔的整數組成. 第二部分稱 <em>版本號</em>.
其被第一個括號括起來. 版本代碼是一個整數，用於 區分應用程序版本
(因為機器無法讀取版本名). 簡言之,
新版本的應用程序具有比舊版本更高的版本代碼. 如，如果 <code>123</code> 和
<code>125</code>
是一個應用程序的兩個版本代碼，我們可以說後者比前者更新(後者的版本代碼更高).
在不同平台（移動、平板、桌面等）或架構（32/64 位、ARM 或
Intel）上為同一版本提供不同 APK
文件的應用程序，版本號可能會產生誤導，因為它們通常會為每個平台添加前綴
.<li><p><strong>標簽</strong>: (也稱標簽雲)
標簽包括應用程序最基本、最簡潔、有用的信息，如—<ul class=incremental><li><p><em>追蹤器信息</em> 應用程序中跟蹤器組件的數量 (如, <em>5
個追蹤器</em>).
如果跟蹤器未被阻止，則標記顏色顯示為橙色，如果跟蹤器在App
Manager中被阻止，則標記顏色顯示為深青色.
單擊標簽會打開一個對話框，其包含跟蹤器組件列表，如果 App Manager
具有足夠的權限，可以阻止或取消阻止這些組件.<li><p><em>應用類型</em>
用戶應用或系統應用。系統應用程序的更新版本和通過 Magisk
無系統安裝的應用也被認為是系統應用.<li><p><em>Split APK 信息</em> APK 中的拆分包數量，不包括基本 APK (e.g.,
<em>5 分包</em>). 單擊標簽會打開一個對話框，其中包含分包 APK
信息，例如類型和大小.<li><p><em>可調試</em> 應用可以通過
ADB調試.可調試應用可以享受常規應用無法使用的某些功能. 應用的數據可以通過
ADB 訪問 (如使用<code>run-as</code> 命令無需任何額外權限).<li><p><em>僅測試</em> 應用是僅測試應用程序.
僅測試應用可以享受常規應用無法使用的某些功能. 應用的數據可以通過 ADB
訪問 (如使用<code>run-as</code> 命令無需任何額外權限).<li><p><em>大(堆/Heap)內存</em> 應用將請求較大的堆內存, 即需要更多內存
(RAM) 空間用於動態分配. 是否為應用程序分配大空間仍由操作系統決定.
如，App Manager 請求較大的堆大小，因為它在 Android 8 之前需要在掃描的
APK 時將整個 APK 加載到內存中App.<li><p><em>無代碼</em> 該應用無任何相關代碼,如不含Dex文件.
在某些系統應用中，實際代碼可能位於其他位置.<li><p><em>運行中</em> 應用的一項或多項服務正在後台運行.
單擊標簽將打開一個對話框，其中包含正在運行的服務列表.
如果啟用了日志查看器功能，單擊任何服務會將在日志查看器中它.<li><p><em>已停止</em> 應用被強制停止.
這可能不會阻止它以後自動啟動.<li><p><em>已禁用</em> 應用被禁用 (在啟動器無圖標).<li><p><em>已掛起</em> 表示應用程序已掛起
(在啟動器中顯示為灰色).<li><p><em>被隱藏</em> 示應用程序是隱藏的 (在啟動器無圖標).<li><p><em>MagiskHide</em> MagiskHide 已啟用.
單擊該標簽會打開一個對話框，其中包含應用程序中可以從 MagiskHide
添加或刪除的進程列表.<li><p><em>MagiskDenyList</em> 該應用程序存在於 MagiskDenyList 中.
單擊標簽會打開一個對話框，其中包含應用程序中可以從 MagiskDenyList
列表中添加或刪除的進程列表.<li><p><em>密匙庫</em> 應用在 Android KeyStore 中存有項目.
單擊將打開一個對話框，其中包含屬於該應用程序的所有 KeyStore
文件.<li><p><em>備份</em> 應用至少使用 App Manager 備份過一次.
單擊標簽會打開一個對話框，其包含所有可用的備份以及元數據.<li><p><em>不進行電池優化</em> 電池優化對應用不生效.
可以通過單擊標簽重新啟用電池優化.<li><p><a href=#sec:net-policy><em>聯網策略</em></a>
為應用配置聯網策略（如，後台數據使用）.
單擊標簽會顯示一個對話框，其中包含系統支持的策略.<li><p><a href=#sec:terminologies><em>SSAID</em></a>
點擊打開一個對話框，其中包含分配給應用程序的當前
SSAID。若需要可以重置/重新生成 SSAID.<li><p><em>SAF</em>
表示應用已被授權訪問一個或多個存儲位置或文件，即獲得由存儲訪問框架 (SAF)
的 URI. 單擊打開一個對話框，其中包含授予的 URI.<li><p><em>被 Google Play 簽名</em> 表示應用程序可能由 Google
簽名.</ul><li><p><strong>水平滾動操作面板</strong>
一個操作面板，由可以對應用執行的各種操作組成,
有關可用操作的完整列表，請參閱§<a href=#subsubsec:horizontal-action-panel data-reference-type=ref data-reference=subsubsec:horizontal-action-panel>2.2.2.2</a>.<li><p><strong>路徑與目錄</strong>: 應用有關路徑的各種信息，包括
<em>應用目錄</em> (where the APK files reside), <em>數據目錄</em>
(internal, device protected and externals), <em>應用分包目錄</em> (along
with the split names), and <em>本機原生 JNI 庫</em> (如果有). JNI
庫用於調用通常用 C/C++ 編寫的本機原生代碼,
使用本機原生庫可以使應用程序運行得更快或幫助應用程序使用使用非 Java
語言編寫的第三方庫，同大多數遊戲中一樣.
通過單擊每個目錄項右側的啟動圖標,
可以通過第三方文件管理器打開目錄，前提是它們支持並獲得必要的權限.<li><p><strong>數據使用</strong>: 操作系統報告的應用程序使用的數據量.
根據 Android 版本，這可能需要廣泛的權限，包括 <em>訪問應用使用情況</em>
和 <em>電話</em> 權限.<li><p><strong>存儲與緩存</strong>: 顯示有關應用程序大小（APK
文件、優化文件）、數據和緩存的信息。
在舊設備中，還會顯示外部數據、緩存、媒體和 OBB 文件夾的大小.
如果在較新的設備中未授予 <em>訪問應用使用情況s</em>
權限，此部分將隱藏.<li><p><strong>更多信息</strong> 例如–<ul class=incremental><li><p><strong>SDK</strong> 顯示與 Android SDK 相關的信息.
存在兩個（舊設備只有一個）值: <em>最高</em> 目標 SDK 與<em>最低</em>
最低SDK (後者不適用於舊設備). 最佳實踐是使用平台當前支持的最大 SDK
的應用程序，以確保應用程序未在兼容模式下運行(以便使用隱私規避功能). SDK
已稱為 <strong>等級(API Level)</strong>.<div class=seealso-inline><p><em>See also: <span><a href=https://en.wikipedia.org/wiki/Android_version_history#Overview>Android
Version History</a></span></em></div><li><p><strong>標志位(Flags)</strong>: 構建應用程序時使用的應用標志,
有關標志的完整列表及其作用, 請見<a href=https://developer.android.com/reference/android/content/pm/ApplicationInfo#flags>official
documentation</a>.<li><p><strong>安裝日期</strong>: 首次安裝應用的日期.<li><p><strong>更新日期</strong>: 上次更新應用程序的日期.
如果應用程序尚未更新，這與 <em>安裝日期</em> 相同.<li><p><strong>安裝器</strong>: 安裝此應用的應用.
並非所有應用程序都提供包管理器用來注冊安裝程序應用程序的信息.
因此，這個值不應被視為理所當然。<li><p><strong>User ID</strong>: Android系統給應用設置的唯一用戶ID.
對於共享應用，相同的用戶 ID 被分配給具有相同 <em>Shared User ID</em>
的多個應用程序.<li><p><strong>Shared User ID</strong>: 適用於一起共享ID的應用.
共享應用必須具有相同的 <a href=#subsec:signatures-tab>簽名</a>.<li><p><strong>首選ABI</strong>: 此平台為此應用程序支持的架構。<li><p><strong>Zygote preload name</strong>:
負責預加載應用程序代碼和在所有使用應用程序 zygote
的隔離服務之間共享的數據.<li><p><strong>隱藏 API 使用策略</strong>: 從 Android 9 開始，Android
Framework 中的許多方法和類第三方應用程序無法通過隱藏 API 強制訪問.
存在以下選項:<ul class=incremental><li><p><em>默認(Default</em>: 基於應用的類型。
對於系統應用程序，它應該被禁用，而對於其他應用，它應該被強制執行.<li><p><em>無或關閉(None/disabled)</em>: 該應用可以完全訪問隱藏的
API，就像在 Android 9 之前一樣.<li><p><em>警告(Warn)</em>: 與上面相同，除了每次應用程序訪問隱藏 API
時都會記錄警告. 這一般未使用的.<li><p><em>強制(Enforce)</em>: 應用無法訪問隱藏的
API，無論是深灰名單還是黑名單，或者兩者都無法訪問. 這是 Android 9
及更高版本中第三方應用程序的默認選項，除非該應用程序被 OEM
或供應商列入白名單.<div class="amalert warning"><p><strong><em>Warning.</em></strong><p>隱藏 API 訪問限制策略在 Android 中沒有正確實現，應用程序可以繞過它.
因此，不應信任此值.</div></ul><li><p><strong>SELinux</strong>: 操作系統通過 SELinux 設置的強制訪問控制
(MAC) 策略.<li><p><strong>主活動</strong>: 應用的主要入口點. 這僅在應用程序具有 <a href=#subsubsec:activities>活動</a>
並且其中任何一個都可以從啟動器中打開時顯示.
右側還有一個啟動按鈕，可用於啟動此活動.</ul></ul></section><section id=subsubsec:horizontal-action-panel class=level4 data-number=2.2.2.2><h4 data-number=2.2.2.2><span class=header-section-number>2.2.2.2</span> 水平操作面板<a href=#subsubsec:horizontal-action-panel class=anchor aria-hidden=true></a></h4><p>如上節所述,水平滾動操作面板由各種與應用相關的操作組成, 如 -<ul class=incremental><li><p><strong>啟動</strong>: 啟動應用. 前提是要有一個可啟動<a href=#subsubsec:activities>活動</a>.<li><p><strong>禁用</strong>: 停用應用.
若應用已被禁用或用戶沒有足夠的權限，則不會顯示該按鈕.
禁用應用後，將從應用程序列表中隱藏，應用的快捷方式也可能被刪除.
只能通過App Manager或任何其他支工具重新啟用該應用.
Android設置中沒有任何選項可以啟用禁用的用戶應用.<li><p><strong>卸載</strong>: 卸載應用<li><p><strong>啟用</strong>: 啟用應用.
若應用已啟用或用戶沒有足夠的權限，則不會顯示該按鈕.<li><p><strong>強制停止</strong>: 強制停止應用.<li><p><strong>清除數據</strong>: 清除應用數據.
清除包括存儲在應用內部和（僅Android 10
以上）外部目錄中的任何應用數據，包括帳戶（如果由應用設置）、緩存等.
例如，清除 App Manager
數據將會刪除所有保存的規則（但不會清除已阻止組件），因此你應該檢查備份你的規則文件。若用戶沒有足夠的權限，則不會顯示此按鈕.<li><p><strong>清除緩存</strong>: 清除應用緩存.
沒有任何原生方法可以清除特定應用程序的緩存，因此，需要root權限才能清除應用程序內部存儲中的緩存.<li><p><strong>安裝</strong>: 通過第三方應用安裝應用.
此按鈕僅在應用尚未安裝時顯示.<li><p><strong>What’s New</strong>: 若外部應用已安裝，則會顯示此按鈕.
單擊此按鈕將顯示一個對話框，將以版本控制方式，顯示打開的版本和安裝的版本之間的差異.
包括: <em>版本</em>, <em>追蹤器</em>, <em>權限</em>, <em>組件</em>,
<em>簽名</em> (校驗值改變 ), <em>特性</em>, <em>共享庫</em> 與
<em>SDK</em>.<li><p><strong>更新</strong>:
若應用的版本號高於已安裝的應用，則會顯示.<li><p><strong>重裝</strong>:
若應用與已安裝的應用具有相同的版本號，則會顯示.<li><p><strong>降級</strong>:
若應用的版本號低於已安裝的應用，則會顯示.<li><p><strong>應用清單(Manifest)</strong>:
單擊將在單獨的頁面中顯示應用清單文件.
可以使用對應切換按鈕（位於右上方）開啟自動換行，也可以使用保存按鈕保存到存儲器.<li><p><strong>掃描器</strong>: 掃描應用以列出潛在的跟蹤器和庫.
若可用，它還會使用VirusTotal掃描文件.<br><div class=seealso-inline><p><em>See also: <span><a href=#sec:scanner-page>掃描器頁面</a></span></em></div><li><p><strong>共享首選項</strong>:
顯示應用程序使用的共享首選項(Shared-Preferences)列表.
單擊列表中的首選項將打開<a href=#sec:shared-preferences-editor-page>共享首選項編輯器</a>.
若用戶沒有足夠的權限，則不會顯示此按鈕.<li><p><strong>數據庫</strong>: 將顯示應用程序使用的數據庫列表.
若用戶沒有足夠的權限，則不會顯示此按鈕.<li><p><strong>F-Droid</strong>: 在你常用的<em>F-Droid</em>
客戶端中打開該應用.<li><p><strong>Store</strong>: 在 <em>Aurora Store</em>打開該應用.
僅在<em>Aurora Store</em>後顯示.</ul></section><section id=subsubsec:app-info-options-menu class=level4 data-number=2.2.2.3><h4 data-number=2.2.2.3><span class=header-section-number>2.2.2.3</span> 選項菜單<a href=#subsubsec:app-info-options-menu class=anchor aria-hidden=true></a></h4><p>選項菜單位於頁面的右上角, 下面給出了對現有選項的完整描述:<ul class=incremental><li><p><strong>分享</strong>: 共享按鈕可用於共享 APK
或(如果應用程序有多個拆分) <em>APKS</em>.<li><p><strong>刷新</strong>: 刷新應用信息選項卡.<li><p><strong>在設置中查看</strong>: 在 Android
設置中打開應用.<li><p><strong>備份/恢覆</strong>: 打開備份/恢覆對話框.<li><p><strong>導出屏蔽規則</strong>: 導出應用配置規則.<li><p><strong>在 Termux 中打開</strong>: 在 Termux 中打開應用. 實際以
<code>su - user_id</code> 命令運行且該 <code>用戶ID</code>
為應用的(內核)用戶 ID (參見§<a href=#subsubsec:app-info-general-information data-reference-type=ref data-reference=subsubsec:app-info-general-information>2.2.2.1</a>).
此選項僅適用於 Root 用戶. 請參閱 §<a href=#subsubsec:config-termux data-reference-type=ref data-reference=subsubsec:config-termux>2.2.2.4</a> 以了解如何配置
Termux 以運行來自第三方應用的命令.<li><p><strong>在 Termux 中運行</strong>: 在Termux中通過
<code>run-as package_name</code> 打開應用.
此選項僅對可調式應用有效並適用於 Root 與 Adb 用戶. 請參閱 §<a href=#subsubsec:config-termux data-reference-type=ref data-reference=subsubsec:config-termux>2.2.2.4</a> 以了解如何配置
Termux 以運行來自第三方應用的命令.<li><p><strong>MagiskHide</strong>:
打開一個對話框，其中包含應用程序中可以從 MagiskHide
列表中添加或刪除的進程列表.<li><p><strong>MagiskDenyList</strong>:
打開一個對話框，其中包含應用程序中可以從 MagiskDenyList
添加或刪除的進程列表.<li><p><strong>電池優化</strong>: 啟用/禁用電池優化.<li><p><a href=#sec:net-policy><strong>聯網策略</strong></a>:
配置應用的聯網策略（如後台數據使用） .<li><p><strong>導出圖標</strong>:
提取應用圖標並將其保存至共享存儲.<li><p><strong>添加配置</strong>: 應用程序添加到已配置的 <a href=#sec:profile-page>配置文件</a>.</ul></section><section id=subsubsec:config-termux class=level4 data-number=2.2.2.4><h4 data-number=2.2.2.4><span class=header-section-number>2.2.2.4</span> 配置 Termux<a href=#subsubsec:config-termux class=anchor aria-hidden=true></a></h4><p>默認情況下，Termux
不允許運行來自第三方應用的命令。要使用此選項，請使用 Termux v0.96
以上版本，並且必須在 <code>~/.termux/termux.properties</code> 中添加
<code>allow-external-apps=true</code>。<div class="amalert tip"><p><strong><em>Info.</em></strong><p>啟用此選項不會削弱Termux的安全性。第三方應用仍然需要取得用戶允許才能在Termux中運行任意命令。</div></section></section><section id=subsec:component-tabs class=level3 data-number=2.2.3><h3 data-number=2.2.3><span class=header-section-number>2.2.3</span>
<a href=#toc:subsec:component-tabs>組件選項卡</a><a href=#subsec:component-tabs class=anchor aria-hidden=true></a></h3><p><strong>活動(Activities)</strong>、<strong>服務(Services)</strong>、<strong>廣播接收器(Receivers)</strong>和
<strong>內容提供者(Providers)</strong> 統稱為應用程序組件.
它們共享在許多相似特征，如，它們都有一個 <em>名稱</em>、一個
<em>標簽</em>、一個 <em>圖標</em> 並且通過 <em>意圖(Intent)</em> 執行.
應用程序組件是應用的本構造，必須在應用程序清單中聲明.
應用程序清單是存儲應用程序特定元數據的文件，Android
通過讀取元數據來處理應用。<p>這些選項卡中使用的顏色在 §<a href=#subsec:app-details-colour-codes data-reference-type=ref data-reference=subsec:app-details-colour-codes>2.2.1</a>
中進行了解釋。也可以在彈出菜單對列表進行排序.<section id=subsubsec:activities class=level4 data-number=2.2.3.1><h4 data-number=2.2.3.1><span class=header-section-number>2.2.3.1</span> 活動 (Activity)<a href=#subsubsec:activities class=anchor aria-hidden=true></a></h4><p><strong>Activity</strong> 是可以由 Android
唯一標識的窗口或頁面(如<em>主頁</em> 和 <em>應用詳情頁</em> 是兩個活動).
每個活動可以有多個 UI 組件，稱為 <em>部件(widgets)</em> 或
<em>碎片(fragments)</em>，每個組件都可以嵌套或放置在彼此之上.
開發人員還可以選擇使用名為<em>意圖過濾器(intent
filters)</em>選擇打開外部文件、鏈接等.
如當使用文件管理器打開文件時，文件管理器或操作系統通過 PackageManager
掃描意圖過濾器以查找能夠打開文件的活動，並用其打開文件.<p>標記<em>exportable</em> 的活動通常可以由任何第三方應用程序打開.
有些活動需要權限，如果是這種情況，只有具有這些權限的應用程序才能打開. 在
<em>活動</em> 選項卡中，可以通過 <strong>啟動</strong> 按鈕啟動，
若有必要可提供額外信息，如意圖(Intent)的 extras、data或Action. 長按
<strong>啟動</strong> 按鈕會打開提供此類功能的 <a href=#sec:interceptor-page>Activity Interceptor</a> 頁面.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>如果您無法打開任何活動，則很可能它具有某些未滿足的依賴項目，例如<em>應用詳情頁</em>
，由於其至少需要提供一包名.
由於無法機械式推斷這些依賴關系，因此默認情況下可能無法通過 App Manager
打開這些活動.</div><p>也可以通過 <strong>創建快捷方式</strong> 按鈕來創建活動的快捷方式<div class="amalert danger"><p><strong><em>Caution.</em></strong><p>如果您卸載App Manager，應用管理器創建的所有快捷方式都將丟失.</div></section><section id=subsubsec:details:servcies class=level4 data-number=2.2.3.2><h4 data-number=2.2.3.2><span class=header-section-number>2.2.3.2</span> 服務 (Services)<a href=#subsubsec:details:servcies class=anchor aria-hidden=true></a></h4><p>與用戶可以看到的 <a href=#subsubsec:activities>activities</a>
不同，<strong>Services</strong> 處理後台任務。例如， 如果您使用手機的
Internet 瀏覽器從 Internet 下載視頻，則 Internet 瀏覽器正在使用
<em>前台服務</em> 下載內容。<p>當一個活動被關閉或從 <em>Recents</em>
部分中刪除時，它可能會立即被銷毀，具體取決於
許多因素，例如手機有多少可用內存。但如果需要，服務可以無限期地運行。如果更多
服務在後台運行，由於內存和/或處理能力不足，手機可能會變慢，以及
手機的電池會更快耗盡。較新的 Android 版本啟用了電池優化功能
默認情況下適用於所有應用程序。啟用此功能後，系統可以隨機終止任何服務。然而，
前台服務（即使用固定通知運行的服務，例如音樂播放器）通常不是
除非系統資源不足（內存、電池等），否則終止。供應商特定的庫存 ROM
可以提供更多 積極的優化。例如，MIUI 有一個非常激進的優化功能，稱為
<em>MIUI 優化</em>。<p>活動和服務都在同一個 <a href=https://stackoverflow.com/questions/7597742>looper</a> 中運行
主循環器，這意味著服務並沒有真正在後台運行。開發人員的任務是
確保這一點。應用程序如何與服務通信？它用 <a href=#subsubsec:app-details-receivers>broadcast receiver</a> 或
Binder。</section><section id=subsubsec:app-details-receivers class=level4 data-number=2.2.3.3><h4 data-number=2.2.3.3><span class=header-section-number>2.2.3.3</span> (廣播)接收器
((Broadcast)Receiver)<a href=#subsubsec:app-details-receivers class=anchor aria-hidden=true></a></h4><p><strong>Receivers</strong> (also called <em>broadcast receivers</em>)
can be used to trigger execution of certain tasks when certain events
occur. These components are called broadcast receivers because they are
executed as soon as a broadcast message is received. These broadcast
messages are sent using a method called <em>Intent</em>. Intent is a
special feature in Android that can be used to open applications
(i.e. activities), run services and send broadcast messages. Therefore,
like <a href=#subsubsec:activities>activities</a>, broadcast receivers
use <em>intent filters</em> to receive the desired broadcast messages.
Broadcast messages can be sent by the system or the application itself.
When a broadcast message is sent, the corresponding receivers are
activated by the system so that they can execute tasks. For example, if
your phone is low on resources, it may freeze or experience lags for a
moment after you enable mobile data or connect it to the Wi-Fi. This is
because broadcast receivers that can receive
<code>android.net.conn.CONNECTIVITY_CHANGE</code> are activated by the
system as soon as the data connection is enabled. Since many
applications typically use this intent filter, they are all activated
almost immediately by the system which causes the freezing or lags.<p>Receivers can also be used for inter-process communication (IPC),
i.e. it can be used to communicate acrosss multiple applications or even
different components of a single application.</section><section id=subsubsec:providers class=level4 data-number=2.2.3.4><h4 data-number=2.2.3.4><span class=header-section-number>2.2.3.4</span> (內容)提供者
((Content)Providers)<a href=#subsubsec:providers class=anchor aria-hidden=true></a></h4><p><strong>Providers</strong> (also called <em>content providers</em>)
are used for data management. For example, when you save an APK file or
export rules in App Manager, it uses a content provider called
<code>.fm.FmProvider</code> to save the APK or export the rules. There
are many content providers, including the ones provided by the system,
to manage various content-related tasks such as database management,
tracking, searching, etc. Each content provider has a field called
<em>Authority</em> which is unique to the application in the entire
Android ecosystem just as the package name.</section><section id=針對已root的手機的額外功能 class=level4 data-number=2.2.3.5><h4 data-number=2.2.3.5><span class=header-section-number>2.2.3.5</span>
針對已root的手機的額外功能<a href=#針對已root的手機的額外功能 class=anchor aria-hidden=true></a></h4><p>Unlike the no-root users who are mostly spectators in these tabs,
root users can perform various operations.<section id=阻止組件 class=level5 data-number=2.2.3.5.1><h5 data-number=2.2.3.5.1><span class=header-section-number>2.2.3.5.1</span> 阻止組件<a href=#阻止組件 class=anchor aria-hidden=true></a></h5><p>On the right-most side of each component item, there is a “block”
icon (which becomes a “unblock/restore” icon when the component is being
blocked). This icon (actually, a button) can be used to toggle the
blocking status of that particular component. If <a href=#subsubsec:instant-component-blocking>Instant Component
Blocking</a> is not enabled or blocking is never applied to the
application before, it is required to apply the changes using the
<strong>Apply rules</strong> option in three-dots menu. It is also
possible to remove the already-applied rules using the same option
(which would be read as <strong>Remove rules</strong> this time).<p>It is also possible to block the component using one of the several
method by long clicking on the icon.<div class=seealso-inline><p><em>See also: <span><a href=#sec:faq:app-components>FAQ: App
Components</a></span></em></div></section><section id=par:appdetails:blocking-trackers class=level5 data-number=2.2.3.5.2><h5 data-number=2.2.3.5.2><span class=header-section-number>2.2.3.5.2</span> 阻止跟蹤器<a href=#par:appdetails:blocking-trackers class=anchor aria-hidden=true></a></h5><p>It is possible to disable tracker components using the <strong>Block
tracker</strong> option in the three-dots menu. All tracker components
will be blocked regardless of the tab you’re currently in.<div class="amalert tip"><p><strong><em>Info.</em></strong><p>Tracker components are a subset of application components. Therefore,
they are blocked using the same method used for blocking any other
components.</div><div class=seealso><p><em>See also:</em><ul class=incremental><li><p><a href=#subsec:tracker-classes-versus-tracker-components>FAQ:
Tracker classes versus tracker components</a><li><p><a href=#sec:scanner-page>Scanner Page</a><li><p><a href=#subsec:block-unblock-trackers>1-Click Ops Page:
Block/Unblock Trackers</a></ul></div></section></section></section><section id=subsec:permission-tabs class=level3 data-number=2.2.4><h3 data-number=2.2.4><span class=header-section-number>2.2.4</span>
<a href=#toc:subsec:permission-tabs>權限選項卡</a><a href=#subsec:permission-tabs class=anchor aria-hidden=true></a></h3><p><strong>App Ops</strong>, <strong>使用權限</strong> and
<strong>權限</strong> 選項卡與權限相關。 安卓中，在不具有相同身份（稱為
<em>shared
ID</em>）的應用或進程之間進行通信常常需要權限，其由權限控制器管理。
一些被視為<em>普通</em>
的權限，若它們出現在應用程序清單中，則會自動授予，但<em>危險</em>權限 和
<em>開發</em> 權限需要用戶確認。 選項卡中使用的顏色在 §<a href=#subsec:app-details-color-codes data-reference-type=ref data-reference=subsec:app-details-color-codes>[subsec:app-details-color-codes]</a>
中有解釋。<section id=subsubsec:app-ops class=level4 data-number=2.2.4.1><h4 data-number=2.2.4.1><span class=header-section-number>2.2.4.1</span> App Ops<a href=#subsubsec:app-ops class=anchor aria-hidden=true></a></h4><p><strong>App Ops</strong> 代表"應用操作 <strong>(Application
Operations)</strong> ". 自 Android 4.3 開始，Android 使用 <em>App
Ops</em> 控制大多系統權限，每個 App Op
都有一個與之關聯的唯一編號，該編號與其私有名稱將一同顯示在“App
Ops”選項卡中，一些 App Ops 也有一個公共名稱。
大量的應用操作是也與權限相關，在此選項卡中，若 App Ops
相關的權限被視為危險則被標記為危險。其他信息如 標志位(<em>flags</em>),
權限名稱 (<em>permission name</em>), 權限描述(<em>permission
description</em>),包名 (<em>package name</em>),群組 ( <em>group</em>)
也取自相關的 <a href=#subsubsec:permissions>權限</a>。<p>其他可能包括以下內容:<ul class=incremental><li><p><strong>模式(Mode)</strong>: 描述了當前授權狀態，可以是"允許
(<em>allow</em>)"、"拒絕(<em>deny</em>)"（實際為錯誤）、"忽略(<em>ignore</em>)"（實際為拒絕）、"默認(<em>default</em>)"（從手機供應商或
AOSP 內部設置的默認列表推斷）、"前台(<em>foreground</em>)"
（在新的Android版本中，應用只能在前台運行時獲取該權限），以及一些供應商自定義的模式，如MIUI使用詢問(<em>ask</em>)。<li><p><strong>時長(Duration)</strong>: 此 App Ops
現已使用的時間（可能為負原因未知）。<li><p><strong>允許時刻(Accept Time)</strong>: 上一次 App Op
被許可。<li><p><strong>拒絕時刻(Reject Time)</strong>: 上一次 App Op
被拒絕。</ul><div class="amalert tip"><p><strong><em>提示.</em></strong><p>若 <code>android.permission.GET_APP_OPS_STATS</code> 由 ADB
授予，則此選項卡的內容對非 root 用戶可見.</div><p>每個 App Op
項都有切換按鈕，可用於允許或拒絕（忽略）它，其他受支持的模式也可以通過長按來設置。
如果選項卡中未列出所需的 App Op，可使用菜單中的<strong>設置自定義 App
Op</strong> 。 菜單中的<strong>重置為默認</strong> 可重置App Ops，
或使用拒絕危險權限的相關操作。 受 App Ops
本身工作方式所限，系統可能需要不少時間來更改它們。<div class="amalert tip"><p><strong><em>Tip.</em></strong><p>拒絕某些 App Ops
可能會導致應用行為異常，若所有修覆手段都失敗，可嘗試使用
<em>重置為默認</em> 選項。</div><p>可以以升序方式按 App Ops 名稱和其編號對列表排序，也可以優先顯示拒絕的
App Ops。<div class=seealso-inline><p><em>See also: <span><a href=#ch:app-ops>附錄: App
Ops</a></span></em></div></section><section id=使用權限 class=level4 data-number=2.2.4.2><h4 data-number=2.2.4.2><span class=header-section-number>2.2.4.2</span> 使用權限<a href=#使用權限 class=anchor aria-hidden=true></a></h4><p><strong>系統預定義權限</strong>(<em>Uses Permissions</em>)
是應用(申請)所使用的權限，其在應用程序清單中使用
<code>uses-permission</code> 標簽聲明。 其 "標志位
(<em>flags</em>)"、"權限名 (<em>permission name</em>)"、"權限描述
(<em>permission description</em>)"、"包名 ( <em>package
name</em>)"、"群組 (<em>group</em>)" 取自相關<a href=#subsubsec:permissions>權限</a>。<p>特權用戶可通過切換按鈕授予或撤銷 危險 (<em>dangerous</em>) 和 開發
(<em>development</em>) 權限，也可以使用菜單中的相應選項。
只能撤銷以上兩種權限，因為Android不允許修改 普通 (<em>normal</em>)
權限（其中大多數是）。但仍有可能撤銷它們通過編輯
<code>runtime-permissions.xml</code> 本身，但是否可能仍不明確。<div class="amalert tip"><p><strong><em>提示.</em></strong><p>由於系統默認會撤銷危險權限，因此撤銷所有危險權限與重置所有權限是一樣的。</div><p>可以以升序方式按權限名稱對列表排序，也可以優先顯示拒絕的權限。</section><section id=subsubsec:permissions class=level4 data-number=2.2.4.3><h4 data-number=2.2.4.3><span class=header-section-number>2.2.4.3</span> 權限<a href=#subsubsec:permissions class=anchor aria-hidden=true></a></h4><p>(自定義)<strong>權限</strong>
通常是應用自身定義的自定義權限，包括該應用聲明的、標記為"內部(
<em>Internal</em>)" 權限，其他應用聲明、標記為"外部(
<em>External</em>)"的權限。外部權限在應用程序組件中指定為依賴項，即應用只有在擁有指定的權限時才能調用該組件：<ul class=incremental><li><p><strong>名稱</strong> 每個權限都有的唯一的名稱，如
<code>android.permission.INTERNET</code>
，但多個應用可以請求同一個權限。<li><p><strong>圖標</strong>
每個權限都可以有一個自定義圖標，其他權限選項卡沒有任何圖標，因為它們在應用程序清單中不包含任何圖標。<li><p><strong>描述</strong>
描述權限的可選字段，若沒有與權限關聯的任何描述，則不會顯示該字段。<li><p><strong>標志位(Flags)</strong> 使用標志符號或
<strong>保護名稱(Protection Level)</strong> 名稱描述權限， 諸如 普通
<em>normal</em>、開發 <em>development</em>、危險
<em>dangerous</em>,、即時 <em>instant</em>, 已授權
<em>granted</em>、已撤銷 <em>revoked</em>、簽名 <em>signature</em>、特權
<em>privileged</em> 等。<li><p><strong>包名</strong>
表示與權限關聯的包名，即定義權限的包名。<li><p><strong>群組(Group)</strong>
與權限關聯的群組（如果有），幾個相關的權限通常可以組合在一起。</ul></section></section><section id=subsec:signatures-tab class=level3 data-number=2.2.5><h3 data-number=2.2.5><span class=header-section-number>2.2.5</span>
<a href=#toc:subsec:signatures-tab>簽名選項卡</a><a href=#subsec:signatures-tab class=anchor aria-hidden=true></a></h3><p><strong>Signatures</strong> are actually called signing information.
An application is signed using one or more signing certificates by the
application developers before publishing it. The integrity of an
application i.e. whether the application is from the actual developer
and isn’t modified by other people can be checked using the signing
information; because when an application is modified by an unauthorised
entity, the application cannot be signed using the original certificates
again because the signing information are kept private by the actual
developer. Signing information can be verified using checksums.
Checksums are generated from the certificates themselves. If the
developer supplies the checksums for the signing certificates, they can
be matched against the checksums generated in the
<strong>Signatures</strong> tab to verify the application. For example,
if you have downloaded App Manager from GitHub or Telegram Channel, you
can verify whether the application is actually released by me by simply
matching the following <em>SHA256</em> checksum with the one displayed
in this tab:<pre><code>320c0c0fe8cef873f2b554cb88c837f1512589dcced50c5b25c43c04596760ab</code></pre><p>Several hashing algorithms are used to generate checksums in this
tab. They include <em>MD5</em>, <em>SHA1</em>, <em>SHA256</em> and
<em>SHA512</em>.<div class="amalert danger"><p><strong><em>Caution.</em></strong><p>Signing information should be verified using a reliable hashing
algorithm such as <em>SHA256</em>. DO NOT rely on <em>MD5</em> or
<em>SHA1</em> checksums as they are known to generate the same checksums
for multiple certificates.</div></section><section id=subsec:shared-libs-tab class=level3 data-number=2.2.6><h3 data-number=2.2.6><span class=header-section-number>2.2.6</span>
<a href=#toc:subsec:shared-libs-tab>共享庫選項卡</a><a href=#subsec:shared-libs-tab class=anchor aria-hidden=true></a></h3><p><strong>Shared libraries</strong> tab lists all the legacy JAR
dependencies as well as JNI (Java native interface) libraries. For JNI
libraries, it specifies platform (x86/x86_64/ARM/AArch64), architecture
(32/64 bit), object type (shared object or executable), etc.</section><section id=subsec:other-tabs class=level3 data-number=2.2.7><h3 data-number=2.2.7><span class=header-section-number>2.2.7</span>
<a href=#toc:subsec:other-tabs>其他選項卡</a><a href=#subsec:other-tabs class=anchor aria-hidden=true></a></h3><p>Other tabs list android manifest components such as features and
configurations. A complete description about these tabs will be
available soon.</section></section><section id=sec:1-click-ops-page class=level2 data-number=2.3><h2 data-number=2.3><span class=header-section-number>2.3</span> <a href=#toc:sec:1-click-ops-page>一鍵操作頁</a><a href=#sec:1-click-ops-page class=anchor aria-hidden=true></a></h2><p>This page is displayed on selecting the <a href=#subsubsec:main:1-click-ops>1-Click Ops option</a> in the <a href=#subsec:main-page-options-menu>main menu</a>.<section id=subsec:block-unblock-trackers class=level3 data-number=2.3.1><h3 data-number=2.3.1><span class=header-section-number>2.3.1</span>
<a href=#toc:subsec:block-unblock-trackers>Block/Unblock
Trackers</a><a href=#subsec:block-unblock-trackers class=anchor aria-hidden=true></a></h3><p>This option can be used to block or unblock the ad/tracker components
from the installed applications. On selecting this option, App Manager
will ask if it should list trackers from all the applications or only
from the user applications. Novice users should avoid blocking trackers
from the system applications in order to avoid bad consequences. After
that, a multi-choice dialog box will appear where it is possible to
exclude one or more applications from this operation. The changes are
applied immediately on pressing the <em>block</em> or <em>unblock</em>
button.<div class="amalert warning"><p><strong><em>Notice.</em></strong><p>Certain applications may not function as expected after blocking
their trackers. If that is the case, remove the blocking rules all at
once or one by one in the component tabs of the <a href=#sec:app-details-page>App Details page</a> for the corresponding
application.</div><div class=seealso><p><em>See also:</em><ul class=incremental><li><p><a href=#subsec:faq:how-to-unblock-tracker-components>How to
unblock the tracker components blocked using 1-Click Ops or Batch
Ops?</a><li><p><a href=#par:appdetails:blocking-trackers>App Details Page:
Blocking Trackers</a></ul></div></section><section id=subsec:block-components-dots class=level3 data-number=2.3.2><h3 data-number=2.3.2><span class=header-section-number>2.3.2</span>
<a href=#toc:subsec:block-components-dots>Block Components…</a><a href=#subsec:block-components-dots class=anchor aria-hidden=true></a></h3><p>This option can be used to block certain application components as
specified by their signatures. A signature of a component is the full
name or partial name of the component. For safety, it is recommended to
add a <code>.</code> (dot) at the end of each partial signature, because
the underlying algorithm searches and matches the components in a greedy
manner. It is also possible to insert more than one signature in which
case all the signatures have to be separated by white spaces. Similar to
the option above, there is also an option to apply blocking to the
system applications.<div class="amalert danger"><p><strong><em>Caution.</em></strong><p>If you are not aware of the consequences of blocking applcations
components by their signatures, you should avoid using this option as it
may result in bootloop or soft brick, and you may have to apply factory
reset as a result.</div></section><section id=subsec:set-mode-for-app-ops-dots class=level3 data-number=2.3.3><h3 data-number=2.3.3><span class=header-section-number>2.3.3</span>
<a href=#toc:subsec:set-mode-for-app-ops-dots>Set Mode for App
Ops…</a><a href=#subsec:set-mode-for-app-ops-dots class=anchor aria-hidden=true></a></h3><p>This option can be used to configure certain <a href=#ch:app-ops>applcation operations</a> of all or selected
applications. There are two fields. The first field can be used to
insert more than one app op constants (either names or values) separated
by white spaces. It is not always possible to know in advance about all
the app op constants as they vary from device to device and from OS to
OS. Desired app op constant can be found in the <em>App Ops</em> tab
located in the <a href=#sec:app-details-page>App Details page</a>. The
second field can be used to insert or select one of the <a href=#subsec:mode-constants>modes</a> that will be set against the
specified app ops.<div class="amalert danger"><p><strong><em>Caution.</em></strong><p>Unless you are well-informed about app ops and the consequences of
blocking them, you should avoid using this option.</div></section><section id=subsec:1-click-back-up class=level3 data-number=2.3.4><h3 data-number=2.3.4><span class=header-section-number>2.3.4</span>
<a href=#toc:subsec:1-click-back-up>備份</a><a href=#subsec:1-click-back-up class=anchor aria-hidden=true></a></h3><p>1-Click options for back up. As a precaution, it lists the affected
backups before performing any operation.<section id=back-up-all-apps. class=level5 data-number=2.3.4.0.1><h5 data-number=2.3.4.0.1><span class=header-section-number>2.3.4.0.1</span> Back up all apps.<a href=#back-up-all-apps. class=anchor aria-hidden=true></a></h5><p>Back up all the installed applications.</section><section id=redo-existing-backups. class=level5 data-number=2.3.4.0.2><h5 data-number=2.3.4.0.2><span class=header-section-number>2.3.4.0.2</span> Redo existing backups.<a href=#redo-existing-backups. class=anchor aria-hidden=true></a></h5><p>Back up all the installed applications that have a previous
backup.</section><section id=back-up-apps-without-backups. class=level5 data-number=2.3.4.0.3><h5 data-number=2.3.4.0.3><span class=header-section-number>2.3.4.0.3</span> Back up apps without
backups.<a href=#back-up-apps-without-backups. class=anchor aria-hidden=true></a></h5><p>Back up all the installed applications without a previous backup.</section><section id=verify-and-redo-backups. class=level5 data-number=2.3.4.0.4><h5 data-number=2.3.4.0.4><span class=header-section-number>2.3.4.0.4</span> Verify and redo
backups.<a href=#verify-and-redo-backups. class=anchor aria-hidden=true></a></h5><p>Verify the recently made backups of the installed applications and
redo backup if necessary.</section><section id=back-up-apps-with-changes. class=level5 data-number=2.3.4.0.5><h5 data-number=2.3.4.0.5><span class=header-section-number>2.3.4.0.5</span> Back up apps with
changes.<a href=#back-up-apps-with-changes. class=anchor aria-hidden=true></a></h5><p>If an app has changed since the last backup, redo its backup. It
checks a number of indices including application version, last update
date, last launch date, integrity and file hashes. Directory hashes are
taken during the backup process and are stored in a database. On running
this operation, new hashes are taken and compared with the ones kept in
the database.</section></section><section id=subsec:1-click-restore class=level3 data-number=2.3.5><h3 data-number=2.3.5><span class=header-section-number>2.3.5</span>
<a href=#toc:subsec:1-click-restore>恢覆</a><a href=#subsec:1-click-restore class=anchor aria-hidden=true></a></h3><p>1-Click options for restore. As a precaution, it lists the affected
backups before performing any operation.<section id=restore-all-apps. class=level5 data-number=2.3.5.0.1><h5 data-number=2.3.5.0.1><span class=header-section-number>2.3.5.0.1</span> Restore all apps.<a href=#restore-all-apps. class=anchor aria-hidden=true></a></h5><p>Restore <em>base backup</em> of all the backed up applications.</section><section id=restore-not-installed-apps. class=level5 data-number=2.3.5.0.2><h5 data-number=2.3.5.0.2><span class=header-section-number>2.3.5.0.2</span> Restore not installed
apps.<a href=#restore-not-installed-apps. class=anchor aria-hidden=true></a></h5><p>Restore <em>base backup</em> of all the backed up applications that
are not currently installed.</section><section id=restore-latest-backups. class=level5 data-number=2.3.5.0.3><h5 data-number=2.3.5.0.3><span class=header-section-number>2.3.5.0.3</span> Restore latest backups.<a href=#restore-latest-backups. class=anchor aria-hidden=true></a></h5><p>Restore <em>base backup</em> of already installed applications whose
version codes are higher than the installed version code.</section></section></section><section id=sec:profiles-page class=level2 data-number=2.4><h2 data-number=2.4><span class=header-section-number>2.4</span> <a href=#toc:sec:profiles-page>配置文件頁面</a><a href=#sec:profiles-page class=anchor aria-hidden=true></a></h2><p>Profiles page can be accessed from the <a href=#subsec:main-page-options-menu>options-menu</a> in the main page.
It primarily displays a list of configured profiles along with the
typical options to perform operations on them. New profiles can also be
added using the <em>plus</em> button in the bottom-right corner as well
as can be imported, duplicated, or created from one of the presets.
Clicking on any profile item opens its <a href=#sec:profile-page>profile page</a>.<section id=subsec:profiles-options-menu class=level3 data-number=2.4.1><h3 data-number=2.4.1><span class=header-section-number>2.4.1</span>
<a href=#toc:subsec:profiles-options-menu>選項菜單</a><a href=#subsec:profiles-options-menu class=anchor aria-hidden=true></a></h3><p>There are two options menu in this page. The three dots menu in the
top-right corner offers two options: <em>presets</em> and
<em>import</em>.<ul class=incremental><li><p><strong>Presets.</strong> This option lists a number of built-in
profiles that can be used as a starting point. The profiles are
generated from the project <a href=https://gitlab.com/W1nst0n/universal-android-debloater>Universal
Android Debloater</a>.<br><div class=seealso-inline><p><em>See also: <span><a href=#subsec:faq:what-are-bloatware>FAQ:
What are bloatware and how to remove them?</a></span></em></div><li><p><strong>Import.</strong> This option can be used to import an
existing profile that was previously exported from App Manager.</ul><p>Long clicking on any profile item brings up another options-menu. It
offers the following options:<ul class=incremental><li><p><strong>Apply now….</strong> This option can be used to apply the
profile directly. When clicked, a dialog will be displayed where it is
possible to select a <a href=#subsubsec:profile-state>profile
state</a>. On selecting one of the options, the profile will be applied
immediately.<li><p><strong>Delete.</strong> Clicking on delete will remove the
profile immediately without any warning.<li><p><strong>Duplicate.</strong> This option can be used to duplicate
the profile. When clicked, a dialog will be displayed where it is
possible to set a name for the new profile. On clicking “OK”, <a href=#sec:profile-page>profile page</a> will be loaded by duplicating
all the configurations that this profile have. However, the profile will
not be saved until it is saved manually.<li><p><strong>Export.</strong> Export the profile to an external
storage. Profile exported this way can be imported via the
<em>import</em> option as mentioned above.<li><p><strong>Create shortcut.</strong> This option can be used to
create a shortcut for the profile. When clicked, there will be two
options: <em>Simple</em> and <em>Advanced</em>. When configured with the
latter option, it prompts the user to select a profile state when the
shortcut is invoked. The former option, on the other hand, always uses
the default state that was configured when the profile was last
saved.</ul></section></section><section id=sec:profile-page class=level2 data-number=2.5><h2 data-number=2.5><span class=header-section-number>2.5</span> <a href=#toc:sec:profile-page>配置頁</a><a href=#sec:profile-page class=anchor aria-hidden=true></a></h2><p>Profile page displays the configurations for a profile. It also
offers the options to edit them.<section id=subsec:profile-options-menu class=level3 data-number=2.5.1><h3 data-number=2.5.1><span class=header-section-number>2.5.1</span>
<a href=#toc:subsec:profile-options-menu>選項菜單</a><a href=#subsec:profile-options-menu class=anchor aria-hidden=true></a></h3><p>The three dots menu in the top-right corner opens the options-menu.
It contains several options such as–<ul class=incremental><li><p><strong>Apply.</strong> This option can be used to apply the
profile. When clicked, a dialog will be displayed where you can select a
<a href=#subsubsec:profile-state>profile state</a>. On selecting one
of the options, the profile will be applied immediately.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>When you apply a profile, if some packages do not match the criteria,
they will simply be ignored.</div><li><p><strong>Save.</strong> Save changes to the profile.<div class="amalert warning"><p><strong><em>Notice.</em></strong><p>Changes are never saved automatically. You have to save them manually
from here.</div><li><p><strong>Discard.</strong> Discard any modifications made since
the last save operation.<li><p><strong>Delete.</strong> Clicking on delete will remove the
profile immediately without any warning.<li><p><strong>Duplicate.</strong> This option can be used to duplicate
the profile. When clicked, a dialog will be displayed where it is
possible to set a name for the new profile. On clicking “OK”, this page
will be reloaded by duplicating all the configurations that this profile
have. However, the profile will not be saved until it is saved
manually.<li><p><strong>Create shortcut.</strong> This option can be used to
create a shortcut for the profile. When clicked, there will be two
options: <em>Simple</em> and <em>Advanced</em>. When configured with the
latter option, it prompts the user to select a profile state when the
shortcut is invoked. The former option, on the other hand, always uses
the default state that was configured when the profile was last
saved.</ul></section><section id=subsec:profile-apps-tab class=level3 data-number=2.5.2><h3 data-number=2.5.2><span class=header-section-number>2.5.2</span>
<a href=#toc:subsec:profile-apps-tab>應用程序選項卡</a><a href=#subsec:profile-apps-tab class=anchor aria-hidden=true></a></h3><p>Apps tab lists the packages configured in this profile. Packages can
be added or removed using the <em>plus</em> button located near the
bottom of the screen. Packages can also be removed by long clicking on
them (in which case, a popup will be displayed with the only option
<em>delete</em>).</section><section id=subsec:profile-configurations-tab class=level3 data-number=2.5.3><h3 data-number=2.5.3><span class=header-section-number>2.5.3</span>
<a href=#toc:subsec:profile-configurations-tab>配置選項卡</a><a href=#subsec:profile-configurations-tab class=anchor aria-hidden=true></a></h3><p>Configurations tab can be used to configure the selected
packages.<section id=備注 class=level4 data-number=2.5.3.1><h4 data-number=2.5.3.1><span class=header-section-number>2.5.3.1</span> 備注<a href=#備注 class=anchor aria-hidden=true></a></h4><p>This is the text that will be displayed in the <a href=#sec:profiles-page>profiles page</a>. If not set, the current
configurations will be displayed instead.</section><section id=subsubsec:profile-state class=level4 data-number=2.5.3.2><h4 data-number=2.5.3.2><span class=header-section-number>2.5.3.2</span> 狀態<a href=#subsubsec:profile-state class=anchor aria-hidden=true></a></h4><p>Denotes how certain configured options will behave by default. For
instance, if <em>disable</em> option is turned on, the applications will
be disabled if the state is <em>on</em> and will be enabled if the state
is <em>off</em>. Currently, it only supports <em>on</em> and
<em>off</em> values.</section><section id=用戶 class=level4 data-number=2.5.3.3><h4 data-number=2.5.3.3><span class=header-section-number>2.5.3.3</span> 用戶<a href=#用戶 class=anchor aria-hidden=true></a></h4><p>Select users for which is the profile will be applied. All users are
selected by default.</section><section id=組件 class=level4 data-number=2.5.3.4><h4 data-number=2.5.3.4><span class=header-section-number>2.5.3.4</span> 組件<a href=#組件 class=anchor aria-hidden=true></a></h4><p>This behaves the same way as the <a href=#subsec:block-components-dots>Block Components…</a> option does
in the 1-Click Ops page. However, the blocking here is only applied to
the selected packages. If the <a href=#subsubsec:profile-state>state</a> is <em>on</em>, the components
will be blocked, and if the state is <em>off</em>, the components will
be unblocked. The option can be disabled (regardless of the inserted
values) by clicking on the <em>disabled</em> button on the input
dialog.<div class=seealso-inline><p><em>See also: <span><a href=#subsec:faq:what-are-app-components>What are the app
components?</a></span></em></div></section><section id=appops-權限 class=level4 data-number=2.5.3.5><h4 data-number=2.5.3.5><span class=header-section-number>2.5.3.5</span> AppOps 權限<a href=#appops-權限 class=anchor aria-hidden=true></a></h4><p>This behaves the same way as the <a href=#subsec:set-mode-for-app-ops-dots>Set Mode for App Ops…</a>
option does in the 1-Click Ops page. However, the operation here is only
applied to the selected packages. If the <a href=#subsubsec:profile-state>state</a> is <em>on</em>, the app ops
will be denied (i.e. ignored), and if the state is <em>off</em>, the app
ops will be allowed. The option can be disabled (regardless of the
inserted values) by clicking on the <em>disable</em> button in the input
dialog.</section><section id=權限 class=level4 data-number=2.5.3.6><h4 data-number=2.5.3.6><span class=header-section-number>2.5.3.6</span> 權限<a href=#權限 class=anchor aria-hidden=true></a></h4><p>This option can be used to grant or revoke certain permissions from
the selected packages. Like others above, permissions must be separated
by white spaces. If the <a href=#subsubsec:profile-state>state</a> is
<em>on</em>, the permissions will be revoked, and if the state is
<em>off</em>, the permissions will be allowed. The option can be
disabled (regardless of the inserted values) by clicking on the
<em>disable</em> button in the input dialog.</section><section id=備份恢覆 class=level4 data-number=2.5.3.7><h4 data-number=2.5.3.7><span class=header-section-number>2.5.3.7</span> 備份/恢覆<a href=#備份恢覆 class=anchor aria-hidden=true></a></h4><p>This option can be used to take a backup of the selected applications
and its data or restore them. Two options are available here: <em>Backup
options</em> and <em>backup name</em>.<ul class=incremental><li><p><strong>Backup options.</strong> Same as the <a href=#subsec:backup-restore-backup-options>backup options</a> of the
backup/restore feature. If not set, the default options will be
used.<li><p><strong>Backup name.</strong> Set a custom name for the backup.
If the backup name is set, each time a backup is made, it will be given
a unique name with backup-name as the suffix. This behaviour will be
fixed in a future release. Leave this field empty for regular “base”
backups (also, make sure not to enable <em>backup multiple</em> in the
backup options).</ul><p>If the <a href=#subsubsec:profile-state>state</a> is <em>on</em>,
the packages will be backed up, and if the state is <em>off</em>, the
packages will be restored. The option can be disabled by clicking on the
<em>disable</em> button in the input dialog.</section><section id=導出屏蔽規則 class=level4 data-number=2.5.3.8><h4 data-number=2.5.3.8><span class=header-section-number>2.5.3.8</span> 導出屏蔽規則<a href=#導出屏蔽規則 class=anchor aria-hidden=true></a></h4><div class="amalert danger"><p><strong><em>Danger.</em></strong><p>This option is not yet implemented.</div></section><section id=禁用 class=level4 data-number=2.5.3.9><h4 data-number=2.5.3.9><span class=header-section-number>2.5.3.9</span> 禁用<a href=#禁用 class=anchor aria-hidden=true></a></h4><p>Allow enabling or disabling the selected packages depending on the
value of the <a href=#subsubsec:profile-state>state</a>. If the state
is <em>on</em>, the packages will be disabled, and if the state is
<em>off</em>, the packages will be enabled.</section><section id=強制停止 class=level4 data-number=2.5.3.10><h4 data-number=2.5.3.10><span class=header-section-number>2.5.3.10</span> 強制停止<a href=#強制停止 class=anchor aria-hidden=true></a></h4><p>Allow the selected packages to be force-stopped.</section><section id=清除緩存 class=level4 data-number=2.5.3.11><h4 data-number=2.5.3.11><span class=header-section-number>2.5.3.11</span> 清除緩存<a href=#清除緩存 class=anchor aria-hidden=true></a></h4><p>Enable clearing cache for the selected packages.</section><section id=清除數據 class=level4 data-number=2.5.3.12><h4 data-number=2.5.3.12><span class=header-section-number>2.5.3.12</span> 清除數據<a href=#清除數據 class=anchor aria-hidden=true></a></h4><p>Enable clearing data for the selected packages.</section><section id=block-trackers class=level4 data-number=2.5.3.13><h4 data-number=2.5.3.13><span class=header-section-number>2.5.3.13</span> Block Trackers<a href=#block-trackers class=anchor aria-hidden=true></a></h4><p>Enable blocking or unblocking of the tracker components from the
selected packages depending on the value of the <a href=#subsubsec:profile-state>state</a>. If the state is <em>on</em>,
the trackers will be blocked, and if the state is <em>off</em>, the
trackers will be unblocked.</section><section id=保存apk class=level4 data-number=2.5.3.14><h4 data-number=2.5.3.14><span class=header-section-number>2.5.3.14</span> 保存APK<a href=#保存apk class=anchor aria-hidden=true></a></h4><p>Enable saving APK files at <code>AppManager/apks</code> (or in the
directory selected in the settings page) of the selected packages.</section></section></section><section id=sec:settings-page class=level2 data-number=2.6><h2 data-number=2.6><span class=header-section-number>2.6</span> <a href=#toc:sec:settings-page>設置頁面</a><a href=#sec:settings-page class=anchor aria-hidden=true></a></h2><p>Settings page can be used to customise the behaviour of App
Manager.<section id=subsec:language class=level3 data-number=2.6.1><h3 data-number=2.6.1><span class=header-section-number>2.6.1</span>
<a href=#toc:subsec:language>界面語言</a><a href=#subsec:language class=anchor aria-hidden=true></a></h3><p>配置應用內語言， App Manager 目前支持19種語言。</section><section id=subsec:app-theme class=level3 data-number=2.6.2><h3 data-number=2.6.2><span class=header-section-number>2.6.2</span>
<a href=#toc:subsec:app-theme>應用主題</a><a href=#subsec:app-theme class=anchor aria-hidden=true></a></h3><p>配置應用內主題</section><section id=subsec:screen-lock class=level3 data-number=2.6.3><h3 data-number=2.6.3><span class=header-section-number>2.6.3</span>
<a href=#toc:subsec:screen-lock>屏幕鎖定</a><a href=#subsec:screen-lock class=anchor aria-hidden=true></a></h3><p>Lock App Manager using Android screen lock provided a screen lock is
configured.<div class="amalert warning"><p><strong><em>Warning.</em></strong><p>If screen lock is disabled in Android after enabling this setting,
App Manager will not open until it is enabled again.</div></section><section id=subsec:mode-of-operation class=level3 data-number=2.6.4><h3 data-number=2.6.4><span class=header-section-number>2.6.4</span>
<a href=#toc:subsec:mode-of-operation>操作模式</a><a href=#subsec:mode-of-operation class=anchor aria-hidden=true></a></h3><p>Mode of operation defines how App Manager works as a whole. It has
the following options:<ul class=incremental><li><p><strong>Auto.</strong> Let App Manager decide the suitable
option. Although this is the default option, non-rooted users should use
the <em>no-root</em> mode.<li><p><strong>Root.</strong> Operate App Manager in root mode. App
Manager will fall back to <em>no-root</em> mode if root is not detected,
or in rare cases when Binder communication through root is disabled
(e.g. in <a href=https://github.com/MuntashirAkon/AppManager/issues/606>Phh
SuperUser</a>).<li><p><strong>ADB over TCP.</strong> Operate App Manager in ADB mode
via <a href=#sec:adb-over-tcp>ADB over TCP</a>. App Manager will fall
back to <em>no-root</em> mode if ADB over TCP is not enabled.<li><p><strong>Wireless debugging.</strong> Enable ADB via Wireless
Debugging. It will try to connect to the configured port automatically
at first. On failure, it will ask the user to either pair or connect to
the ADB daemon manually. App Manager will fall back to <em>no-root</em>
mode if it fails to connect to the ADB daemon this way.<div class="amalert tip"><p><strong><em>Info.</em></strong><p>This option is only displayed in devices running Android 11 or later
as Wireless Debugging was introduced in Android 11.</div><li><p><strong>No-root.</strong> Operate App Manager in no-root mode.
While App Manager performs better in this mode, all the root- or
ADB-specific features will be disabled.</ul><p>It also displays the currently inferred mode of operation. The actual
mode of operations are <em>root</em>, <em>ABD</em> and
<em>no-root</em>.</section><section id=subsec:selected-users class=level3 data-number=2.6.5><h3 data-number=2.6.5><span class=header-section-number>2.6.5</span>
<a href=#toc:subsec:selected-users>Selected Users</a><a href=#subsec:selected-users class=anchor aria-hidden=true></a></h3><p>This option lets you control the users App Manager should operate on.
App Manager operates on all users in root or ADB mode by default.</section><section id=subsec:enable/disable-features class=level3 data-number=2.6.6><h3 data-number=2.6.6><span class=header-section-number>2.6.6</span>
<a href=#toc:subsec:enable/disable-features>啟用/禁用功能</a><a href=#subsec:enable/disable-features class=anchor aria-hidden=true></a></h3><p>啟用或禁用應用 App Manager 中的某些功能，如<ul class=incremental><li><p>攔截器(Interceptor)<li><p>應用清單文件瀏覽器(Manifest viewer)<li><p>掃描器(Scanner)<li><p>包安裝器(Package installer)<li><p>使用情況(Usage access): 關閉此選項後，App Manager 將永遠不會請求
<em>Usage Access</em> 權限.<li><p>日志瀏覽器(Log viewer)</ul></section><section id=subsec:saved-apk-name-format class=level3 data-number=2.6.7><h3 data-number=2.6.7><span class=header-section-number>2.6.7</span>
<a href=#toc:subsec:saved-apk-name-format>Saved APK Name Format</a><a href=#subsec:saved-apk-name-format class=anchor aria-hidden=true></a></h3><p>Defines the format of the APK name to be used while saving it via
batch operations or through profiles. App Manager offers some special
keywords enclosed inside <code>%</code> (percentage) signs and available
below the input box. These keywords are:<ul class=incremental><li><p><strong><code>label</code>.</strong> Denotes the name or label of
the application. This can be localised to the configured language
depending on the app.<li><p><strong><code>package_name</code>.</strong> Denotes the name of
the package or application ID, the unique identifier that each
application has.<li><p><strong><code>version</code>.</strong> Denotes the current
version of the application extracted from its manifest.<li><p><strong><code>version_code</code>.</strong> Denotes the current
version code of the application that can be used to separate two
versions of the same application.<li><p><strong><code>min_sdk</code>.</strong> Denotes the minimum SDK
(i.e. Android framework version) that the application can operate on.
This data is only available since Android 7 (Nougat).<li><p><strong><code>target_sdk</code>.</strong> Denotes the SDK that
this application targets. The application can operate on higher SDK but
only in the compatibility mode.<li><p><strong><code>datetime</code>.</strong> Denotes the time and date
when the APK is exported.</ul></section><section id=subsec:apk-signing class=level3 data-number=2.6.8><h3 data-number=2.6.8><span class=header-section-number>2.6.8</span>
<a href=#toc:subsec:apk-signing>APK 簽名</a><a href=#subsec:apk-signing class=anchor aria-hidden=true></a></h3><section id=簽名方案 class=level4 data-number=2.6.8.1><h4 data-number=2.6.8.1><span class=header-section-number>2.6.8.1</span> 簽名方案<a href=#簽名方案 class=anchor aria-hidden=true></a></h4><p>Configure the <a href=https://source.android.com/security/apksigning>signature
schemes</a> to be used when APK signing is enabled. v1 and v2 signature
schemes are enabled by default, but v3 should also be enabled to ensure
proper security in Android 9 or later.</section><section id=簽名密鑰 class=level4 data-number=2.6.8.2><h4 data-number=2.6.8.2><span class=header-section-number>2.6.8.2</span> 簽名密鑰<a href=#簽名密鑰 class=anchor aria-hidden=true></a></h4><p>Configure custom signing key for signing APK files. Keys from an
existing KeyStore can be imported to App Manager, or a new key can be
generated.<div class="amalert danger"><p><strong><em>Danger.</em></strong><p>Do not use the key that is supplied with App Manager as it is
publicly accessible by anybody. In the future, the default key will be
removed.</div><div class="amalert tip"><p><strong><em>Tip.</em></strong><p>If you need to use the key in the future, it is recommended that you
create a KeyStore yourself and import the key here. Keys generated
within App Manager is at the risk of being deleted without a proper
backup.</div></section></section><section id=subsec:installer class=level3 data-number=2.6.9><h3 data-number=2.6.9><span class=header-section-number>2.6.9</span>
<a href=#toc:subsec:installer>安裝器</a><a href=#subsec:installer class=anchor aria-hidden=true></a></h3><section id=在安裝器中顯示用戶 class=level4 data-number=2.6.9.1><h4 data-number=2.6.9.1><span class=header-section-number>2.6.9.1</span> 在安裝器中顯示用戶<a href=#在安裝器中顯示用戶 class=anchor aria-hidden=true></a></h4><p>對於 root/AD B用戶，在安裝應用之前將顯示一個用戶列表.
該應用將只對指定的用戶（或者如果選擇了所有用戶）安裝.</section><section id=簽名-apk class=level4 data-number=2.6.9.2><h4 data-number=2.6.9.2><span class=header-section-number>2.6.9.2</span> 簽名 APK<a href=#簽名-apk class=anchor aria-hidden=true></a></h4><p>安裝應用前是否對 APK 文件進行簽名. 轉至 <a href=#subsec:apk-signing>APK 簽名</a> 部分來配置簽名.</section><section id=安裝位置 class=level4 data-number=2.6.9.3><h4 data-number=2.6.9.3><span class=header-section-number>2.6.9.3</span> 安裝位置<a href=#安裝位置 class=anchor aria-hidden=true></a></h4><p>選擇APK安裝位置，可以為 <em>自動</em>、<em>僅內部</em>
和<em>傾向外部</em>.
在較新的Android版本中，最後一個選項可能並不總是能如期在外部存儲中安裝應用.</section><section id=安裝來源 class=level4 data-number=2.6.9.4><h4 data-number=2.6.9.4><span class=header-section-number>2.6.9.4</span> 安裝來源<a href=#安裝來源 class=anchor aria-hidden=true></a></h4><p>選擇安裝程序，對一些明確檢查其安裝程序的應用很有用 (只適用於 root/ADB
用戶).</section><section id=block-trackers-1 class=level4 data-number=2.6.9.5><h4 data-number=2.6.9.5><span class=header-section-number>2.6.9.5</span> Block Trackers<a href=#block-trackers-1 class=anchor aria-hidden=true></a></h4><p>Whether to block the tracking components immediately after installing
the application.</section><section id=display-changes class=level4 data-number=2.6.9.6><h4 data-number=2.6.9.6><span class=header-section-number>2.6.9.6</span> Display Changes<a href=#display-changes class=anchor aria-hidden=true></a></h4><p>Whether to display changes in version, trackers, components,
permissions, signatures, SDK, etc. in a version controlled style if the
application has already been installed.</section><section id=install-in-the-background class=level4 data-number=2.6.9.7><h4 data-number=2.6.9.7><span class=header-section-number>2.6.9.7</span> Install in the Background<a href=#install-in-the-background class=anchor aria-hidden=true></a></h4><p>Whether to always install applications in the background. A
notification will be issued once the installation is finished.</section></section><section id=subsec:backup/restore class=level3 data-number=2.6.10><h3 data-number=2.6.10><span class=header-section-number>2.6.10</span> <a href=#toc:subsec:backup/restore>備份/恢覆</a><a href=#subsec:backup/restore class=anchor aria-hidden=true></a></h3><p>與 <a href=#sec:backup-restore>備份恢覆</a> 相關的設置.<section id=壓縮方法 class=level4 data-number=2.6.10.1><h4 data-number=2.6.10.1><span class=header-section-number>2.6.10.1</span> 壓縮方法<a href=#壓縮方法 class=anchor aria-hidden=true></a></h4><p>Set the compression method to be used during backups. App Manager
supports GZip and BZip2 compression methods, GZip being the default
compression method. It doesn’t affect the restoring of an existing
backup.</section><section id=subsubsec:settings-backup-options class=level4 data-number=2.6.10.2><h4 data-number=2.6.10.2><span class=header-section-number>2.6.10.2</span> 備份選項<a href=#subsubsec:settings-backup-options class=anchor aria-hidden=true></a></h4><p>Customise the <em>back up/restore dialog</em> displayed while taking
a backup.<div class=seealso-inline><p><em>See also: <span><a href=#subsec:backup-restore-backup-options>Backup
options</a></span></em></div></section><section id=備份帶-android-密鑰庫的應用程序 class=level4 data-number=2.6.10.3><h4 data-number=2.6.10.3><span class=header-section-number>2.6.10.3</span> 備份帶 Android
密鑰庫的應用程序<a href=#備份帶-android-密鑰庫的應用程序 class=anchor aria-hidden=true></a></h4><p>Allow backup of applications that has entries in the Android
KeyStore. This option is disabled by default because a few apps (such as
Signal) may crash if restored.</section><section id=subsubsec:settings-encryption class=level4 data-number=2.6.10.4><h4 data-number=2.6.10.4><span class=header-section-number>2.6.10.4</span> 加密<a href=#subsubsec:settings-encryption class=anchor aria-hidden=true></a></h4><p>Set an encryption method for the backups. App Manager currently
supports OpenPGP (via <a href=https://f-droid.org/packages/org.sufficientlysecure.keychain/>OpenKeyChain</a>),
AES and RSA (hybrid encryption with AES). Like <a href=#subsec:apk-signing>APK signing</a>, The AES and RSA keys are
stored in the KeyStore and can be imported from other KeyStores.<div class="amalert danger"><p><strong><em>Danger.</em></strong><p>For your own safety, it is not recommended generating RSA keys inside
App Manager. Instead, they should be imported from a KeyStore stored in
a secure place.<br>In case of AES, the generated key should be stored in a secure place,
such as using a password manager.</div></section><section id=subsubsec:backup-volume class=level4 data-number=2.6.10.5><h4 data-number=2.6.10.5><span class=header-section-number>2.6.10.5</span> 備份位置<a href=#subsubsec:backup-volume class=anchor aria-hidden=true></a></h4><p>Select the storage where the backups will be stored. This is also
where logs and exported APK files are saved.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>The backup volume only specifies the storage, not the path. Backups
are traditionally stored in the <code>AppManager</code> folder inside
the storage path. But when the path is selected using Storage Access
Framework (SAF), the selected path or directory is used directly.</div></section><section id=import-backups class=level4 data-number=2.6.10.6><h4 data-number=2.6.10.6><span class=header-section-number>2.6.10.6</span> Import Backups<a href=#import-backups class=anchor aria-hidden=true></a></h4><p>Import backups from old and discontinued projects such as Titanium
Backup, OAndBackup, and Swift Backup (version 3.0 to 3.2). The backups
are not deleted after importing to prevent data loss in case the
imported backups cannot be restored properly.</section></section><section id=subsec:rules class=level3 data-number=2.6.11><h3 data-number=2.6.11><span class=header-section-number>2.6.11</span> <a href=#toc:subsec:rules>規則</a><a href=#subsec:rules class=anchor aria-hidden=true></a></h3><section id=subsubsec:instant-component-blocking class=level4 data-number=2.6.11.1><h4 data-number=2.6.11.1><span class=header-section-number>2.6.11.1</span> 即時組件攔截<a href=#subsubsec:instant-component-blocking class=anchor aria-hidden=true></a></h4><p>By default, blocking rules are not applied unless they are applied
explicitly in <a href=#sec:app-details-page>the App Details page</a>
for any application. After enabling this option, all (old and new) rules
are applied immediately for all applications without explicitly enabling
blocking for an application.<div class=seealso-inline><p><em>See also: <span><a href=#subsec:faq:what-is-instant-component-blocking>FAQ: What is
instant component blocking?</a></span></em></div></section><section id=導入導出阻止規則 class=level4 data-number=2.6.11.2><h4 data-number=2.6.11.2><span class=header-section-number>2.6.11.2</span> 導入/導出阻止規則<a href=#導入導出阻止規則 class=anchor aria-hidden=true></a></h4><p>It is possible to import or export blocking rules within App Manager
for all applications. The types of rules (components, app ops or
permissions) that should be imported or exported can also be selected.
It is also possible to import blocking rules from <a href=https://github.com/lihenggui/blocker>Blocker</a> and <a href=https://github.com/tuyafeng/Watt>Watt</a>. If it is necessary to
export blocking rules for a single application, the corresponding <a href=#sec:app-details-page>App Details page</a> can be used to export
rules, or for multiple apps, <a href=#subsec:batch-operations>batch
operations</a> can be used.<div class=seealso-inline><p><em>See also: <span><a href=#sec:rules-specification>Rules
Specification</a></span></em></div><section id=export class=level5 data-number=2.6.11.2.1><h5 data-number=2.6.11.2.1><span class=header-section-number>2.6.11.2.1</span> Export<a href=#export class=anchor aria-hidden=true></a></h5><p>Export blocking rules for all applications configured within App
Manager. This may include <a href=#subsec:faq:what-are-app-components>app components</a>, app ops
and permissions based on the options selected in the multi-choice
options.</section><section id=import class=level5 data-number=2.6.11.2.2><h5 data-number=2.6.11.2.2><span class=header-section-number>2.6.11.2.2</span> Import<a href=#import class=anchor aria-hidden=true></a></h5><p>Import previously exported blocking rules from App Manager. Similar
to export, this may include <a href=#subsec:faq:what-are-app-components>app components</a>, app ops
and permissions based on the options selected in the multi-choice
options.</section><section id=par:import-existing-rules class=level5 data-number=2.6.11.2.3><h5 data-number=2.6.11.2.3><span class=header-section-number>2.6.11.2.3</span> Import Existing Rules<a href=#par:import-existing-rules class=anchor aria-hidden=true></a></h5><p>Add components disabled by other applications to App Manager. App
Manager only keeps track of the components disabled within App Manager.
If application components are blocked or disabled by other tools or
applications, this option can be utilised to import them. On clicking
this option, App Manager will find the components potentially disabled
by other applications or tools and list only the name of the
applications along with the number of matched components. For safety,
all the applications are unselected by default. They have to be selected
manually, and the blocking has to be re-applied via App Manager.<div class="amalert danger"><p><strong><em>Caution.</em></strong><p>Be careful when using this tool as there can be many false positives.
Choose only the applications that you are certain about.</div></section><section id=import-from-watt class=level5 data-number=2.6.11.2.4><h5 data-number=2.6.11.2.4><span class=header-section-number>2.6.11.2.4</span> Import from Watt<a href=#import-from-watt class=anchor aria-hidden=true></a></h5><p>Import configuration files from <a href=https://github.com/tuyafeng/Watt>Watt</a>, each file containing
rules for a single package and file name being the name of the package
with <code>.xml</code> extension.<div class="amalert tip"><p><strong><em>Tip.</em></strong><p>Location of configuration files in Watt:
<code>/sdcard/Android/data/com.tuyafeng.watt/files/ifw</code></div></section><section id=import-from-blocker class=level5 data-number=2.6.11.2.5><h5 data-number=2.6.11.2.5><span class=header-section-number>2.6.11.2.5</span> Import from Blocker<a href=#import-from-blocker class=anchor aria-hidden=true></a></h5><p>Import blocking rules from <a href=https://github.com/lihenggui/blocker>Blocker</a>, each file
containing rules for a single package. These files have a
<code>.json</code> extension.</section></section><section id=刪除所有規則 class=level4 data-number=2.6.11.3><h4 data-number=2.6.11.3><span class=header-section-number>2.6.11.3</span> 刪除所有規則<a href=#刪除所有規則 class=anchor aria-hidden=true></a></h4><p>One-click option to remove all rules configured within App Manager.
This will enable all blocked components, app ops will be set to their
default values and permissions will be granted.</section></section><section id=subsec:import/export-keystore class=level3 data-number=2.6.12><h3 data-number=2.6.12><span class=header-section-number>2.6.12</span> <a href=#toc:subsec:import/export-keystore>導入/導出密鑰庫</a><a href=#subsec:import/export-keystore class=anchor aria-hidden=true></a></h3><p>Import or export the KeyStore used by App Manager. This is a Bouncy
Castle KeyStore with <code>bks</code> extension. Therefore, other
KeyStore such as Java KeyStore (JKS) or PKCS #12 are not supported. If a
key is needed to be imported from such a KeyStore, the relevant options
should be should as specified above.</section><section id=subsec:device-info class=level3 data-number=2.6.13><h3 data-number=2.6.13><span class=header-section-number>2.6.13</span> <a href=#toc:subsec:device-info>關於設備</a><a href=#subsec:device-info class=anchor aria-hidden=true></a></h3><p>Display Android version, security, CPU, GPU, battery, memory, screen,
languages, user info, etc.</section></section><section id=sec:scanner-page class=level2 data-number=2.7><h2 data-number=2.7><span class=header-section-number>2.7</span> <a href=#toc:sec:scanner-page>掃描器頁面</a><a href=#sec:scanner-page class=anchor aria-hidden=true></a></h2><p><strong>Scanner page</strong> appears after clicking on the
<em>scanner</em> button in the <a href=#subsec:app-info-tab>App Info
tab</a>. External APK files can also be opened for scanning from file
managers, web browsers, etc.<p>It scans for trackers and libraries, and displays the number of
trackers and libraries as a summary. It also displays checksums of the
APK file as well as the signing certificates. If VirusTotal is
configured in the settings, it also attempts to retrieve reports from
VirusTotal, or uploads the APK file if it is not in the database.<div class="amalert danger"><p><strong><em>Disclaimer.</em></strong><p>App Manager only scans an application statically without prejudice.
The application may provide the options for opting out, or in some
cases, certain features of the tracker may not be used at all by the
application (e.g. F-Droid), or some applications may simply use them as
placeholders to prevent the breaking of certain features (e.g. Fennec
F-Droid). <strong>The intention of the scanner is to give you an idea
about what the APK might contain. It should be taken as an initial step
for further investigations.</strong></div><p>Clicking on the first item (i.e. number of classes) opens a new page
containing a list of tracker classes for the application. All classes
can also be viewed by clicking on the <em>Toggle Class Listing</em>
menu. A sneak-peek of each class can be viewed by simply clicking on any
class item. In Android 8 (Oreo) and later, this includes the whole SMALI
version of the class, and can be converted into Java using the
corresponding option.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>Due to various limitations, it is not possible to scan all the
components of an APK file. This is especially true if an APK is highly
obfuscated. The scanner also does not check strings (or website
signatures).</div><p>The second item lists the number of trackers along with their names.
Clicking on the item displays a dialog containing the name of trackers,
matched signatures, and the number of classes against each signature.
Some tracker names may have <span class="math inline"><sup>2</sup></span> prefix which indicates that the
trackers are in the <a href=https://etip.exodus-privacy.eu.org>ETIP</a> stand-by list
i.e. whether they are actual trackers is still being investigated.<p>The third item lists the number of libraries along with their names.
The information are mostly taken from <a href=https://gitlab.com/IzzyOnDroid/repo>IzzyOnDroid repo</a>.<div class=seealso-inline><p><em>See also: <span><a href=#subsec:tracker-classes-versus-tracker-components>FAQ: Tracker
classes vs tracker components</a></span></em></div><section id=subsec:missing-signatures class=level3 data-number=2.7.1><h3 data-number=2.7.1><span class=header-section-number>2.7.1</span>
<a href=#toc:subsec:missing-signatures>缺少簽名</a><a href=#subsec:missing-signatures class=anchor aria-hidden=true></a></h3><p>At the bottom of the page, there is a special item denoting the
number of missing signatures (i.e. missing classes). The missing
signatures are the ones that AM has failed to match against any known
libraries. The number itself has no particular meaning as many libraries
contain hundreds of classes, but clicking on the item will bring up a
dialog containing the signatures which is helpful in inspecting the
missing signatures. <strong>This feature is only intended for people who
know what a missing signature is and what to do with it, other users
should ignore it.</strong></section></section><section id=sec:interceptor-page class=level2 data-number=2.8><h2 data-number=2.8><span class=header-section-number>2.8</span> <a href=#toc:sec:interceptor-page>攔截器頁面</a><a href=#sec:interceptor-page class=anchor aria-hidden=true></a></h2><p>Interceptor can be used to intercept communication between
applications using <code>Intent</code>. It works as a man-in-the-middle
between the source and the destination applications. It offers a
feature-complete user interface for editing <code>Intent</code>s.<div class="amalert warning"><p><strong><em>Warning.</em></strong><p>Interceptor only works for <em>implicit</em> intents where the <a href=#subsec:faq:what-are-app-components>app component</a> isn’t
specified.</div><div class=seealso><p><em>See also:</em><ul class=incremental><li><p><a href=https://developer.android.com/guide/components/intents-common>Common
Intents</a><li><p><a href=https://developer.android.com/guide/components/intents-filters>Intents
and Intent Filters</a></ul></div><section id=subsec:intent-filters class=level3 data-number=2.8.1><h3 data-number=2.8.1><span class=header-section-number>2.8.1</span>
<a href=#toc:subsec:intent-filters>意圖(Intent)過濾器</a><a href=#subsec:intent-filters class=anchor aria-hidden=true></a></h3><p>Intent filters are used by the applications to specify the tasks they
are able to perform or the tasks they are going to perform using other
applications. For example, when you’re opening a PDF file using a file
manager, the file manager will try to find the applications to open the
PDF with. To find the right applications, the file manager will create
an Intent with filters such as the MIME type and ask the system to
retrieve the applications capable of opening this filter. The system
will search through the Manifest of the installed applications to match
the filter and list the application components that are able to open
this filter (in our case the PDF). At this, either the file manager will
open the desired application component all by itself or use a system
provided option to open it. If multiple application components are able
to open it and no default is set, you may get a prompt where you have to
choose the right application component.<section id=subsubsec:action class=level4 data-number=2.8.1.1><h4 data-number=2.8.1.1><span class=header-section-number>2.8.1.1</span> 動作(Action)<a href=#subsubsec:action class=anchor aria-hidden=true></a></h4><p>Action specifies the generic action to perform such as
<code>android.intent.action.VIEW</code>. Applications often declare the
relevant actions in the Manifest file to catch the desired Intents. The
action is particularly useful for broadcast Intent where it plays a
vital rule. In other cases, it works as an initial way to filter out the
relevant application components. Generic actions such as
<code>android.intent.action.VIEW</code> and
<code>android.intent.action.SEND</code> are widely used by applications.
Hence, setting this alone may match many application components.</section><section id=subsubsec:data class=level4 data-number=2.8.1.2><h4 data-number=2.8.1.2><span class=header-section-number>2.8.1.2</span> 數據(Data)<a href=#subsubsec:data class=anchor aria-hidden=true></a></h4><p>Data is originally known as URI (Uniform Resource Identifier) defined
in <a href=http://www.faqs.org/rfcs/rfc2396.html>RFC 2396</a>. It can
be web links, file location, or a special feature called
<em>content</em>. Contents are an Android feature managed by the <a href=#appdetails:providers>content providers</a>. Data are often
associated with a <a href=#subsubsec:mime-type>MIME type</a>.<p>Examples:<pre><code>http://search.disroot.org/?q=URI%20in%20Android%20scheme&amp;categories=general&amp;language=en-US
https://developer.android.com/reference/android/net/Uri
file:///sdcard/AppManager.apk
mailto:email@example.com
content://io.github.muntashirakon.AppManager.provider/23485af89b08d87e898a90c7e/AppManager.apk</code></pre></section><section id=subsubsec:mime-type class=level4 data-number=2.8.1.3><h4 data-number=2.8.1.3><span class=header-section-number>2.8.1.3</span> MIME 類型<a href=#subsubsec:mime-type class=anchor aria-hidden=true></a></h4><p>MIME type of the <a href=#subsubsec:data>data</a>. For example, if
the data field is set to <code>file:///sdcard/AppManager.apk</code>, the
associated MIME type can be
<code>application/vnd.android.package-archive</code>.</section><section id=類別categories class=level4 data-number=2.8.1.4><h4 data-number=2.8.1.4><span class=header-section-number>2.8.1.4</span> 類別(Categories)<a href=#類別categories class=anchor aria-hidden=true></a></h4><p>This is similar to <a href=#subsubsec:action>action</a> in the
sense that it is also used by the system to filter application
components. This has no further benefits. Unlike <em>action</em>, there
can be more than one category. Clicking on the <em>plus</em> button next
to the title allows adding more categories.</section><section id=標志位flags class=level4 data-number=2.8.1.5><h4 data-number=2.8.1.5><span class=header-section-number>2.8.1.5</span> 標志位(Flags)<a href=#標志位flags class=anchor aria-hidden=true></a></h4><p>Flags are useful in determining how system should behave during the
launch or after the launch of an activity. This should not be touched as
it requires some technical background. The <em>plus</em> button next to
the title can be used to add one or more flags.</section><section id=附加數據extras class=level4 data-number=2.8.1.6><h4 data-number=2.8.1.6><span class=header-section-number>2.8.1.6</span> 附加數據(Extras)<a href=#附加數據extras class=anchor aria-hidden=true></a></h4><p>Extras are the key-value pairs used for supplying additional
information to the destination component. More extras can be added using
the <em>plus</em> button next to the title.</section><section id=uri class=level4 data-number=2.8.1.7><h4 data-number=2.8.1.7><span class=header-section-number>2.8.1.7</span> URI<a href=#uri class=anchor aria-hidden=true></a></h4><p>Represents the entire Intent as a URI (e.g. <code>intent://…</code>).
Some data cannot be converted to string, and as a result, they might not
appear here.</section></section><section id=subsec:matching-activities class=level3 data-number=2.8.2><h3 data-number=2.8.2><span class=header-section-number>2.8.2</span>
<a href=#toc:subsec:matching-activities>匹配的活動(Activity)</a><a href=#subsec:matching-activities class=anchor aria-hidden=true></a></h3><p>List all the activity components that matches the Intent. This is
internally determined by the system (rather than App Manager). The
launch button next to each component can be used to launch them directly
from App Manager.</section><section id=subsec:interceptor-reset-to-default class=level3 data-number=2.8.3><h3 data-number=2.8.3><span class=header-section-number>2.8.3</span>
<a href=#toc:subsec:interceptor-reset-to-default>重置為默認</a><a href=#subsec:interceptor-reset-to-default class=anchor aria-hidden=true></a></h3><p>Reset the Intent to its initial state.</section><section id=subsec:interceptor-send-edited-intent class=level3 data-number=2.8.4><h3 data-number=2.8.4><span class=header-section-number>2.8.4</span>
<a href=#toc:subsec:interceptor-send-edited-intent>發送編輯過的意圖(Intent)</a><a href=#subsec:interceptor-send-edited-intent class=anchor aria-hidden=true></a></h3><p>Resend the edited Intent to the destination application. This may
open a list of applications where the desired application is needed to
be selected. The result received from the target application will be
sent to the source application. As a result, the source application will
not know if there was a man-in-the-middle.</section></section><section id=sec:shared-preferences-editor-page class=level2 data-number=2.9><h2 data-number=2.9><span class=header-section-number>2.9</span> <a href=#toc:sec:shared-preferences-editor-page>共享首選項(Shared
Preferences)編輯頁</a><a href=#sec:shared-preferences-editor-page class=anchor aria-hidden=true></a></h2><p>Shared preferences can be edited in this page. Clicking any item on
the list opens the edit dialog where the item can be edited. The
floating action button on the bottom-right corner can be used to add a
new item. To save or delete the file, or to discard current changes, the
respective options in the menu can be used.</section></section><section id=ch:guides class=level1 data-number=3><h1 data-number=3><span class=header-section-number>3</span> <a href=#toc:ch:guides>指南</a><a href=#ch:guides class=anchor aria-hidden=true></a></h1><section id=sec:adb-over-tcp class=level2 data-number=3.1><h2 data-number=3.1><span class=header-section-number>3.1</span> <a href=#toc:sec:adb-over-tcp>經由 TCP 的 ADB</a><a href=#sec:adb-over-tcp class=anchor aria-hidden=true></a></h2><p>Many root-only features can still be used by enabling ADB over TCP.
To do that, a PC or Mac is required with Android platform-tools
installed, and an Android phone with developer options & USB
debugging enabled.<div class="amalert tip"><p><strong><em>Root users.</em></strong><p>If superuser permission has been granted to App Manager, it can
already execute privileged code without any problem. <strong>Therefore,
root users don’t need to enable ADB over TCP.</strong> If you still want
to use ADB over TCP, you must revoke superuser permission for App
Manager and restart your device. You may see <em>working on ADB
mode</em> message without restarting but this isn’t entirely true. The
server (used as an interface between system and App Manager) is still
running in root mode. This is a known issue and will be fixed in a
future version of App Manager.</div><div class=seealso-inline><p><em>See also: <span><a href=#sec:faq:adb-over-tcp>FAQ: ADB over
TCP</a></span></em></div><section id=subsec:enable-developer-options class=level3 data-number=3.1.1><h3 data-number=3.1.1><span class=header-section-number>3.1.1</span>
<a href=#toc:subsec:enable-developer-options>啟用開發者選項</a><a href=#subsec:enable-developer-options class=anchor aria-hidden=true></a></h3><section id=subsubsec:location-of-developer-options class=level4 data-number=3.1.1.1><h4 data-number=3.1.1.1><span class=header-section-number>3.1.1.1</span> 開發人員選項的位置<a href=#subsubsec:location-of-developer-options class=anchor aria-hidden=true></a></h4><p><strong>Developer options</strong> is located in Android
<strong>Settings</strong>, either directly near the bottom of the page
(in most ROMs) or under some other settings such as
<strong>System</strong> (Lineage OS, Asus Zenfone 8.0+),
<strong>System</strong> > <strong>Advanced</strong> (Google Pixel),
<strong>Additional Settings</strong> (Xiaomi MIUI, Oppo ColorOS),
<strong>More Settings</strong> (Vivo FuntouchOS), <strong>More</strong>
(ZTE Nubia). Unlike other options, it is not visible until explicitly
enabled by the user. If developer options is enabled, you can use the
search box in Android <strong>Settings</strong> to locate it as
well.</section><section id=如何啟用開發者選項 class=level4 data-number=3.1.1.2><h4 data-number=3.1.1.2><span class=header-section-number>3.1.1.2</span> 如何啟用開發者選項<a href=#如何啟用開發者選項 class=anchor aria-hidden=true></a></h4><p>This option is available within Android <strong>Settings</strong> as
well but like the location of the developer options, it also differs
from device to device. But in general, you have to find <strong>Build
number</strong> (or <strong>MIUI version</strong> for MIUI ROMs and
<strong>Software version</strong> for Vivo FuntouchOS,
<strong>Version</strong> for Oppo ColorOS) and tap it at least 7 (seven)
times until you finally get a message saying <em>You are now a
developer</em> (you may be prompted to insert pin/password/pattern or
solve captchas at this point). In most devices, it is located at the
bottom of the settings page, inside <strong>About Phone</strong>. But
the best way to find it is to use the search box.</section></section><section id=subsec:enable-usb-debugging class=level3 data-number=3.1.2><h3 data-number=3.1.2><span class=header-section-number>3.1.2</span>
<a href=#toc:subsec:enable-usb-debugging>啟用USB調試</a><a href=#subsec:enable-usb-debugging class=anchor aria-hidden=true></a></h3><p>After <a href=#subsubsec:location-of-developer-options>locating the
developer options</a>, enable <strong>Developer option</strong> (if not
already). After that, scroll down a bit until you will find the option
<strong>USB debugging</strong>. Use the toggle button on the right-hand
side to enable it. At this point, you may get an alert prompt where you
may have to click <em>OK</em> to actually enable it. You may also have
to enable some other options depending on device vendor and ROM. Here
are some examples:<section id=小米-miui class=level4 data-number=3.1.2.1><h4 data-number=3.1.2.1><span class=header-section-number>3.1.2.1</span> 小米 (MIUI)<a href=#小米-miui class=anchor aria-hidden=true></a></h4><p>Enable <strong>USB debugging (Security settings)</strong> as
well.</section><section id=華為-emui class=level4 data-number=3.1.2.2><h4 data-number=3.1.2.2><span class=header-section-number>3.1.2.2</span> 華為 (EMUI)<a href=#華為-emui class=anchor aria-hidden=true></a></h4><p>Enable <strong>Allow ADB debugging in charge only mode</strong> as
well. When connecting to your PC or Mac, you may get a prompt saying
<strong>Allow access to device data?</strong> in which case click
<strong>YES, ALLOW ACCESS</strong>.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>Often the <strong>USB debugging</strong> mode could be disabled
automatically by the system. If that’s the case, repeat the above
procedure.</div></section><section id=realme class=level4 data-number=3.1.2.3><h4 data-number=3.1.2.3><span class=header-section-number>3.1.2.3</span> Realme<a href=#realme class=anchor aria-hidden=true></a></h4><p>Depending on the device and the version of operating system, you have
to enable <strong>Disable Permission Monitoring</strong>, or <strong>USB
debugging (Security settings)</strong> along with <strong>Install via
USB</strong>.</section><section id=lg class=level4 data-number=3.1.2.4><h4 data-number=3.1.2.4><span class=header-section-number>3.1.2.4</span> LG<a href=#lg class=anchor aria-hidden=true></a></h4><p>Make sure you have <strong>USB tethering</strong> enabled.</section><section id=故障排除 class=level4 data-number=3.1.2.5><h4 data-number=3.1.2.5><span class=header-section-number>3.1.2.5</span> 故障排除<a href=#故障排除 class=anchor aria-hidden=true></a></h4><p>In case <strong>USB Debugging</strong> is greyed out, you can do the
following:<ol class=incremental><li><p>Make sure you enabled USB debugging before connecting your phone
to the PC or Mac via USB cable<li><p>Enable USB tethering after connecting to PC or Mac via USB
cable<li><p>(For Samsung) If your device is running KNOX, you may have to
follow some additional steps. See official documentations or consult
support for further assistant</ol></section></section><section id=subsec:setup-adb-on-pc-or-mac class=level3 data-number=3.1.3><h3 data-number=3.1.3><span class=header-section-number>3.1.3</span>
<a href=#toc:subsec:setup-adb-on-pc-or-mac>在PC或Mac上配置ADB</a><a href=#subsec:setup-adb-on-pc-or-mac class=anchor aria-hidden=true></a></h3><p>In order to enable ADB over TCP, you have to set up ADB in your PC or
Mac. <strong><em>Lineage OS users can skip to §<a href=#subsubsec:lineage-os data-reference-type=ref data-reference=subsubsec:lineage-os>3.1.4.1</a>.</em></strong><section id=windows class=level4 data-number=3.1.3.1><h4 data-number=3.1.3.1><span class=header-section-number>3.1.3.1</span> Windows<a href=#windows class=anchor aria-hidden=true></a></h4><ol class=incremental><li><p>Download the latest version of <a href=https://dl.google.com/android/repository/platform-tools-latest-windows.zip>Android
SDK Platform-Tools</a> for Windows<li><p>Extract the contents of the zip file into any directory (such as
<code>C:\adb</code>) and navigate to that directory using
<em>Explorer</em><li><p>Open <strong>Command Prompt</strong> or
<strong>PowerShell</strong> from this directory. You can do it manually
from the start menu or by holding <code>Shift</code> and Right clicking
within the directory in <em>File Explorer</em> and then clicking either
on <em>Open command window here</em> or on <em>Open PowerShell window
here</em> (depending on what you have installed). You can now access ADB
by typing <code>adb</code> (Command Prompt) or <code>./adb</code>
(PowerShell). Do not close this window yet</ol></section><section id=macos class=level4 data-number=3.1.3.2><h4 data-number=3.1.3.2><span class=header-section-number>3.1.3.2</span> macOS<a href=#macos class=anchor aria-hidden=true></a></h4><ol class=incremental><li><p>Download the latest version of <a href=https://dl.google.com/android/repository/platform-tools-latest-darwin.zip>Android
SDK Platform-Tools</a> for macOS<li><p>Extract the contents of the zip file into a directory by clicking
on it. After that, navigate to that directory using <em>Finder</em> and
locate <code>adb</code><li><p>Open <strong>Terminal</strong> using <em>Launchpad</em> or
<em>Spotlight</em> and drag-and-drop <code>adb</code> from the
<em>Finder</em> window into the <em>Terminal</em> window. Do not close
the <em>Terminal</em> window yet</ol><div class="amalert tip"><p><strong><em>Tip.</em></strong><p>If you are not afraid to use command line, here’s a one liner:<div class=sourceCode id=cb3 data-frame=lines><pre class="sourceCode bash"><code class="sourceCode bash"><span id=cb3-1><a href=#cb3-1 aria-hidden=true tabindex=-1></a><span class=bu>cd</span> ~/Downloads <span class=kw>&amp;&amp;</span> <span class=ex>curl</span> <span class=at>-o</span> platform-tools.zip <span class=at>-L</span> <span class=dt>\</span></span>
<span id=cb3-2><a href=#cb3-2 aria-hidden=true tabindex=-1></a>https://dl.google.com/android/repository/platform-tools-latest-darwin.zip <span class=kw>&amp;&amp;</span> <span class=dt>\</span></span>
<span id=cb3-3><a href=#cb3-3 aria-hidden=true tabindex=-1></a><span class=fu>unzip</span> platform-tools.zip <span class=kw>&amp;&amp;</span> <span class=fu>rm</span> platform-tools.zip <span class=kw>&amp;&amp;</span> <span class=bu>cd</span> platform-tools</span></code></pre></div><p>After that, you can simply type <code>./adb</code> in the in same
<em>Terminal</em> window to access ADB.</div></section><section id=linux class=level4 data-number=3.1.3.3><h4 data-number=3.1.3.3><span class=header-section-number>3.1.3.3</span> Linux<a href=#linux class=anchor aria-hidden=true></a></h4><ol class=incremental><li><p>Open your favourite terminal emulator. In most GUI-distros, you
can open it by holding <code>Control</code>, <code>Alter</code> and
<code>T</code> at the same time<li><p>Run the following command:<div class=sourceCode id=cb4 data-frame=lines data-autogobble><pre class="sourceCode bash"><code class="sourceCode bash"><span id=cb4-1><a href=#cb4-1 aria-hidden=true tabindex=-1></a><span class=bu>cd</span> ~/Downloads <span class=kw>&amp;&amp;</span> <span class=ex>curl</span> <span class=at>-o</span> platform-tools.zip <span class=at>-L</span> <span class=dt>\</span></span>
<span id=cb4-2><a href=#cb4-2 aria-hidden=true tabindex=-1></a>https://dl.google.com/android/repository/platform-tools-latest-linux.zip <span class=kw>&amp;&amp;</span> <span class=dt>\</span></span>
<span id=cb4-3><a href=#cb4-3 aria-hidden=true tabindex=-1></a><span class=fu>unzip</span> platform-tools.zip <span class=kw>&amp;&amp;</span> <span class=fu>rm</span> platform-tools.zip <span class=kw>&amp;&amp;</span> <span class=bu>cd</span> platform-tools</span></code></pre></div><li><p>If it is successful, you can simply type <code>./adb</code> in
the in <em>same</em> terminal emulator window or type
<code>~/Downloads/platform-tools/adb</code> in any terminal emulator to
access ADB.</ol></section></section><section id=subsec:configure-adb-over-tcp class=level3 data-number=3.1.4><h3 data-number=3.1.4><span class=header-section-number>3.1.4</span>
<a href=#toc:subsec:configure-adb-over-tcp>配置經由TCP的ADB</a><a href=#subsec:configure-adb-over-tcp class=anchor aria-hidden=true></a></h3><section id=subsubsec:lineage-os class=level4 data-number=3.1.4.1><h4 data-number=3.1.4.1><span class=header-section-number>3.1.4.1</span> Lineage OS<a href=#subsubsec:lineage-os class=anchor aria-hidden=true></a></h4><p>Lineage OS (or its derivatives) users can directly enable ADB over
TCP using the developer options. To enable that, go to the
<strong>Developer options</strong>, scroll down until you find
<strong>ADB over Network</strong>. Now, use the toggle button on the
right-hand side to enable it and skip to §<a href=#subsubsec:adb-mode-in-app-manager data-reference-type=ref data-reference=subsubsec:adb-mode-in-app-manager>3.1.4.3</a>.</section><section id=subsubsec:enable-adb-over-tcp-via-pc-or-mac class=level4 data-number=3.1.4.2><h4 data-number=3.1.4.2><span class=header-section-number>3.1.4.2</span> 在 PC 或 Mac 上啟用
經由TCP的ADB<a href=#subsubsec:enable-adb-over-tcp-via-pc-or-mac class=anchor aria-hidden=true></a></h4><p>For other ROMs, you can do this using the command
prompt/PowerShell/terminal emulator that you’ve opened in the step 3 of
the previous section. In this section, I will use <code>adb</code> to
denote <code>./adb</code>, <code>adb</code> or any other command that
you needed to use based on your platform and software in the previous
section.<ol class=incremental><li><p>Connect your device to your PC or Mac using a USB cable. For some
devices, it is necessary to turn on <em>File transfer mode (MTP)</em> as
well<li><p>To confirm that everything is working as expected, type
<code>adb devices</code> in your terminal. If your device is connected
successfully, you will see something like this:<pre><code>List of devices attached
xxxxxxxx  device</code></pre><div class="amalert tip"><p><strong><em>Notice.</em></strong><p>In some Android phones, an alert prompt will be appeared with a
message <strong>Allow USB Debugging</strong> in which case, check
<em>Always allow from this computer</em> and click
<strong>Allow</strong>.</div><li><p>Finally, run the following command to enable ADB over TCP:<div class=sourceCode id=cb6 data-frame=lines data-autogobble><pre class="sourceCode bash"><code class="sourceCode bash"><span id=cb6-1><a href=#cb6-1 aria-hidden=true tabindex=-1></a><span class=ex>adb</span> tcpip 5555</span></code></pre></div></ol><div class="amalert danger"><p><strong><em>Danger.</em></strong><p>You cannot disable developer options or USB debugging after enabling
ADB over TCP.</div></section><section id=subsubsec:adb-mode-in-app-manager class=level4 data-number=3.1.4.3><h4 data-number=3.1.4.3><span class=header-section-number>3.1.4.3</span> 在App
Manager上啟用ADB模式<a href=#subsubsec:adb-mode-in-app-manager class=anchor aria-hidden=true></a></h4><p>After enabling ADB over TCP, relaunch App Manager. App Manager should
detect ADB mode automatically. If it cannot, you can change the mode of
operation to ADB over TCP in the <a href=#subsec:mode-of-operation>settings page</a>. There, you can also
verify whether App Manager has correctly detected ADB as indicated by
the <em>inferred mode</em>.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>In some Android devices, the USB cable is needed to be disconnected
from the PC before connecting to App Manager.</div><div class="amalert warning"><p><strong><em>Warning.</em></strong><p>ADB over TCP will be disabled after a reboot. In that case, you have
to follow §<a href=#subsubsec:enable-adb-over-tcp-via-pc-or-mac data-reference-type=ref data-reference=subsubsec:enable-adb-over-tcp-via-pc-or-mac>3.1.4.2</a>
again.</div><div class="amalert warning"><p><strong><em>Lineage OS users.</em></strong><p>You can turn off <strong>ADB over Network</strong> in developer
options, but turning off this option will also stop App Manager’s remote
server. So, turn it off only when you’re not going to use App Manager in
ADB over TCP mode.</div></section></section><section id=subsec:references class=level3 data-number=3.1.5><h3 data-number=3.1.5><span class=header-section-number>3.1.5</span>
<a href=#toc:subsec:references>參考</a><a href=#subsec:references class=anchor aria-hidden=true></a></h3><ol class=incremental><li><p><a href=https://www.xda-developers.com/install-adb-windows-macos-linux>How
to Install ADB on Windows, macOS, and Linux</a><li><p><a href=https://developer.android.com/studio/command-line/adb>Android
Debug Bridge (adb)</a><li><p><a href=https://www.syncios.com/android/fix-usb-debugging-grey-out.html>How
to fix USB debugging greyed out?</a></ol></section></section><section id=sec:wireless-debugging class=level2 data-number=3.2><h2 data-number=3.2><span class=header-section-number>3.2</span> <a href=#toc:sec:wireless-debugging>Wireless Debugging</a><a href=#sec:wireless-debugging class=anchor aria-hidden=true></a></h2><p>If you are running Android 11 or later and capable of connecting to a
Wi-Fi network for, at least, a few moments, Wireless Debugging is the
recommended approach as it offers more protection than <a href=#sec:adb-over-tcp>ADB over TCP</a>. It requires two steps:<ol class=incremental><li><p><strong>ADB pairing.</strong> The initial and a bit complex step
for a novice user. Fortunately, this step is not required all the
time.<li><p><strong>Connecting to ADB.</strong> The final step which needs to
be carried out every time you reboot your phone.</ol><section id=subsec:enable-developer-options-and-usb-debugging class=level3 data-number=3.2.1><h3 data-number=3.2.1><span class=header-section-number>3.2.1</span>
<a href=#toc:subsec:enable-developer-options-and-usb-debugging>Enable
developer options and USB Debugging</a><a href=#subsec:enable-developer-options-and-usb-debugging class=anchor aria-hidden=true></a></h3><p>See §<a href=#subsec:enable-developer-options data-reference-type=ref data-reference=subsec:enable-developer-options>3.1.1</a> and §<a href=#subsec:enable-usb-debugging data-reference-type=ref data-reference=subsec:enable-usb-debugging>3.1.2</a>.</section><section id=subsec:enable-wireless-debugging class=level3 data-number=3.2.2><h3 data-number=3.2.2><span class=header-section-number>3.2.2</span>
<a href=#toc:subsec:enable-wireless-debugging>Enable Wireless
Debugging</a><a href=#subsec:enable-wireless-debugging class=anchor aria-hidden=true></a></h3><p>In the <strong>Developer options</strong> page, find <strong>Wireless
debugging</strong> and click to open it. In the new page, turn on
<em>Use wireless debugging</em>. Depending on your configuration, you
might see a dialog prompt asking you to verify your decision. If that is
the case, click <em>Allow</em>.<div class="amalert tip"><p><strong><em>Tip.</em></strong><p>For an easy access, you might want to add <strong>Wireless
debugging</strong> in the notification tiles section. To do this, find
<strong>Quick settings developer tiles</strong> in the <strong>Developer
options</strong> page and click to open it. In the new window, enable
<em>Wireless debugging</em>. However, this option is unavailable in most
operating systems.</div></section><section id=subsec:pair-adb-with-app-manager class=level3 data-number=3.2.3><h3 data-number=3.2.3><span class=header-section-number>3.2.3</span>
<a href=#toc:subsec:pair-adb-with-app-manager>Pair ADB with App
Manager</a><a href=#subsec:pair-adb-with-app-manager class=anchor aria-hidden=true></a></h3><p>Keeping the <strong>Wireless debugging</strong> page open, go to the
<em>Recents</em> page either by swiping up or by using the dedicated
navigation button, and click on the Settings logo to enable <em>Split
screen</em>. It will wait for you to select or launch another
application: Launch or select App Manager.<p>Now, in App Manager and navigate to <strong>Settings</strong> and
then enable <em>Wireless debugging</em> in <a href=#subsec:mode-of-operation>Mode of operation</a>. After a few
moments, App Manager will ask you to either connect or pair ADB. Select
<em>pair</em>.<p>In the <strong>Wireless debugging</strong> page (now should be on top
among the splits), select <strong>Pair device with pairing
code</strong>. At this, a dialog prompt will be displayed. Note down the
pairing code but <strong>DO NOT</strong> close the dialog prompt or the
window.<p>Finally, in App Manager, insert the pairing code and click
<em>pair</em>. The port number should be detected automatically. If it
cannot, you have to insert the port number as well.<p>If the pairing is successful, it will display a <em>successful</em>
message at the bottom, and the dialog prompt in the <strong>Wireless
debugging</strong> page will be dismissed automatically, and you will be
able to see App Manager listed as an ADB client.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>If you do not use App Manager in ADB mode for a while (depending on
devices), App Manager might be removed from the list. In that case, you
have to repeat the above procedure.</div></section><section id=subsec:connect-app-manager-to-adb class=level3 data-number=3.2.4><h3 data-number=3.2.4><span class=header-section-number>3.2.4</span>
<a href=#toc:subsec:connect-app-manager-to-adb>Connect App Manager to
ADB</a><a href=#subsec:connect-app-manager-to-adb class=anchor aria-hidden=true></a></h3><p>App Manager should be able to connect to ADB automatically if the
mode of operation is set to <em>auto</em>, <em>ADB over TCP</em> or
<em>Wireless debugging</em>. If that is not the case, select
<em>Wireless debugging</em> in the <a href=#subsec:mode-of-operation>settings page</a>. If App Manager fails
to detect or connect to ADB, it will display a dialog prompt to connect
or pair ADB. Select <em>connect</em>.<p>Now, navigate to the <strong>Wireless debugging</strong> page in
Android settings, and note down the port number displayed in the page.
In App Manager’s dialog prompt, replace the port number with the one
that you have noted earlier, and click <em>connect</em>.<p>Once a connection has been established, you can safely disable
<strong>Wireless debugging</strong> in Android settings.<div class="amalert danger"><p><strong><em>Caution.</em></strong><p>Never disable <strong>USB Debugging</strong> or any other additional
options described in §<a href=#subsec:enable-developer-options-and-usb-debugging data-reference-type=ref data-reference=subsec:enable-developer-options-and-usb-debugging>3.2.1</a>.
If you do this, the remote server used by App Manager will be stopped,
and you may have to start all over again.</div></section></section><section id=sec:backup-restore class=level2 data-number=3.3><h2 data-number=3.3><span class=header-section-number>3.3</span> <a href=#toc:sec:backup-restore>備份/恢覆</a><a href=#sec:backup-restore class=anchor aria-hidden=true></a></h2><p>App Manager has a modern, advanced and easy-to-use backup/restore
system implemented from the scratch. This is probably the only app that
has the ability to restore not only the app or its data but also
permissions and rules that you’ve configured within App Manager. You can
also choose to back up an app multiple times (with custom names) or for
all users.<div class=seealso><p><em>See also:</em><ul class=incremental><li><p><a href=#subsec:1-click-back-up>1-Click Ops: Back
up</a><li><p><a href=#subsec:1-click-restore>1-Click Ops:
Restore</a></ul></div><section id=subsec:backup-location class=level3 data-number=3.3.1><h3 data-number=3.3.1><span class=header-section-number>3.3.1</span>
<a href=#toc:subsec:backup-location>位置</a><a href=#subsec:backup-location class=anchor aria-hidden=true></a></h3><p>Back up/restore is a part of <a href=#subsec:batch-operations>batch
operations</a>. It is also located inside the <a href=#subsubsec:app-info-options-menu>options menu</a> in the <a href=#subsec:app-info-tab>App Info tab</a>. Clicking on
<strong>Backup/Restore</strong> opens the <strong>Backup
Options</strong>. Backups are located at
<code>/storage/emulated/0/AppManager</code> by default. You can
configure custom backup location in the <a href=#subsubsec:backup-volume>settings page</a> in which case the
backups will be located at the <code>AppManager</code> folder in the
selected volume.<div class="amalert tip"><p><strong><em>Note.</em></strong><p>If one or more selected apps do not have any backup, the
<strong>Restore</strong> and <strong>Delete Backup</strong> options will
not be displayed.</div></section><section id=subsec:backup-restore-backup-options class=level3 data-number=3.3.2><h3 data-number=3.3.2><span class=header-section-number>3.3.2</span>
<a href=#toc:subsec:backup-restore-backup-options>備份選項</a><a href=#subsec:backup-restore-backup-options class=anchor aria-hidden=true></a></h3><p>Backup options (internally known as backup flags) let you customise
the backups on the fly. However, the customisations will not be
remembered for the future backups. If you want to customise this dialog,
use <a href=#subsubsec:settings-backup-options>Backup Options</a> in
the <a href=#sec:settings-page>Settings page</a>.<p>A complete description of the backup options is given below:<ul class=incremental><li><p><strong>APK files.</strong> Whether to back up the APK files.
This includes the <em>base APK</em> file along with the
<code>split APK</code> files if they exist.<li><p><strong>Internal data.</strong> Whether to back up the internal
data directories. These directories are located at
<code>/data/user/&lt;user_id></code> and (for Android N or later)
<code>/data/user_de/&lt;user_id></code>.<li><p><strong>External data.</strong> Whether to back up data
directories located in the internal memory as well as SD Card (if
exists). External data directories often contain non-essential app data
or media files (instead of using the dedicated media folder) and may
increase the backup size. However, it might be essential for some apps.
Although it isn’t checked by default (as it might dramatically increase
the size of the backups), you may have to check it in order to ensure a
smooth restore of your backups.<div class="amalert warning"><p><strong><em>Caution.</em></strong><p>Internal data folders should always be backed up if you are going to
back up the external data folders. However, it could be useful to back
up only the external folders if the app in question downloads a lot of
assets from the Internet.</div><li><p><strong>OBB and media.</strong> Whether to back up or restore the
OBB and the media directories located in the external storage or the SD
Card. This is useful for games and the graphical software which actually
use these folders.<li><p><strong>Cache.</strong> Android apps have multiple cache
directories located at every data directories (both internal and
external). There are two types of cache: <strong>cache</strong> and
<strong>code cache</strong>. Enabling this option excludes both cache
directories from all the data directories. It is generally advised to
exclude cache directories since most apps do not clear the cache
regularly (for some reason, the only way an app can clear its cache is
by deleting the entire cache directory) and usually handled by the OS
itself. Apps such as Telegram may use a very large cache (depending on
the storage space) which may dramatically increase the backup size. When
it is disabled, AM also ignores the <strong>no_backup</strong>
directories.<li><p><strong>Extras.</strong> Backup/restore app permissions, net
policy, battery optimization, SSAID, etc., enabled by default. Note
that, blocking rules are applied <em>after</em> applying the extras. So,
if an item is present in both places, it will be overwritten (i.e., the
one from the blocking rules will be used).<li><p><strong>Rules.</strong> This option lets you back up blocking
rules configured within App Manager. This might come in handy if you
have customised permissions or block some components using App Manager
as they will also be backed up or restored when you enable this
option.<li><p><strong>Backup Multiple.</strong> Whether this is a multiple
backup. By default, backups are saved using their user ID. Enabling this
option allows you to create additional backups. These backups use the
current date-time as the default backup name, but you can also specify
custom backup name using the input field displayed when you click on the
<strong>Backup</strong> button.<li><p><strong>Custom users.</strong> Backup or restore for the selected
users instead of only the current user. This option is only displayed if
the system has more than one user.<li><p><strong>Skip signature checks.</strong> When taking a backup,
checksum of every file (as well as the signing certificate(s) of the
base APK file) is generated and stored in the <code>checksums.txt</code>
file. When you restore the backup, the checksums are generated again and
are matched with the checksums stored in the said file. Enabling this
option will disable the signature checks. This option is applied only
when you restore a backup. During backup, the checksums are generated
regardless of this option.<div class="amalert warning"><p><strong><em>Caution.</em></strong><p>You should always disable this option to ensure that your backups are
not modified by any third-party applications. However, this would only
work if you enabled encryption.</div></ul><div class=seealso-inline><p><em>See also: <span><a href=#subsubsec:settings-encryption>Settings:
Encryption</a></span></em></div></section><section id=subsec:backup-restore-backup class=level3 data-number=3.3.3><h3 data-number=3.3.3><span class=header-section-number>3.3.3</span>
<a href=#toc:subsec:backup-restore-backup>備份</a><a href=#subsec:backup-restore-backup class=anchor aria-hidden=true></a></h3><p>Backup respects all the backup options except <strong>Skip signature
checks</strong>. If base backups (i.e., backups that don’t have the
<strong>Backup Multiple</strong> option) already exist, you will get a
warning as the backups will be overwritten. If <strong>Backup
Multiple</strong> is set, you have an option to input the backup name,
or you can leave it blank to use the current date-time.</section><section id=subsec:backup-restore-restore class=level3 data-number=3.3.4><h3 data-number=3.3.4><span class=header-section-number>3.3.4</span>
<a href=#toc:subsec:backup-restore-restore>恢覆</a><a href=#subsec:backup-restore-restore class=anchor aria-hidden=true></a></h3><p>Restore respects all the backup options and will fail if <strong>APK
files</strong> option is set, but the backup doesn’t contain such
backups or in other cases, if the app isn’t installed. When restoring
backups for multiple packages, you can only restore the base backups
(see <a href=#subsec:backup-restore-backup>backup</a> section for an
explanation). However, when restoring backups for a single package, you
have the option to select which backup to restore. If <strong>All
users</strong> option is set, AM will restore the selected backup for
all users in the latter case but in the former case, it will restore
base backups for the respective users.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>Apps that use storage access framework (SAF), SSAID or Android
KeyStore works properly only after an immediate restart.</div></section><section id=subsec:backup-restore-delete-backup class=level3 data-number=3.3.5><h3 data-number=3.3.5><span class=header-section-number>3.3.5</span>
<a href=#toc:subsec:backup-restore-delete-backup>刪除備份</a><a href=#subsec:backup-restore-delete-backup class=anchor aria-hidden=true></a></h3><p>Delete backup only respects <strong>All users</strong> option and
when it is selected, only the base backups for all users will be deleted
with a prompt. When deleting backups for a single package, another
dialog will be displayed where you can select the backups to delete.</section></section><section id=sec:automating-tasks class=level2 data-number=3.4><h2 data-number=3.4><span class=header-section-number>3.4</span> <a href=#toc:sec:automating-tasks>Automating Tasks</a><a href=#sec:automating-tasks class=anchor aria-hidden=true></a></h2><p>It is possible to trigger profiles configured inside App Manager via
third-party applications such as <strong>Automation</strong> or
<strong>Tasker</strong>. Traditionally, <code>Intent</code>s are used to
trigger such operations.<section id=subsec:generating-authorization-key class=level3 data-number=3.4.1><h3 data-number=3.4.1><span class=header-section-number>3.4.1</span>
<a href=#toc:subsec:generating-authorization-key>Generating
authorization key</a><a href=#subsec:generating-authorization-key class=anchor aria-hidden=true></a></h3><p>In order to ensure proper security, an authorization key is required.
To generate a authorization key, go to <strong>Settings</strong> page
and then click <strong>Authorization Manager</strong> at the bottom. If
an authorization key has not been generated, it will be generated
automatically. The key can be regenerated as required.<div class="amalert danger"><p><strong><em>Caution.</em></strong><p>Regenerating the authorization key can have some side effects such as
invalidation of all the previously configured Intents.</div></section><section id=subsec:at:general-configuration class=level3 data-number=3.4.2><h3 data-number=3.4.2><span class=header-section-number>3.4.2</span>
<a href=#toc:subsec:at:general-configuration>Configuring tasks</a><a href=#subsec:at:general-configuration class=anchor aria-hidden=true></a></h3><p>The activity
<code>io.github.muntashirakon.AppManager.crypto.auth.AuthFeatureDemultiplexer</code>
is responsible for handling all the automations. Sending an intent to
the activity lets App Manager perform the designated operation by
redirecting the <code>Intent</code> to the designated activity or
service.<section id=required-extras class=level4 data-number=3.4.2.1><h4 data-number=3.4.2.1><span class=header-section-number>3.4.2.1</span> Required extras<a href=#required-extras class=anchor aria-hidden=true></a></h4><p>It has two primary extras required in all conditions. The key names,
data types are all follows:<ol class=incremental><li><p><strong><code>auth</code>.</strong> (String value) The
authorization key as described in the earlier section.<li><p><strong><code>feature</code>.</strong> (String value) Name of the
feature. Supported features are described in the next section.</ol></section></section><section id=subsec:at:features class=level3 data-number=3.4.3><h3 data-number=3.4.3><span class=header-section-number>3.4.3</span>
<a href=#toc:subsec:at:features>Features</a><a href=#subsec:at:features class=anchor aria-hidden=true></a></h3><p>App Manager current support a single feature, namely
<code>profile</code>.</section><section id=subsec:triggering-a-profile class=level3 data-number=3.4.4><h3 data-number=3.4.4><span class=header-section-number>3.4.4</span>
<a href=#toc:subsec:triggering-a-profile>Triggering a profile</a><a href=#subsec:triggering-a-profile class=anchor aria-hidden=true></a></h3><p>In order to trigger a profile, <code>feature</code> must have the
value <code>profile</code>. In addition, the following extras can be
included:<ol class=incremental><li><p><strong><code>prof</code>.</strong> (String value – required) The
name of the profile as displayed in the <a href=#sec:profiles-page>Profiles page</a>.<li><p><strong><code>state</code>.</strong> (String value – optional)
State of the profile – currently <code>on</code> or <code>off</code> –
as specified in the documentation. If this extra is not set, App Manager
will display a prompt where a state must be selected. Therefore, for
complete automation, this option should be set.</ol></section></section><section id=sec:net-policy class=level2 data-number=3.5><h2 data-number=3.5><span class=header-section-number>3.5</span> <a href=#toc:sec:net-policy>連網策略</a><a href=#sec:net-policy class=anchor aria-hidden=true></a></h2><p>Short for <strong>Network policy</strong> or network policies. It is
usually located in the Android settings under <strong>Mobile data &
Wifi</strong> section in the app info page of an app. Not all policies
are guaranteed to be included in this page (e.g. Samsung), and not all
settings are well-understood due to lack of documentation. App Manager
can display all the net policies declared in the <a href=https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/net/NetworkPolicyManager.java>NetworkPolicyManager</a>.
Policies unknown to App Manager will have a <em>Unknown</em> prefix
along with the policy constant name and number in the hexadecimal
format. Unknown policies should be reported to App Manager for
inclusion.<p>Net policy allows a user to configure certain networking behaviour of
an app without modifying the ip tables directly and/or running a
firewall app. However, the features it offers largely depend on Android
version and ROM. A list of known net policies are listed below:<ol class=incremental><li><p><strong>None</strong> or
<strong><code>POLICY_NONE</code></strong>: (AOSP) No specific network
policy is set. System can still assign rules depending on the nature of
the app.<li><p><strong>Reject background data</strong> or
<strong><code>POLICY_REJECT_METERED_BACKGROUND</code></strong>: (AOSP)
Reject network usage on metered networks when the application is in
background.<li><p><strong>Allow background data when Data Saver is on</strong> or
<strong><code>POLICY_ALLOW_METERED_BACKGROUND</code></strong>: (AOSP)
Allow metered network use in the background even when data saving mode
is enabled.<li><p><strong>Reject cellular data</strong> or
<strong><code>POLICY_REJECT_CELLULAR</code></strong> (Android 11+) or
<strong><code>POLICY_REJECT_ON_DATA</code></strong> (up to Android 10):
(Lineage OS) Reject mobile/cellular data. Signals network unavailable to
the configured app as if the mobile data is inactive.<li><p><strong>Reject VPN data</strong> or
<strong><code>POLICY_REJECT_VPN</code></strong> (Android 11+) or
<strong><code>POLICY_REJECT_ON_VPN</code></strong> (up to Android 10):
(Lineage OS) Reject VPN data. Signals network unavailable to the
configured app as if the VPN is inactive.<li><p><strong>Reject Wi-Fi data</strong> or
<strong><code>POLICY_REJECT_WIFI</code></strong> (Android 11+) or
<strong><code>POLICY_REJECT_ON_WLAN</code></strong> (up to Android 10):
(Lineage OS) Reject Wi-Fi data. Signals network unavailable to the
configured app as if the device is not connected to a Wi-Fi
network.<li><p><strong>Disable network access</strong> or
<strong><code>POLICY_REJECT_ALL</code></strong> (Android 11+) or
<strong><code>POLICY_NETWORK_ISOLATED</code></strong> (up to Android
10): (Lineage OS) Reject network access in all circumstances. This is
not the same as enforcing the other three policies above, and is the
recommended policy for dodgy apps. If this policy is enforced, there is
no need to enforce the other policies.<li><p><strong><code>POLICY_ALLOW_METERED_IN_ROAMING</code></strong>:
(Samsung) Possibly allow metered network use during roaming. Exact
meaning is currently unknown.<li><p><strong><code>POLICY_ALLOW_WHITELIST_IN_ROAMING</code></strong>:
(Samsung) Possibly allow network use during roaming. Exact meaning is
currently unknown.</ol><div class="amalert tip"><p><strong><em>Note.</em></strong><p>Corresponding Lineage OS patches are as follows:<ol class=incremental><li><p><a href=https://github.com/LineageOS/android_frameworks_base/commit/a04932bafbbf7d99efd18276152cc2c9c9b2073e>fw/b:
Squash of app fw restriction commits</a><li><p><a href=https://github.com/LineageOS/android_frameworks_base/commit/02c8c82854348f52afe2199f310f44b5f578b5b8>fw/b:
Add support for per app network isolation</a></ol></div></section></section><section id=ch:faq class=level1 data-number=4><h1 data-number=4><span class=header-section-number>4</span> <a href=#toc:ch:faq>常見問題</a><a href=#ch:faq class=anchor aria-hidden=true></a></h1><section id=sec:faq:app-components class=level2 data-number=4.1><h2 data-number=4.1><span class=header-section-number>4.1</span> <a href=#toc:sec:faq:app-components>應用組件</a><a href=#sec:faq:app-components class=anchor aria-hidden=true></a></h2><section id=subsec:faq:what-are-app-components class=level3 data-number=4.1.1><h3 data-number=4.1.1><span class=header-section-number>4.1.1</span>
<a href=#toc:subsec:faq:what-are-app-components>什麽是應用組件？</a><a href=#subsec:faq:what-are-app-components class=anchor aria-hidden=true></a></h3><p>Activities, services, broadcast receivers (or only receivers) and
content providers (or only providers) are jointly called application
components. More technically, they all inherit the <a href=https://developer.android.com/reference/android/content/pm/ComponentInfo>ComponentInfo</a>
class and can be launched via Intent.</section><section id=subsec:faq:how-components-blocked class=level3 data-number=4.1.2><h3 data-number=4.1.2><span class=header-section-number>4.1.2</span>
<a href=#toc:subsec:faq:how-components-blocked>追蹤器或其他組件在App
Manager中是如何被禁用的？其局限性是什麽？</a><a href=#subsec:faq:how-components-blocked class=anchor aria-hidden=true></a></h3><p>App Manager typically blocks application components (or tracker
components) using a method called <a href=https://carteryagemann.com/pages/android-intent-firewall.html>Intent
Firewall (IFW)</a>, it is superior to other methods such as <em>pm</em>
(PackageManager), <a href=https://github.com/RikkaApps/Shizuku>Shizuku</a> or any other
method that uses the package manager to enable or disable the
components. If a component is disabled by the latter methods, the
application itself can detect that the component is being blocked and
can re-enable it as it has full access to its own components. (Many
deceptive applications actually do this in order to keep the tracker
components unblocked.) On the other hand, IFW is a true firewall and the
application cannot detect if its components are being blocked. App
Manager uses the term <em>block</em> rather than <em>disable</em> for
this reason.<p>Even IFW has some limitations which are primarily applicable for the
system applications:<ul class=incremental><li><p>The application in question is whitelisted by the system i.e. the
system cannot function properly without these applications and may cause
random crashes. These applications include but not limited to Android
System, System UI, Phone Services. They will continue to work even if
they are disabled or blocked.<li><p>Another system application or system process has activated a
specific component of the application in question via interprocess
communication (IPC). In this case, the component will be activated
regardless of blocking status or even if the entire application is
disabled. If there is such a system application that is not needed, the
only way to prevent it from running is by getting rid of it.</ul></section><section id=subsec:faq:components-blocked-by-others class=level3 data-number=4.1.3><h3 data-number=4.1.3><span class=header-section-number>4.1.3</span>
<a href=#toc:subsec:faq:components-blocked-by-others>被其他工具禁用的應用程序組件是否保留在App
Manager中？</a><a href=#subsec:faq:components-blocked-by-others class=anchor aria-hidden=true></a></h3><p><strong>No.</strong> But the application components blocked by the
system or any other tools are displayed in the <a href=#subsec:component-tabs>component tabs</a>. These rules can be
imported from <a href=#par:import-existing-rules>Settings</a>.
However, it is not possible for App Manager to distinguish the
components blocked by the third-party tools and components blocked by
the system. Therefore, the applications listed in the import page should
be selected with care.</section><section id=subsec:faq:components-reblocked-in-am class=level3 data-number=4.1.4><h3 data-number=4.1.4><span class=header-section-number>4.1.4</span>
<a href=#toc:subsec:faq:components-reblocked-in-am>被 App Manager
禁用但同時也被其他工具禁用的組件會發生什麽？</a><a href=#subsec:faq:components-reblocked-in-am class=anchor aria-hidden=true></a></h3><p><em>App Manager blocks the components again</em> if requested. In
case of unblocking, they will be reverted to the default state as
specified in the manifest of the application. But if the components were
blocked by <a href=https://www.myandroidtools.com>MyAndroidTools
(MAT)</a> with IFW method, they will not be unblocked by App Manager as
it uses a different format. To fix this issue, the rules have to be
imported from <a href=#par:import-existing-rules>Settings</a> at
first, in which case MAT’s configurations will be permanently
removed.</section><section id=subsec:faq:what-is-instant-component-blocking class=level3 data-number=4.1.5><h3 data-number=4.1.5><span class=header-section-number>4.1.5</span>
<a href=#toc:subsec:faq:what-is-instant-component-blocking>什麽是即時組件禁用？</a><a href=#subsec:faq:what-is-instant-component-blocking class=anchor aria-hidden=true></a></h3><p>When you block a component in the <a href=#sec:app-details-page>App
Details page</a>, the blocking is not applied by default. It is only
applied when you apply blocking using the <em>Apply rules</em> option in
the top-right menu. If you enable <a href=#subsubsec:instant-component-blocking>instant component
blocking</a>, blocking will be applied as soon as you block a component.
If you choose to block tracker components, however, blocking is applied
automatically regardless of this setting. You can also remove blocking
for an application by simply clicking on <em>Remove rules</em> in the
same menu in the <strong>App Details page</strong>. Since the default
behaviour gives you more control over applications, it is better to keep
<em>instant component blocking</em> option disabled.</section><section id=subsec:tracker-classes-versus-tracker-components class=level3 data-number=4.1.6><h3 data-number=4.1.6><span class=header-section-number>4.1.6</span>
<a href=#toc:subsec:tracker-classes-versus-tracker-components>跟蹤器類與跟蹤器組件</a><a href=#subsec:tracker-classes-versus-tracker-components class=anchor aria-hidden=true></a></h3><p>All application components are classes but not all classes are
components. In fact, only a few of the classes are components. That
being said, <a href=#sec:scanner-page>scanner page</a> displays a list
of trackers along with the number of classes, not just the components.
In all other pages, trackers and tracker components are used
synonymously to denote tracker components, i.e. blocking tracker means
blocking tracker components, not tracker classes.<div class="amalert tip"><p><strong><em>Info.</em></strong><p>Tracker classes that are not components cannot be blocked. They can
only be removed by editing the application itself.</div></section></section><section id=sec:faq:adb-over-tcp class=level2 data-number=4.2><h2 data-number=4.2><span class=header-section-number>4.2</span> <a href=#toc:sec:faq:adb-over-tcp>ADB over TCP (經由TCP的ADB)</a><a href=#sec:faq:adb-over-tcp class=anchor aria-hidden=true></a></h2><section id=subsec:faq:enable-adb-on-every-restart class=level3 data-number=4.2.1><h3 data-number=4.2.1><span class=header-section-number>4.2.1</span>
<a href=#toc:subsec:faq:enable-adb-on-every-restart>我必須在每次重啟後啟用ADB
over TCP嗎？</a><a href=#subsec:faq:enable-adb-on-every-restart class=anchor aria-hidden=true></a></h3><p>Unfortunately, yes. This is because the ADB daemon, the process
responsible for ADB connection, is also restarted after a reboot, and it
does not re-enable ADB over TCP.</section><section id=subsec:faq:usb-debugging class=level3 data-number=4.2.2><h3 data-number=4.2.2><span class=header-section-number>4.2.2</span>
<a href=#toc:subsec:faq:usb-debugging>無法啟用 USB
調試，怎麽辦？</a><a href=#subsec:faq:usb-debugging class=anchor aria-hidden=true></a></h3><p>See §<a href=#subsec:enable-usb-debugging data-reference-type=ref data-reference=subsec:enable-usb-debugging>3.1.2</a> in Chapter <a href=#ch:guides data-reference-type=ref data-reference=ch:guides>3</a>.</section><section id=subsec:faq:block-components-using-adb class=level3 data-number=4.2.3><h3 data-number=4.2.3><span class=header-section-number>4.2.3</span>
<a href=#toc:subsec:faq:block-components-using-adb>我可以使用 ADB over
TCP 來禁用跟蹤器或任何其他應用程序組件嗎？</a><a href=#subsec:faq:block-components-using-adb class=anchor aria-hidden=true></a></h3><p>ADB has limited number of <a href=https://github.com/aosp-mirror/platform_frameworks_base/blob/master/packages/Shell/AndroidManifest.xml>permissions</a>
and controlling application components is not one of them. However, the
components of a <em>test-only</em> app can be controlled via ADB. If App
Manager detects such an application, it enables the blocking options
automatically.</section><section id=subsec:faq:adb-features class=level3 data-number=4.2.4><h3 data-number=4.2.4><span class=header-section-number>4.2.4</span>
<a href=#toc:subsec:faq:adb-features>哪些功能可以在ADB模式下使用？</a><a href=#subsec:faq:adb-features class=anchor aria-hidden=true></a></h3><p>Supported features are enabled automatically in the ADB mode.
Supported features include disabling, force-stopping, clearing
application data, granting or revoking app ops and permissions, and so
on. It is also possible to install or uninstall applications without any
prompt from the system.</section></section><section id=sec:faq:miscellanea class=level2 data-number=4.3><h2 data-number=4.3><span class=header-section-number>4.3</span> <a href=#toc:sec:faq:miscellanea>雜項</a><a href=#sec:faq:miscellanea class=anchor aria-hidden=true></a></h2><section id=subsec:faq:no-root-no-harms class=level3 data-number=4.3.1><h3 data-number=4.3.1><span class=header-section-number>4.3.1</span>
<a href=#toc:subsec:faq:no-root-no-harms>我不使用root/ADB，是否完全安全？</a><a href=#subsec:faq:no-root-no-harms class=anchor aria-hidden=true></a></h3><p>Yes. AM cannot modify any system settings without root or ADB over
TCP.</section><section id=subsec:faq:how-trackers-libs-updated class=level3 data-number=4.3.2><h3 data-number=4.3.2><span class=header-section-number>4.3.2</span>
<a href=#toc:subsec:faq:how-trackers-libs-updated>跟蹤器和庫是如何更新的？</a><a href=#subsec:faq:how-trackers-libs-updated class=anchor aria-hidden=true></a></h3><p>Trackers and libraries are updated manually before making a new
release.</section><section id=subsec:faq:apks-deleted-after-installed class=level3 data-number=4.3.3><h3 data-number=4.3.3><span class=header-section-number>4.3.3</span>
<a href=#toc:subsec:faq:apks-deleted-after-installed>Are APKs deleted
after installed?</a><a href=#subsec:faq:apks-deleted-after-installed class=anchor aria-hidden=true></a></h3><p>No, APKs aren’t deleted by App Manager after they are installed.</section><section id=subsec:faq:shizuku-support class=level3 data-number=4.3.4><h3 data-number=4.3.4><span class=header-section-number>4.3.4</span>
<a href=#toc:subsec:faq:shizuku-support>對於 Shizuku 有何計劃？</a><a href=#subsec:faq:shizuku-support class=anchor aria-hidden=true></a></h3><p>App Manager’s use of hidden API and privileged code execution is now
much more complex and cannot be integrated with other third party apps
such as <a href=https://shizuku.rikka.app>Shizuku</a>. Here are some
reasons for not considering Shizuku (which now has Apache 2.0 license)
for App Manager:<ol class=incremental><li><p>Shizuku was initially non-free which led me to use a similar
approach for App Manager to support both root and ADB<li><p>App Manager already supports both ADB and root which in some
cases is more capable than Shizuku<li><p>Relying on a third-party app for the major functionalities is not
a good design choice<li><p>Integration of Shizuku will increase the complexity of App
Manager.</ol></section><section id=subsec:faq:what-are-bloatware class=level3 data-number=4.3.5><h3 data-number=4.3.5><span class=header-section-number>4.3.5</span>
<a href=#toc:subsec:faq:what-are-bloatware>什麽是預裝(bloatware)軟件以及如何刪除？</a><a href=#subsec:faq:what-are-bloatware class=anchor aria-hidden=true></a></h3><p>Bloatware are the unnecessary apps supplied by the vendor or OEM and
are usually system apps. These apps are often used to track users and
collect user data which they might sell for profits. System apps do not
need to request any permission in order to access device info, contacts
and messaging data, and other usage info such as your phone usage habits
and everything you store on your shared storage(s).<p>The bloatware may also include Google apps (such as Google Play
Services, Google Play Store, Gmail, Google, Messages, Dialer, Contacts),
Facebook apps (the Facebook app consists of four or five apps), Facebook
Messenger, Instagram, Twitter and many other apps which can also track
users and/or collect user data without consent given that they all are
system apps. You can disable a few permissions from the Android settings
but be aware that Android settings hides almost every permission any
security specialist would call potentially <em>dangerous</em>.<p>If the bloatware were user apps, you could easily uninstall them
either from Android settings or AM. Uninstalling system apps is not
possible without root permission. You can also uninstall system apps
using ADB, but it may not work for all apps. AM can uninstall system
apps with root or ADB (the latter with certain limitations, of course),
but these methods cannot <em>remove</em> the system apps completely as
they are located in the <em>system</em> partition which is a read-only
partition. If you have root, you can remount this partition to manually
<em>purge</em> these apps but this will break Over the Air (OTA) updates
since data in the system partition has been modified. There are two kind
of updates, delta (small-size, consisting of only the changes between
two versions) and full updates. You can still apply full updates, but
the bloatware will be installed again, and consequently, you have to
delete them all over again. Besides, not all vendors provide full
updates.<p>Another solution is to disable these apps either from Android
settings (no-root) or AM, but certain services can still run in the
background as they can be started by other system apps using
Inter-process Communication (IPC). One possible solution is to disable
all bloatware until the service has finally stopped (after a restart).
However, due to heavy modifications of the Android frameworks by the
vendors, removing or disabling certain bloatware may cause the System UI
to crash or even cause bootloop, thus, (soft) bricking your device. You
may search the web or consult the fellow users to find out more about
how to debloat your device.<p>From v2.5.19, AM has a new feature called <a href=#sec:profile-page>profiles</a>. The <a href=#sec:profiles-page>profiles page</a> has an option to create new
profiles from one of the presets. The presets consist of debloating
profiles which can be used as a starting point to monitor, disable, and
remove the bloatware from a proprietary Android operating system.<div class="amalert warning"><p><strong><em>Note.</em></strong><p>In most cases, you cannot completely debloat your device. Therefore,
it is recommended that you use a custom ROM free from bloatware such as
Graphene OS, Lineage OS or their derivatives.</div></section></section></section><section id=ch:specifications class=level1 data-number=5><h1 data-number=5><span class=header-section-number>5</span> <a href=#toc:ch:specifications>語法</a><a href=#ch:specifications class=anchor aria-hidden=true></a></h1><section id=sec:rules-specification class=level2 data-number=5.1><h2 data-number=5.1><span class=header-section-number>5.1</span> <a href=#toc:sec:rules-specification>規則語法</a><a href=#sec:rules-specification class=anchor aria-hidden=true></a></h2><section id=背景介紹 class=level3 data-number=5.1.1><h3 data-number=5.1.1><span class=header-section-number>5.1.1</span>
<a href=#toc:背景介紹>背景介紹</a><a href=#背景介紹 class=anchor aria-hidden=true></a></h3><p>AM currently supports blocking activities, broadcast receivers,
content providers, services, app ops and permissions, and in future I
may add more blocking options. In order to add more portability, it is
necessary to import/export all these data.<p>Maintaining a database should be the best choice when it comes to
storing data. For now, several <code>tsv</code> files with each file
having the name of the package and a <code>.tsv</code> extension. The
file/database will be queried/processed by the
<code>RulesStorageManager</code> class. Due to this abstraction, it
should be easier to switch to database or encrypted database systems in
future without changing the design of the entire project. Currently, All
configuration files are stored at
<code>/data/data/io.github.muntashirakon.AppManager/Files/conf</code>.</section><section id=規則文件格式 class=level3 data-number=5.1.2><h3 data-number=5.1.2><span class=header-section-number>5.1.2</span>
<a href=#toc:規則文件格式>規則文件格式</a><a href=#規則文件格式 class=anchor aria-hidden=true></a></h3><section id=內部 class=level4 data-number=5.1.2.1><h4 data-number=5.1.2.1><span class=header-section-number>5.1.2.1</span> 內部<a href=#內部 class=anchor aria-hidden=true></a></h4><p>The format below is used internally within App Manager and is <em>not
compatible with the external format.</em><pre><code>    &lt;name&gt; &lt;type&gt; &lt;mode&gt;|&lt;component_status&gt;|&lt;is_granted&gt;</code></pre><p>Here:<ul class=incremental><li><p><code>&lt;name></code> – Component/permission/app op name (in
case of app op, it could be string or integer)<li><p><code>&lt;type></code> – One of the <code>ACTIVITY</code>,
<code>RECEIVER</code>, <code>PROVIDER</code>, <code>SERVICE</code>,
<code>APP_OP</code>, <code>PERMISSION</code><li><p><code>&lt;mode></code> – (For app ops) The associated <a href=#subsec:mode-constants>mode constant</a><li><p><code>&lt;component_status></code> – (For components)
Component status<ul class=incremental><li><p><code>true</code> – Component has been applied (<code>true</code>
value is kept for compatibility)<li><p><code>false</code> – Component hasn’t been applied yet, but will
be applied in future (<code>false</code> value is kept for
compatibility)<li><p><code>unblocked</code> – Component is scheduled to be
unblocked</ul><li><p><code>&lt;is_granted></code> – (For permissions) Whether the
permission is granted or revoked</ul></section><section id=外部 class=level4 data-number=5.1.2.2><h4 data-number=5.1.2.2><span class=header-section-number>5.1.2.2</span> 外部<a href=#外部 class=anchor aria-hidden=true></a></h4><p>外部格式用於在 App Manager 中導入或導出規則。<pre><code> &lt;package_name&gt; &lt;component_name&gt; &lt;type&gt; &lt;mode&gt;|&lt;component_status&gt;|&lt;is_granted&gt;</code></pre><p>除了第一項是包的名稱外，該格式與上述格式基本相同。<div class="amalert danger"><p><strong><em>注意.</em></strong><p>導出的規則與內部規則的格式不同，不應直接複製到 <strong>conf</strong>
文件夾。</div></section></section></section></section><section id=ch:changelogs class=level1 data-number=6><h1 data-number=6><span class=header-section-number>6</span> <a href=#toc:ch:changelogs>更新日志</a><a href=#ch:changelogs class=anchor aria-hidden=true></a></h1><section id=sec:v3.0.0-(410) class=level2 data-number=6.1><h2 data-number=6.1><span class=header-section-number>6.1</span> <a href=#toc:sec:v3.0.0-(410)>v3.0.0 (410)</a><a href=#sec:v3.0.0-(410) class=anchor aria-hidden=true></a></h2><p>App Manager v3.0.0 comes with a lot of features and improvements. See
<a href="intent://settings/changelog#Intent;scheme=app-manager;end">Settings
> Changelog</a> to see a more detailed changelog.<section id=material-3-and-more class=level3 data-number=6.1.1><h3 data-number=6.1.1><span class=header-section-number>6.1.1</span>
<a href=#toc:material-3-and-more>Material 3 and More</a><a href=#material-3-and-more class=anchor aria-hidden=true></a></h3><p>Material 3, somewhat similar to <em>Material You</em>, is a
significant improvement over Material Design 2 with support for dynamic
colours in Android 12 and later. In addition, many design changes have
been made in App Manager without any significant changes in the overall
user experience.<section id=known-issue class=level5 data-number=6.1.1.0.1><h5 data-number=6.1.1.0.1><span class=header-section-number>6.1.1.0.1</span> Known issue<a href=#known-issue class=anchor aria-hidden=true></a></h5><p>Switches are still based on Material Design 2 which will be fixed in
a future release.</section></section><section id=wireless-debugging class=level3 data-number=6.1.2><h3 data-number=6.1.2><span class=header-section-number>6.1.2</span>
<a href=#toc:wireless-debugging>Wireless Debugging</a><a href=#wireless-debugging class=anchor aria-hidden=true></a></h3><p>Wireless debugging support has been fully implemented. Head over to
§<a href=#sec:wireless-debugging data-reference-type=ref data-reference=sec:wireless-debugging>3.2</a> for instructions on how
to configure wireless debugging.<div class="amalert tip"><p><strong><em>No-root users.</em></strong><p>Due to auto-detection feature, startup time might be large for
no-root users when the mode of operation is set to <em>auto</em>.
Instead, no-root users should select <em>no-root</em> instead of
<em>auto</em>.</div></section><section id=languages class=level3 data-number=6.1.3><h3 data-number=6.1.3><span class=header-section-number>6.1.3</span>
<a href=#toc:languages>Languages</a><a href=#languages class=anchor aria-hidden=true></a></h3><p>App Manager is fully translated into Indonesian and Italian languages
and can be enabled in settings. Bengali is removed due to lack of
translators.</section><section id=introducing-app-explorer class=level3 data-number=6.1.4><h3 data-number=6.1.4><span class=header-section-number>6.1.4</span>
<a href=#toc:introducing-app-explorer>Introducing App Explorer</a><a href=#introducing-app-explorer class=anchor aria-hidden=true></a></h3><p>App Explorer can be used to browse the contents of an application.
This includes binary XML files, DEX contents or any other media files.
DEX contents can only be explored in Android Oreo (Android 8) and later.
It’s also possible to convert an <code>.smali</code> file into
<code>.java</code> for a better understanding of the reversed code. This
feature, if not needed, can be disabled in Settings > Enable/disable
features.</section><section id=import-backups-from-other-applications class=level3 data-number=6.1.5><h3 data-number=6.1.5><span class=header-section-number>6.1.5</span>
<a href=#toc:import-backups-from-other-applications>Import Backups
from Other Applications</a><a href=#import-backups-from-other-applications class=anchor aria-hidden=true></a></h3><p>It is possible to import backups from discontinued or obsolete
applications such as Titanium Backup, OAndBackup and Swift Backup
(version 3.0 to 3.2). Go to Setting > Backup/restore to find this
option.</section><section id=virustotal class=level3 data-number=6.1.6><h3 data-number=6.1.6><span class=header-section-number>6.1.6</span>
<a href=#toc:virustotal>VirusTotal</a><a href=#virustotal class=anchor aria-hidden=true></a></h3><p>VirusTotal is a widely used tool to scan files and URLs for viruses.
In the scanner page and in the running apps page, an option to scan
files with VirusTotal has been added. But the option is hidden by
default. To enable the option, it is necessary to obtain an API key from
VirusTotal. Go to Settings > VirusTotal API Key for more
information.<div class="amalert warning"><p><strong><em>Internet feature.</em></strong><p>This is currently the only feature which require an Internet
connection. If you wish to use any Internet feature that might also be
added in the future, enable <em>Use the Internet</em> in Settings >
Enable/disable features.</div></section><section id=trigger-profiles-from-the-automation-software class=level3 data-number=6.1.7><h3 data-number=6.1.7><span class=header-section-number>6.1.7</span>
<a href=#toc:trigger-profiles-from-the-automation-software>Trigger
Profiles from the Automation Software</a><a href=#trigger-profiles-from-the-automation-software class=anchor aria-hidden=true></a></h3><p>As the implementation of routine operations is being delayed, an
option to trigger profiles from the external automation software is
added. See §<a href=#sec:automating-tasks data-reference-type=ref data-reference=sec:automating-tasks>3.4</a> for instructions on how to
configure profile automation.</section><section id=improved-application-installer class=level3 data-number=6.1.8><h3 data-number=6.1.8><span class=header-section-number>6.1.8</span>
<a href=#toc:improved-application-installer>Improved Application
Installer</a><a href=#improved-application-installer class=anchor aria-hidden=true></a></h3><p>Application installer includes several improvements including the
ability to downgrade applications in no-root mode, installing multiple
applications at once and blocking trackers after installation. In
Android 12 and later, no-root users can update applications without any
user interactions.</section><section id=component-blocking class=level3 data-number=6.1.9><h3 data-number=6.1.9><span class=header-section-number>6.1.9</span>
<a href=#toc:component-blocking>Component Blocking</a><a href=#component-blocking class=anchor aria-hidden=true></a></h3><p>It is now possible to configure how App Manager should block a
component. Visit Settings > Rules > Default blocking method for
more information. In the components tab, long clicking the block/unblock
button opens a context menu which allows per-component blocking in a
similar manner. ADB users can also block the components of a <em>Test
only</em> app.</section><section id=advanced-searching class=level3 data-number=6.1.10><h3 data-number=6.1.10><span class=header-section-number>6.1.10</span> <a href=#toc:advanced-searching>Advanced Searching</a><a href=#advanced-searching class=anchor aria-hidden=true></a></h3><p>In some pages, the search bar supports additional searching which
includes searching via prefix, suffix or even regular expressions. In
the main page, it is also possible to search for applications using the
first letters of each word, e.g. <em>App Manager</em> can be listed by
searching for <em>am</em>.</section><section id=shared-libraries class=level3 data-number=6.1.11><h3 data-number=6.1.11><span class=header-section-number>6.1.11</span> <a href=#toc:shared-libraries>Shared Libraries</a><a href=#shared-libraries class=anchor aria-hidden=true></a></h3><p>Shared libraries tab has received a significant improvements. It can
display three types of libraries, such as native, jar and APK files.</section><section id=make-the-best-use-of-interceptor class=level3 data-number=6.1.12><h3 data-number=6.1.12><span class=header-section-number>6.1.12</span> <a href=#toc:make-the-best-use-of-interceptor>Make the Best Use of
Interceptor</a><a href=#make-the-best-use-of-interceptor class=anchor aria-hidden=true></a></h3><p>Activity interceptor can be opened directly from the activities tab
by long clicking on the launch button, and similarly, activities can be
launched from the activity interceptor page with or without root, for
any users.<div class="amalert tip"><p><strong><em>Notice.</em></strong><p>Currently, activities opened via root cannot send the results back to
the original applications.</div></section><section id=widget-screen-time class=level3 data-number=6.1.13><h3 data-number=6.1.13><span class=header-section-number>6.1.13</span> <a href=#toc:widget-screen-time>Widget: Screen Time</a><a href=#widget-screen-time class=anchor aria-hidden=true></a></h3><p>Screen time widget is quite similar to Digital Wellbeing’s widget by
the same name. It displays the total screen time for the day along with
the top three apps from all users.</section><section id=widget-clear-cache class=level3 data-number=6.1.14><h3 data-number=6.1.14><span class=header-section-number>6.1.14</span> <a href=#toc:widget-clear-cache>Widget: Clear Cache</a><a href=#widget-clear-cache class=anchor aria-hidden=true></a></h3><p>Clear cache widget can be to clear cache from all the applications
directly from the home screen.</section></section><section id=sec:v2.6.0-(385) class=level2 data-number=6.2><h2 data-number=6.2><span class=header-section-number>6.2</span> <a href=#toc:sec:v2.6.0-(385)>v2.6.0 (385)</a><a href=#sec:v2.6.0-(385) class=anchor aria-hidden=true></a></h2><section id=introducing-backups class=level3 data-number=6.2.1><h3 data-number=6.2.1><span class=header-section-number>6.2.1</span>
<a href=#toc:introducing-backups>Introducing Backups</a><a href=#introducing-backups class=anchor aria-hidden=true></a></h3><p>Back up/restore feature is now finally out of beta! Read <a href=#sec:backup-restore>the corresponding guide</a> to understand how
it works.</section><section id=introducing-log-viewer class=level3 data-number=6.2.2><h3 data-number=6.2.2><span class=header-section-number>6.2.2</span>
<a href=#toc:introducing-log-viewer>Introducing Log Viewer</a><a href=#introducing-log-viewer class=anchor aria-hidden=true></a></h3><p><a href=#subsubsec:log-viewer>Log viewer</a> is essentially a
front-end for <code>logcat</code>. It can be used to filter logs by
<em>tag</em> or <em>pid</em> (process ID), or even by custom filters.
Log levels AKA verbosity can also be configured. You can also save,
share and manage logs.</section><section id=lock-app-manager class=level3 data-number=6.2.3><h3 data-number=6.2.3><span class=header-section-number>6.2.3</span>
<a href=#toc:lock-app-manager>Lock App Manager</a><a href=#lock-app-manager class=anchor aria-hidden=true></a></h3><p><a href=#subsec:screen-lock>Lock App Manager</a> with the screen
lock configured for your device.</section><section id=extended-modes-for-app-ops class=level3 data-number=6.2.4><h3 data-number=6.2.4><span class=header-section-number>6.2.4</span>
<a href=#toc:extended-modes-for-app-ops>Extended Modes for App
Ops</a><a href=#extended-modes-for-app-ops class=anchor aria-hidden=true></a></h3><p>You can set any mode for any app ops that your device supports,
either from the <a href=#subsec:set-mode-for-app-ops-dots>1-click ops
page</a> or from the <a href=#subsubsec:app-ops>app ops tab</a>.</section><section id=new-batch-ops-add-to-profile class=level3 data-number=6.2.5><h3 data-number=6.2.5><span class=header-section-number>6.2.5</span>
<a href=#toc:new-batch-ops-add-to-profile>New Batch Ops: Add to
Profile</a><a href=#new-batch-ops-add-to-profile class=anchor aria-hidden=true></a></h3><p>You can now easily add selected apps to an existing profile using the
batch operations.</section><section id=app-info-improved class=level3 data-number=6.2.6><h3 data-number=6.2.6><span class=header-section-number>6.2.6</span>
<a href=#toc:app-info-improved>App Info: Improved</a><a href=#app-info-improved class=anchor aria-hidden=true></a></h3><p>App info tab now has many options, including the ability to change <a href=#sec:terminologies>SSAID</a>, network policy (i.e. background
network usage), battery optimization, etc. Most of the tags used in this
tab are also clickable, and if you click on them, you will be able to
look at the current state or configure them right away.</section><section id=advanced-sort-and-filtering-options-in-the-main-page class=level3 data-number=6.2.7><h3 data-number=6.2.7><span class=header-section-number>6.2.7</span>
<a href=#toc:advanced-sort-and-filtering-options-in-the-main-page>Advanced
Sort and Filtering Options in the Main Page</a><a href=#advanced-sort-and-filtering-options-in-the-main-page class=anchor aria-hidden=true></a></h3><p>Sort and filter options are now replaced by <a href=#subsubsec:main-list-options>List Options</a> which is highly
configurable, including the ability to filter using profiles.</section><section id=about-this-device class=level3 data-number=6.2.8><h3 data-number=6.2.8><span class=header-section-number>6.2.8</span>
<a href=#toc:about-this-device>About This Device</a><a href=#about-this-device class=anchor aria-hidden=true></a></h3><p>Interested in knowing about your device in just one page? Go to the
bottom of the <a href=#subsec:device-info>settings page</a>.</section><section id=enabledisable-features class=level3 data-number=6.2.9><h3 data-number=6.2.9><span class=header-section-number>6.2.9</span>
<a href=#toc:enabledisable-features>Enable/disable Features</a><a href=#enabledisable-features class=anchor aria-hidden=true></a></h3><p>Not interested in all the features that AM offers? You can disable
some features in <a href=#subsec:enable/disable-features>settings</a>.</section><section id=new-languages class=level3 data-number=6.2.10><h3 data-number=6.2.10><span class=header-section-number>6.2.10</span> <a href=#toc:new-languages>New Languages</a><a href=#new-languages class=anchor aria-hidden=true></a></h3><p>AM now has more than 19 languages! New languages include Farsi,
Japanese and Traditional Chinese.</section><section id=signing-the-apk-files class=level3 data-number=6.2.11><h3 data-number=6.2.11><span class=header-section-number>6.2.11</span> <a href=#toc:signing-the-apk-files>Signing the APK Files</a><a href=#signing-the-apk-files class=anchor aria-hidden=true></a></h3><p>You can now import external signing keys in AM! For security, App
Manager has its own encrypted KeyStore which can also be <a href=#subsec:import/export-keystore>imported or exported</a>.</section><section id=new-extension-unapkm class=level3 data-number=6.2.12><h3 data-number=6.2.12><span class=header-section-number>6.2.12</span> <a href=#toc:new-extension-unapkm>New Extension: UnAPKM</a><a href=#new-extension-unapkm class=anchor aria-hidden=true></a></h3><p>Since APKMirror has removed encryption from their APKM files, it’s no
longer necessary to decrypt them. As a result, the option to decrypt
APKM files has been removed. Instead, this option is now provided by the
UnAPKM extension which you can grab from <a href=https://f-droid.org/packages/io.github.muntashirakon.unapkm/>F-Droid</a>.
So, if you have an encrypted APKM file and have this extension
installed, you can open the file directly in AM.</section></section><section id=sec:v2.5.20-(375) class=level2 data-number=6.3><h2 data-number=6.3><span class=header-section-number>6.3</span> <a href=#toc:sec:v2.5.20-(375)>v2.5.20 (375)</a><a href=#sec:v2.5.20-(375) class=anchor aria-hidden=true></a></h2><section id=subsec:introducing-profiles class=level3 data-number=6.3.1><h3 data-number=6.3.1><span class=header-section-number>6.3.1</span>
<a href=#toc:subsec:introducing-profiles>Introducing Profiles</a><a href=#subsec:introducing-profiles class=anchor aria-hidden=true></a></h3><p><a href=#sec:profile-page>Profiles</a> finally closes the <a href=https://github.com/MuntashirAkon/AppManager/issues/72>related
issue</a>. Profiles can be used to execute certain tasks repeatedly
without doing everything manually. A profile can be applied (or invoked)
either from the <a href=#sec:profiles-page>Profiles page</a> or from
the home screen by creating shortcuts. There are also some presets which
consist of debloating profiles taken from <a href=https://gitlab.com/W1nst0n/universal-android-debloater>Universal
Android Debloater</a>.<section id=known-limitations class=level5 data-number=6.3.1.0.1><h5 data-number=6.3.1.0.1><span class=header-section-number>6.3.1.0.1</span> Known limitations<a href=#known-limitations class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Exporting rules and applying permissions are not currently
working.<li><p>Profiles are applied for all users.</ul></section></section><section id=subsec:the-interceptor class=level3 data-number=6.3.2><h3 data-number=6.3.2><span class=header-section-number>6.3.2</span>
<a href=#toc:subsec:the-interceptor>The Interceptor</a><a href=#subsec:the-interceptor class=anchor aria-hidden=true></a></h3><p><a href=https://github.com/MuntashirAkon/intent-intercept>Intent
Intercept</a> works as a man-in-the-middle between source and
destination, that is, when you open a file or URL with another app, you
can see what is being shared by opening it with Interceptor first. You
can also add or modify the intents before sending them to the
destination. Additionally, you can double-click on any exportable
activities in the Activities tab in the App Details page to open them in
the Interceptor to add more configurations.<section id=known-limitation class=level5 data-number=6.3.2.0.1><h5 data-number=6.3.2.0.1><span class=header-section-number>6.3.2.0.1</span> Known limitation<a href=#known-limitation class=anchor aria-hidden=true></a></h5><p>Editing extras is not currently possible.</section></section><section id=subsec:unapkm:-dedrm-the-apkm-files class=level3 data-number=6.3.3><h3 data-number=6.3.3><span class=header-section-number>6.3.3</span>
<a href=#toc:subsec:unapkm:-dedrm-the-apkm-files>UnAPKM: DeDRM the
APKM files</a><a href=#subsec:unapkm:-dedrm-the-apkm-files class=anchor aria-hidden=true></a></h3><p>When I released a small tool called <a href=https://f-droid.org/en/packages/io.github.muntashirakon.unapkm>UnAPKM</a>,
I promised that similar feature will be available in App Manager. I am
proud to announce that you can open APKM files directly in the App Info
page or convert them to APKS or install them directly.</section><section id=subsec:multiple-user class=level3 data-number=6.3.4><h3 data-number=6.3.4><span class=header-section-number>6.3.4</span>
<a href=#toc:subsec:multiple-user>Multiple user</a><a href=#subsec:multiple-user class=anchor aria-hidden=true></a></h3><p>App manager now supports multiple users! For now, this requires root
or ADB. But no-root support is also being considered. If you have
multiple users enabled and click on an app installed in multiple
profiles, an alert prompt will be displayed where you can select the
user.</section><section id=vive-la-france class=level3 data-number=6.3.5><h3 data-number=6.3.5><span class=header-section-number>6.3.5</span>
<a href=#toc:vive-la-france>Vive la France!</a><a href=#vive-la-france class=anchor aria-hidden=true></a></h3><p>Thanks to the contributors, we have one more addition to the language
club: French. You can add more languages or improve existing
translations at <a href=https://hosted.weblate.org/engage/app-manager>Weblate</a>.</section><section id=report-crashes class=level3 data-number=6.3.6><h3 data-number=6.3.6><span class=header-section-number>6.3.6</span>
<a href=#toc:report-crashes>Report crashes</a><a href=#report-crashes class=anchor aria-hidden=true></a></h3><p>If App Manager crashes, you can now easily report the crash from the
notifications which opens the share options. Crashes are not reported by
App Manager, it only redirects you to your favourite Email client.</section><section id=android-11 class=level3 data-number=6.3.7><h3 data-number=6.3.7><span class=header-section-number>6.3.7</span>
<a href=#toc:android-11>Android 11</a><a href=#android-11 class=anchor aria-hidden=true></a></h3><p>Added support for Android 11. Not everything may work as expected
though.</section><section id=app-installer-improvements class=level3 data-number=6.3.8><h3 data-number=6.3.8><span class=header-section-number>6.3.8</span>
<a href=#toc:app-installer-improvements>App Installer
Improvements</a><a href=#app-installer-improvements class=anchor aria-hidden=true></a></h3><section id=set-installation-locations class=level4 data-number=6.3.8.1><h4 data-number=6.3.8.1><span class=header-section-number>6.3.8.1</span> Set installation
locations<a href=#set-installation-locations class=anchor aria-hidden=true></a></h4><p>In settings page, you can set install locations such as auto
(default), internal only and prefer external.</section><section id=set-apk-installer class=level4 data-number=6.3.8.2><h4 data-number=6.3.8.2><span class=header-section-number>6.3.8.2</span> Set APK installer<a href=#set-apk-installer class=anchor aria-hidden=true></a></h4><p>In settings page, you can also set default APK installer (root/ADB
only) instead of App Manager.</section><section id=multiple-users class=level4 data-number=6.3.8.3><h4 data-number=6.3.8.3><span class=header-section-number>6.3.8.3</span> Multiple users<a href=#multiple-users class=anchor aria-hidden=true></a></h4><p>In settings page, you can allow App Manager to display multiple users
during APK installation.</section><section id=signing-apk-files class=level4 data-number=6.3.8.4><h4 data-number=6.3.8.4><span class=header-section-number>6.3.8.4</span> Signing APK files<a href=#signing-apk-files class=anchor aria-hidden=true></a></h4><p>In settings page, you can choose to sign APK files before installing
them. You can also select which signature scheme to use in the <em>APK
signing</em> option in settings.<section id=known-limitation-1 class=level5 data-number=6.3.8.4.1><h5 data-number=6.3.8.4.1><span class=header-section-number>6.3.8.4.1</span> Known limitation<a href=#known-limitation-1 class=anchor aria-hidden=true></a></h5><p>Currently, only a generic key is used to sign APK files</section></section></section></section><section id=v2.5.17-368 class=level2 data-number=6.4><h2 data-number=6.4><span class=header-section-number>6.4</span> <a href=#toc:v2.5.17-368>v2.5.17 (368)</a><a href=#v2.5.17-368 class=anchor aria-hidden=true></a></h2><section id=app-installer class=level3 data-number=6.4.1><h3 data-number=6.4.1><span class=header-section-number>6.4.1</span>
<a href=#toc:app-installer>App Installer</a><a href=#app-installer class=anchor aria-hidden=true></a></h3><p>As promised, it is now possible to select splits. AM also provides
recommendations based on device configurations. If the app is already
installed, recommendations are provided based on the installed app. It
is also possible to downgrade to a lower version without data loss if
the device has root or ADB. But it should be noted that not all app can
be downgraded. Installer is also improved to speed up the installation
process, especially, for root users. If the app has already been
installed and the new (x)apk(s) is newer or older or the same version
with a different signature, AM will display a list of changes similar to
<strong>What’s New</strong> before prompting the user to install the
app. This is useful if the app has introduced tracker components, new
permissions, etc.<section id=known-limitations-1 class=level5 data-number=6.4.1.0.1><h5 data-number=6.4.1.0.1><span class=header-section-number>6.4.1.0.1</span> Known Limitations<a href=#known-limitations-1 class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Large app can take a long time to fetch app info, and therefore,
it may take a long time display the installation prompt.<li><p>If the apk is not located in the internal storage, the app has to
be cached first which might also take a long time depending on the size
of the apk.</ul></section></section><section id=scanner-replacement-for-exodus-page class=level3 data-number=6.4.2><h3 data-number=6.4.2><span class=header-section-number>6.4.2</span>
<a href=#toc:scanner-replacement-for-exodus-page>Scanner: Replacement
for Exodus Page</a><a href=#scanner-replacement-for-exodus-page class=anchor aria-hidden=true></a></h3><p>Exodus page is now replaced with scanner page. <a href=#sec:scanner-page>Scanner page</a> contains not only a list of
trackers but also a list of used libraries. This is just a start. In the
future, this page will contain more in depth analysis of the app.</section><section id=introducing-system-config class=level3 data-number=6.4.3><h3 data-number=6.4.3><span class=header-section-number>6.4.3</span>
<a href=#toc:introducing-system-config>Introducing System Config</a><a href=#introducing-system-config class=anchor aria-hidden=true></a></h3><p>System Config lists various system configurations and
whitelists/blacklists included in Android by either OEM/vendor, AOSP or
even some Magisk modules. Root users can access this option from the
overflow menu in the main page. There isn’t any official documentation
for these options therefore it’s difficult to write a complete
documentation for this page. I will gradually add documentations using
my own knowledge. However, some functions should be understandable by
their name.</section><section id=more-languages class=level3 data-number=6.4.4><h3 data-number=6.4.4><span class=header-section-number>6.4.4</span>
<a href=#toc:more-languages>More Languages</a><a href=#more-languages class=anchor aria-hidden=true></a></h3><p>Thanks to the contributors, AM now has more than 12 languages. New
languages include Bengali, Hindi, Norwegian, Polish, Russian, Simplified
Chinese, Turkish and Ukrainian.</section><section id=app-info-tab class=level3 data-number=6.4.5><h3 data-number=6.4.5><span class=header-section-number>6.4.5</span>
<a href=#toc:app-info-tab>App Info Tab</a><a href=#app-info-tab class=anchor aria-hidden=true></a></h3><p>More tags are added in the <a href=#subsec:app-info-tab>app info
tab</a> such as <strong>KeyStore</strong> (apps with KeyStore items),
<strong>Systemless app</strong> (apps installed via Magisk),
<strong>Running</strong> (apps that are running). For external apk, two
more options are added namely <strong>Reinstall</strong> and
<strong>Downgrade</strong>. Now it is possible to share an apk via
Bluetooth. For system apps, it is possible to uninstall updates for
root/ADB users. But like the similar option in the system settings, this
operation will clear all app data. As stated above, exodus has been
replaced with scanner.</section><section id=navigation-improvements class=level3 data-number=6.4.6><h3 data-number=6.4.6><span class=header-section-number>6.4.6</span>
<a href=#toc:navigation-improvements>Navigation Improvements</a><a href=#navigation-improvements class=anchor aria-hidden=true></a></h3><p>It’s now relatively easy to navigate to various UI components using
keyboard. You can use up/down button to navigate between list items and
tab button to navigate to UI components inside an item.</section><section id=running-apps-page class=level3 data-number=6.4.7><h3 data-number=6.4.7><span class=header-section-number>6.4.7</span>
<a href=#toc:running-apps-page>Running Apps Page</a><a href=#running-apps-page class=anchor aria-hidden=true></a></h3><p>It is now possible to sort and filter processes in this tab. Also,
the three big buttons are replaced with an easy-to-use three dot menu.
Previously the memory usage was wrong which is fixed in this
version.</section><section id=built-in-toybox class=level3 data-number=6.4.8><h3 data-number=6.4.8><span class=header-section-number>6.4.8</span>
<a href=#toc:built-in-toybox>Built-in Toybox</a><a href=#built-in-toybox class=anchor aria-hidden=true></a></h3><p>Toybox (an alternative to busybox) is bundled with AM. Although
Android has this utility built-in from API 23, toybox is bundled in
order to prevent buggy implementations and to support API &lt; 23.</section><section id=component-blocker-improvements class=level3 data-number=6.4.9><h3 data-number=6.4.9><span class=header-section-number>6.4.9</span>
<a href=#toc:component-blocker-improvements>Component Blocker
Improvements</a><a href=#component-blocker-improvements class=anchor aria-hidden=true></a></h3><p>Component blocker seemed to be problematic in the previous version,
especially when global component blocking is enabled. The issues are
mostly fixed now.<div class="amalert warning"><p><strong><em>Caution.</em></strong><p>The component blocking mechanism is no longer compatible with v2.5.6
due to various security issues. If you have this version, upgrade to
v2.5.13 or earlier versions first. After that, enable <a href=#subsubsec:instant-component-blocking>global component
blocking</a> and disable it again.</div></section><section id=improvements-in-the-app-details-page class=level3 data-number=6.4.10><h3 data-number=6.4.10><span class=header-section-number>6.4.10</span> <a href=#toc:improvements-in-the-app-details-page>Improvements in the App
Details Page</a><a href=#improvements-in-the-app-details-page class=anchor aria-hidden=true></a></h3><p>Value of various app ops depend on their parent app ops. Therefore,
when you allow/deny an app op, the parent of the app op gets modified.
This fixes the issues some users have been complaining regarding some
app ops that couldn’t be changed.<p>If an app has the target API 23 or less, its permissions cannot be
modified using the <code>pm grant …</code> command. Therefore, for such
apps, option to toggle permission has been disabled.<p>The signature tab is improved to support localization. It also
displays multiple checksums for a signature.</section><section id=app-manifest class=level3 data-number=6.4.11><h3 data-number=6.4.11><span class=header-section-number>6.4.11</span> <a href=#toc:app-manifest>App Manifest</a><a href=#app-manifest class=anchor aria-hidden=true></a></h3><p>Manifest no longer crashes if the size of the manifest is too long.
Generated manifest are now more accurate than before.</section></section><section id=v2.5.13-348 class=level2 data-number=6.5><h2 data-number=6.5><span class=header-section-number>6.5</span> <a href=#toc:v2.5.13-348>v2.5.13 (348)</a><a href=#v2.5.13-348 class=anchor aria-hidden=true></a></h2><section id=bundled-app-split-apk class=level3 data-number=6.5.1><h3 data-number=6.5.1><span class=header-section-number>6.5.1</span>
<a href=#toc:bundled-app-split-apk>Bundled App (Split APK)</a><a href=#bundled-app-split-apk class=anchor aria-hidden=true></a></h3><p>Bundled app formats such as <strong>apks</strong> and
<strong>xapk</strong> are now supported. You can install these apps
using the regular installation buttons. For root and adb users, apps are
installed using shell, and for non-root users, the platform default
method is used.<section id=known-limitations-2 class=level5 data-number=6.5.1.0.1><h5 data-number=6.5.1.0.1><span class=header-section-number>6.5.1.0.1</span> Known Limitations<a href=#known-limitations-2 class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Currently <em>all</em> splits apks are installed. But this
behaviour is going to change in the next release. If you only need a few
splits instead of all, extract the <strong>APKS</strong> or
<strong>XAPK</strong> file, and then, create a new zip file with your
desired split apks and replace the <strong>ZIP</strong> extension with
<strong>APKS</strong>. Now, open it with AM.<li><p>There is no progress dialog to display the installation
progress.</ul></section></section><section id=direct-install-support class=level3 data-number=6.5.2><h3 data-number=6.5.2><span class=header-section-number>6.5.2</span>
<a href=#toc:direct-install-support>Direct Install Support</a><a href=#direct-install-support class=anchor aria-hidden=true></a></h3><p>You can now install <strong>APK</strong>, <strong>APKS</strong> or
<strong>XAPK</strong> directly from your favourite browser or file
manager. For apps that need updates, a <strong>What’s New</strong>
dialog is displayed showing the changes in the new version.<section id=known-limitations-3 class=level5 data-number=6.5.2.0.1><h5 data-number=6.5.2.0.1><span class=header-section-number>6.5.2.0.1</span> Known Limitations<a href=#known-limitations-3 class=anchor aria-hidden=true></a></h5><ul class=incremental><li><p>Downgrade is not yet possible.<li><p>There is no progress dialog to display the installation progress.
If you cannot interact with the current page, wait until the
installation is finished.</ul></section></section><section id=remove-all-blocking-rules class=level3 data-number=6.5.3><h3 data-number=6.5.3><span class=header-section-number>6.5.3</span>
<a href=#toc:remove-all-blocking-rules>Remove All Blocking Rules</a><a href=#remove-all-blocking-rules class=anchor aria-hidden=true></a></h3><p>In the Settings page, a new option is added which can be used to
remove all blocking rules configured within App Manager.</section><section id=app-ops class=level3 data-number=6.5.4><h3 data-number=6.5.4><span class=header-section-number>6.5.4</span>
<a href=#toc:app-ops>App Ops</a><a href=#app-ops class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p>App Ops are now generated using a technique similar to AppOpsX.
This should decrease the loading time significantly in the App Ops
tab.<li><p>In the App Ops tab, a menu item is added which can be used to
list only active app ops without including the default app ops. The
preference is saved in the shared preferences.</ul><section id=known-limitation-2 class=level5 data-number=6.5.4.0.1><h5 data-number=6.5.4.0.1><span class=header-section-number>6.5.4.0.1</span> Known Limitation<a href=#known-limitation-2 class=anchor aria-hidden=true></a></h5><p>Often the App Ops tab may not be responsive. If that’s the case,
restart App Manager.</section></section><section id=enhanced-adb-support class=level3 data-number=6.5.5><h3 data-number=6.5.5><span class=header-section-number>6.5.5</span>
<a href=#toc:enhanced-adb-support>Enhanced ADB Support</a><a href=#enhanced-adb-support class=anchor aria-hidden=true></a></h3><p>ADB shell commands are now executed using a technique similar to
AppOpsX (This is the <em>free</em> alternative of AppOps by Rikka.).
This should dramatically increase the execution time.<section id=known-limitation-3 class=level5 data-number=6.5.5.0.1><h5 data-number=6.5.5.0.1><span class=header-section-number>6.5.5.0.1</span> Known Limitation<a href=#known-limitation-3 class=anchor aria-hidden=true></a></h5><p>AM can often crash or become not responsive. If that’s the case,
restart App Manager.</section></section><section id=filtering-in-main-page class=level3 data-number=6.5.6><h3 data-number=6.5.6><span class=header-section-number>6.5.6</span>
<a href=#toc:filtering-in-main-page>Filtering in Main Page</a><a href=#filtering-in-main-page class=anchor aria-hidden=true></a></h3><p>Add an option to filter apps that has at least one activity.</section><section id=apk-backupsharing class=level3 data-number=6.5.7><h3 data-number=6.5.7><span class=header-section-number>6.5.7</span>
<a href=#toc:apk-backupsharing>Apk Backup/Sharing</a><a href=#apk-backupsharing class=anchor aria-hidden=true></a></h3><p>Apk files are now saved as <code>app name_version.extension</code>
instead of <code>package.name.extension</code>.</section><section id=batch-ops class=level3 data-number=6.5.8><h3 data-number=6.5.8><span class=header-section-number>6.5.8</span>
<a href=#toc:batch-ops>Batch Ops</a><a href=#batch-ops class=anchor aria-hidden=true></a></h3><ul class=incremental><li><p>Added a foreground service to run batch operations. The result of
the operation is displayed in a notification. If an operation has failed
for some packages, clicking on the notification will open a dialog box
listing the failed packages. There is also a <strong>Try Again</strong>
button on the bottom which can be used to perform the operation again
for the failed packages.<li><p>Replaced Linux <em>kill</em> with
<strong>force-stop</strong>.</ul></section><section id=translations class=level3 data-number=6.5.9><h3 data-number=6.5.9><span class=header-section-number>6.5.9</span>
<a href=#toc:translations>Translations</a><a href=#translations class=anchor aria-hidden=true></a></h3><p>Added German and Portuguese (Brazilian) translations.<section id=known-limitation-4 class=level5 data-number=6.5.9.0.1><h5 data-number=6.5.9.0.1><span class=header-section-number>6.5.9.0.1</span> Known Limitation<a href=#known-limitation-4 class=anchor aria-hidden=true></a></h5><p>Not all translations are verified yet.</section></section><section id=app-data-backup class=level3 data-number=6.5.10><h3 data-number=6.5.10><span class=header-section-number>6.5.10</span> <a href=#toc:app-data-backup>App Data Backup</a><a href=#app-data-backup class=anchor aria-hidden=true></a></h3><p>Install app only for the current user at the time of restoring
backups. Support for split apks is also added.<p><em>Data backup feature is now considered unstable. If you encounter
any problem, please report to me without hesitation.</em></section></section></section><section id=ch:app-ops class=level1 data-number=7><h1 data-number=7><span class=header-section-number>7</span> <a href=#toc:ch:app-ops>App Ops</a><a href=#ch:app-ops class=anchor aria-hidden=true></a></h1><section id=sec:app-ops-background class=level2 data-number=7.1><h2 data-number=7.1><span class=header-section-number>7.1</span> <a href=#toc:sec:app-ops-background>Background</a><a href=#sec:app-ops-background class=anchor aria-hidden=true></a></h2><p><strong>App Ops</strong> (short hand for <strong>Application
Operations</strong>) are used by Android system (since Android 4.3) to
control application permissions. The user <em>can</em> control some
permissions, but only the permissions that are considered dangerous (and
Google thinks knowing your phone number isn’t a dangerous thing). So,
app ops seems to be the one we need if we want to install apps like
Facebook and it’s Messenger (the latter literary records everything if
you live outside the EU) and still want <em>some</em> privacy and/or
security. Although certain features of app ops were available in
Settings and later in hidden settings in older version of Android, it’s
completely hidden in newer versions of Android and is continued to be
kept hidden. Now, any app with
<strong>android.Manifest.permission.GET_APP_OPS_STATS</strong>
permission can get the app ops information for other applications but
this permission is hidden from users and can only be enabled using ADB
or root. Still, the app with this permission cannot grant or revoke
permissions (actually mode of operation) for apps other than itself
(with limited capacity, of course). To modify the ops of other app, the
app needs
<strong>android.Manifest.permission.UPDATE_APP_OPS_STATS</strong>
permissions which isn’t accessible via <code>pm</code> command. So, you
cannot grant it via root or ADB, the permission is only granted to the
system apps. There are very few apps who support disabling permissions
via app ops. The best one to my knowledge is <a href=https://github.com/8enet/AppOpsX>AppOpsX</a>. The main (visible)
difference between my app (AppManager) and this app is that the latter
also provides you the ability to revoke internet permissions (by writing
ip tables). One crucial problem that I faced during the development of
the app ops API is the lack of documentation in English language.</section><section id=sec:introduction-to-app-ops class=level2 data-number=7.2><h2 data-number=7.2><span class=header-section-number>7.2</span> <a href=#toc:sec:introduction-to-app-ops>Introduction to App Ops</a><a href=#sec:introduction-to-app-ops class=anchor aria-hidden=true></a></h2><p><figure><object data=../images/appops.svg type=image/svg+xml id=fig:appops></object></figure><p>Figure <a href=#fig:appops>1</a> describes the process of changing
and processing permission. <a href=#sec:appopsmanager>AppOpsManager</a> can be used to manage
permissions in Settings app. <strong>AppOpsManager</strong> is also
useful in determining if a certain permission (or operation) is granted
to the application. Most of the methods of
<strong>AppOpsManager</strong> are accessible to the user app but unlike
a system app, it can only be used to check permissions for any app or
for the app itself and start or terminating certain operations.
Moreover, not all operations are actually accessible from this Java
class. <strong>AppOpsManager</strong> holds all the necessary constants
such as <a href=#subsec:op-constants><code>OP_*</code></a>,
<code>OPSTR_*</code>, <a href=#subsec:mode-constants><code>MODE_*</code></a> which describes
operation code, operation string and mode of operations respectively. It
also holds necessary data structures such as <a href=#subsec:package-ops>PackageOps</a> and <strong>OpEntry</strong>.
<strong>PackageOps</strong> holds <strong>OpEntry</strong> for a
package, and <strong>OpEntry</strong>, as the name suggests, describes
each operation.<p><code>AppOpService</code> is completely hidden from a user
application but accessible to the system applications. As it can be seen
in Figure <a href=#fig:appops>1</a>, this is the class that does the
actual management stuff. It contains data structures such as
<strong>Ops</strong> to store basic package info and <strong>Op</strong>
which is similar to <strong>OpEntry</strong> of
<strong>AppOpsManager</strong>. It also has <strong>Shell</strong> which
is actually the source code of the <a href=#sec:appops-cli><em>appops</em> command line tool</a>. It writes
configurations to or read configurations from <a href=#sec:appops-xml><code>/data/system/appops.xml</code></a>. System
services calls <strong>AppOpsService</strong> to find out what an
application is allowed and what is not allowed to perform, and
<strong>AppOpsService</strong> determines these permissions by parsing
<code>/data/system/appops.xml</code>. If no custom values are present in
<em>appops.xml</em>, it returns the default mode available in
<strong>AppOpsManager</strong>.</section><section id=sec:appopsmanager class=level2 data-number=7.3><h2 data-number=7.3><span class=header-section-number>7.3</span> <a href=#toc:sec:appopsmanager>AppOpsManager</a><a href=#sec:appopsmanager class=anchor aria-hidden=true></a></h2><p><a href=https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/AppOpsManager.java>AppOpsManager</a>
stands for application operations manager. It consists of various
constants and classes to modify app operations.<div class=seealso-inline><p><em>See also: <span><a href=https://developer.android.com/reference/android/app/AppOpsManager>AppOpsManager
documentation</a></span></em></div><section id=subsec:op-constants class=level3 data-number=7.3.1><h3 data-number=7.3.1><span class=header-section-number>7.3.1</span>
<a href=#toc:subsec:op-constants><code>OP_*</code> Constants</a><a href=#subsec:op-constants class=anchor aria-hidden=true></a></h3><p><code>OP_*</code> are the integer constants starting from
<code>0</code>. <code>OP_NONE</code> implies that no operations are
specified whereas <code>_NUM_OP</code> denotes the number of operations
defined in <code>OP_*</code> prefix. While they denote each operation,
the operations are not necessarily unique. In fact, there are many
operations that are actually a single operation denoted by multiple
<code>OP_*</code> constant (possibly for future use). Vendors may define
their own op based on their requirements. MIUI is one of the vendors who
are known to do that.<div class=listing><div class=sourceCode id=cb9 data-frame=lines><pre class="sourceCode java"><code class="sourceCode java"><span id=cb9-1><a href=#cb9-1 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_NONE <span class=op>=</span> <span class=op>-</span><span class=dv>1</span><span class=op>;</span></span>
<span id=cb9-2><a href=#cb9-2 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_COARSE_LOCATION <span class=op>=</span> <span class=dv>0</span><span class=op>;</span></span>
<span id=cb9-3><a href=#cb9-3 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_FINE_LOCATION <span class=op>=</span> <span class=dv>1</span><span class=op>;</span></span>
<span id=cb9-4><a href=#cb9-4 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_GPS <span class=op>=</span> <span class=dv>2</span><span class=op>;</span></span>
<span id=cb9-5><a href=#cb9-5 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_VIBRATE <span class=op>=</span> <span class=dv>3</span><span class=op>;</span></span>
<span id=cb9-6><a href=#cb9-6 aria-hidden=true tabindex=-1></a><span class=kw>...</span></span>
<span id=cb9-7><a href=#cb9-7 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_READ_DEVICE_IDENTIFIERS <span class=op>=</span> <span class=dv>89</span><span class=op>;</span></span>
<span id=cb9-8><a href=#cb9-8 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_ACCESS_MEDIA_LOCATION <span class=op>=</span> <span class=dv>90</span><span class=op>;</span></span>
<span id=cb9-9><a href=#cb9-9 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> OP_ACTIVATE_PLATFORM_VPN <span class=op>=</span> <span class=dv>91</span><span class=op>;</span></span>
<span id=cb9-10><a href=#cb9-10 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=dt>int</span> _NUM_OP <span class=op>=</span> <span class=dv>92</span><span class=op>;</span></span></code></pre></div></div><p>Whether an operation is unique is defined by
<code>sOpToSwitch</code>. It maps each operation to another operation or
to itself (if it’s a unique operation). For instance,
<code>OP_FINE_LOCATION</code> and <code>OP_GPS</code> are mapped to
<code>OP_COARSE_LOCATION</code>.<p>Each operation has a private name which are described by
<code>sOpNames</code>. These names are usually the same names as the
constants without the <code>OP_</code> prefix. Some operations have
public names as well which are described by <code>sOpToString</code>.
For instance, <code>OP_COARSE_LOCATION</code> has the public name
<strong>android:coarse_location</strong>.<p>As a gradual process of moving permissions to app ops, there are
already many permissions that are defined under some operations. These
permissions are mapped in <code>sOpPerms</code>. For example, the
permission
<strong>android.Manifest.permission.ACCESS_COARSE_LOCATION</strong> is
mapped to <code>OP_COARSE_LOCATION</code>. Some operations may not have
any associated permissions which have <code>null</code> values.<p>As described in the previous section, operations that are configured
for an app are stored at <a href=#sec:appops-xml><code>/data/system/appops.xml</code></a>. If an
operation is not configured, then whether system will allow that
operation is determined from <code>sOpDefaultMode</code>. It lists the
<em>default mode</em> for each operation.</section><section id=subsec:mode-constants class=level3 data-number=7.3.2><h3 data-number=7.3.2><span class=header-section-number>7.3.2</span>
<a href=#toc:subsec:mode-constants><code>MODE_*</code> Constants</a><a href=#subsec:mode-constants class=anchor aria-hidden=true></a></h3><p><code>MODE_*</code> constants also integer constants starting from
<code>0</code>. These constants are assigned to each operation
describing whether an app is authorised to perform that operation. These
modes usually have associated names such as <strong>allow</strong> for
<code>MODE_ALLOWED</code>, <strong>ignore</strong> for
<code>MODE_IGNORED</code>, <strong>deny</strong> for
<code>MODE_ERRORED</code> (a rather misnomer), <strong>default</strong>
for <code>MODE_DEFAULT</code> and <strong>foreground</strong> for
<code>MODE_FOREGROUND</code>.<ol class=incremental><li><p><strong><code>MODE_ALLOWED</code>.</strong> The app is allowed to
perform the given operation<li><p><strong><code>MODE_IGNORED</code>.</strong> The app is not
allowed to perform the given operation, and any attempt to perform the
operation should <em>silently fail</em>, i.e. it should not cause the
app to crash<li><p><strong><code>MODE_ERRORED</code>.</strong> The app is not
allowed to perform the given operation, and this attempt should cause it
to have a fatal error, typically a
<code>SecurityException</code><li><p><strong><code>MODE_DEFAULT</code>.</strong> The app should use
its default security check, specified in
<code>AppOpsManager</code><li><p><strong><code>MODE_FOREGROUND</code>.</strong> Special mode that
means “allow only when app is in foreground.” This mode was added in
Android 10<li><p><strong><code>MODE_ASK</code>.</strong> This is a custom mode
used by MIUI whose uses are unknown.</ol></section><section id=subsec:package-ops class=level3 data-number=7.3.3><h3 data-number=7.3.3><span class=header-section-number>7.3.3</span>
<a href=#toc:subsec:package-ops>PackageOps</a><a href=#subsec:package-ops class=anchor aria-hidden=true></a></h3><p><strong>AppOpsManager.PackageOps</strong> is a data structure to
store all the <strong>OpEntry</strong> for a package. In simple terms,
it stores all the customised operations for a package.<div class=listing><div class=sourceCode id=cb10 data-frame=lines><pre class="sourceCode java"><code class="sourceCode java"><span id=cb10-1><a href=#cb10-1 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=kw>class</span> PackageOps <span class=kw>implements</span> Parcelable <span class=op>{</span></span>
<span id=cb10-2><a href=#cb10-2 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=bu>String</span> mPackageName<span class=op>;</span></span>
<span id=cb10-3><a href=#cb10-3 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=dt>int</span> mUid<span class=op>;</span></span>
<span id=cb10-4><a href=#cb10-4 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=bu>List</span><span class=op>&lt;</span>OpEntry<span class=op>&gt;</span> mEntries<span class=op>;</span></span>
<span id=cb10-5><a href=#cb10-5 aria-hidden=true tabindex=-1></a>    <span class=kw>...</span></span>
<span id=cb10-6><a href=#cb10-6 aria-hidden=true tabindex=-1></a><span class=op>}</span></span></code></pre></div></div><p>As can be seen in Listing <a href=#cb12>2</a>, it stores all
<strong>OpEntry</strong> for a package as well as the corresponding
package name and its kernel user ID.</section><section id=subsec:opentry class=level3 data-number=7.3.4><h3 data-number=7.3.4><span class=header-section-number>7.3.4</span>
<a href=#toc:subsec:opentry>OpEntry</a><a href=#subsec:opentry class=anchor aria-hidden=true></a></h3><p><strong>AppOpsManager.OpEntry</strong> is a data structure that
stores a single operation for any package.<div class=listing><div class=sourceCode id=cb11 data-frame=lines><pre class="sourceCode java"><code class="sourceCode java"><span id=cb11-1><a href=#cb11-1 aria-hidden=true tabindex=-1></a><span class=kw>public</span> <span class=dt>static</span> <span class=dt>final</span> <span class=kw>class</span> OpEntry <span class=kw>implements</span> Parcelable <span class=op>{</span></span>
<span id=cb11-2><a href=#cb11-2 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=dt>int</span> mOp<span class=op>;</span></span>
<span id=cb11-3><a href=#cb11-3 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=dt>boolean</span> mRunning<span class=op>;</span></span>
<span id=cb11-4><a href=#cb11-4 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Mode</span> <span class=dt>int</span> mMode<span class=op>;</span></span>
<span id=cb11-5><a href=#cb11-5 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mAccessTimes<span class=op>;</span></span>
<span id=cb11-6><a href=#cb11-6 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mRejectTimes<span class=op>;</span></span>
<span id=cb11-7><a href=#cb11-7 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mDurations<span class=op>;</span></span>
<span id=cb11-8><a href=#cb11-8 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseLongArray mProxyUids<span class=op>;</span></span>
<span id=cb11-9><a href=#cb11-9 aria-hidden=true tabindex=-1></a>    <span class=kw>private</span> <span class=dt>final</span> <span class=at>@Nullable</span> LongSparseArray<span class=op>&lt;</span><span class=bu>String</span><span class=op>&gt;</span> mProxyPackageNames<span class=op>;</span></span>
<span id=cb11-10><a href=#cb11-10 aria-hidden=true tabindex=-1></a>    <span class=kw>...</span></span>
<span id=cb11-11><a href=#cb11-11 aria-hidden=true tabindex=-1></a><span class=op>}</span></span></code></pre></div></div><p>Here:<ul class=incremental><li><p><code>mOp</code>: Denotes one of the <a href=#subsec:op-constants><code>OP_*</code> constants</a><li><p><code>mRunning</code>: Whether the operation is in progress
(i.e. the operation has started but not finished yet). Not all
operations can be started or finished this way<li><p><code>mMOde</code>: One of the <a href=#subsec:mode-constants><code>MODE_*</code> constants</a><li><p><code>mAccessTimes</code>: Stores all the available access
times<li><p><code>mRejectTimes</code>: Stores all the available reject
times<li><p><code>mDurations</code>: All available access durations, checking
this with <code>mRunning</code> will tell you for how long the app is
performing a certain app operation<li><p><code>mProxyUids</code>: No documentation found<li><p><code>mProxyPackageNames:</code> No documentation found</ul></section><section id=subsec:usage class=level3 data-number=7.3.5><h3 data-number=7.3.5><span class=header-section-number>7.3.5</span>
<a href=#toc:subsec:usage>Usage</a><a href=#subsec:usage class=anchor aria-hidden=true></a></h3><p>TODO</section></section><section id=sec:appopsservice class=level2 data-number=7.4><h2 data-number=7.4><span class=header-section-number>7.4</span> <a href=#toc:sec:appopsservice>AppOpsService</a><a href=#sec:appopsservice class=anchor aria-hidden=true></a></h2><p>TODO</section><section id=sec:appops-xml class=level2 data-number=7.5><h2 data-number=7.5><span class=header-section-number>7.5</span> <a href=#toc:sec:appops-xml>appops.xml</a><a href=#sec:appops-xml class=anchor aria-hidden=true></a></h2><p>Latest <code>appops.xml</code> has the following format: (This DTD is
made by me and by no means perfect, has compatibility issues.)<pre><code>&lt;!DOCTYPE app-ops [

&lt;!ELEMENT app-ops (uid|pkg)*&gt;
&lt;!ATTLIST app-ops v CDATA #IMPLIED&gt;

&lt;!ELEMENT uid (op)*&gt;
&lt;!ATTLIST uid n CDATA #REQUIRED&gt;

&lt;!ELEMENT pkg (uid)*&gt;
&lt;!ATTLIST pkg n CDATA #REQUIRED&gt;

&lt;!ELEMENT uid (op)*&gt;
&lt;!ATTLIST uid
n CDATA #REQUIRED
p CDATA #IMPLIED&gt;

&lt;!ELEMENT op (st)*&gt;
&lt;!ATTLIST op
n CDATA #REQUIRED
m CDATA #REQUIRED&gt;

&lt;!ELEMENT st EMPTY&gt;
&lt;!ATTLIST st
n CDATA #REQUIRED
t CDATA #IMPLIED
r CDATA #IMPLIED
d CDATA #IMPLIED
pp CDATA #IMPLIED
pu CDATA #IMPLIED&gt;

]&gt;</code></pre><p>The instruction below follows the exact order given above:<ul class=incremental><li><p><code>app-ops</code>: The root element. It can contain any number
of <code>pkg</code> or package <code>uid</code><ul class=incremental><li><p><code>v</code>: (optional, integer) The version number (default:
<code>NO_VERSION</code> or <code>-1</code>)</ul><li><p><code>pkg</code>: Stores package info. It can contain any number
of <code>uid</code><ul class=incremental><li><p><code>n</code>: (required, string) Name of the package</ul><li><p>Package <code>uid</code>: Stores package or packages info<ul class=incremental><li><p><code>n</code>: (required, integer) The user ID</ul><li><p><code>uid</code>: The package user ID. It can contain any number
of <code>op</code><ul class=incremental><li><p><code>n</code>: (required, integer) The user ID<li><p><code>p</code>: (optional, boolean) Is the app is a
private/system app</ul><li><p><code>op</code>: The operation, can contain <code>st</code> or
nothing at all<ul class=incremental><li><p><code>n</code>: (required, integer) The op name in integer,
i.e. AppOpsManager.OP_*<li><p><code>m</code>: (required, integer) The op mode,
i.e. AppOpsManager.MODE_*</ul><li><p><code>st</code>: State of operation: whether the operation is
accessed, rejected or running (not available on old versions)<ul class=incremental><li><p><code>n</code>: (required, long) Key containing flags and
uid<li><p><code>t</code>: (optional, long) Access time (default:
<code>0</code>)<li><p><code>r</code>: (optional, long) Reject time (default:
<code>0</code>)<li><p><code>d</code>: (optional, long) Access duration (default:
<code>0</code>)<li><p><code>pp</code>: (optional, string) Proxy package name<li><p><code>pu</code>: (optional, integer) Proxy package uid</ul></ul><p>This definition can be found at <a href=https://android.googlesource.com/platform/frameworks/base/+/master/services/core/java/com/android/server/appop/AppOpsService.java>AppOpsService</a>.</section><section id=sec:appops-cli class=level2 data-number=7.6><h2 data-number=7.6><span class=header-section-number>7.6</span> <a href=#toc:sec:appops-cli>Command Line Interface</a><a href=#sec:appops-cli class=anchor aria-hidden=true></a></h2><p><code>appops</code> or <code>cmd appops</code> (on latest versions)
can be accessible via ADB or root. This is an easier method to get or
update any operation for a package (provided the package name is known).
The help page of this command is self-explanatory:<pre><code>AppOps service (appops) commands:
help
Print this help text.
start [--user &lt;USER_ID&gt;] &lt;PACKAGE | UID&gt; &lt;OP&gt;
Starts a given operation for a particular application.
stop [--user &lt;USER_ID&gt;] &lt;PACKAGE | UID&gt; &lt;OP&gt;
Stops a given operation for a particular application.
set [--user &lt;USER_ID&gt;] &lt;[--uid] PACKAGE | UID&gt; &lt;OP&gt; &lt;MODE&gt;
Set the mode for a particular application and operation.
get [--user &lt;USER_ID&gt;] &lt;PACKAGE | UID&gt; [&lt;OP&gt;]
Return the mode for a particular application and optional operation.
query-op [--user &lt;USER_ID&gt;] &lt;OP&gt; [&lt;MODE&gt;]
Print all packages that currently have the given op in the given mode.
reset [--user &lt;USER_ID&gt;] [&lt;PACKAGE&gt;]
Reset the given application or all applications to default modes.
write-settings
Immediately write pending changes to storage.
read-settings
Read the last written settings, replacing current state in RAM.
options:
&lt;PACKAGE&gt; an Android package name or its UID if prefixed by --uid
&lt;OP&gt;      an AppOps operation.
&lt;MODE&gt;    one of allow, ignore, deny, or default
&lt;USER_ID&gt; the user id under which the package is installed. If --user is not
specified, the current user is assumed.</code></pre></section></section><section class="footnotes footnotes-end-of-document" role=doc-endnotes><hr><ol><li id=fn1 role=doc-endnote><p>For distributing normal releases
only<a href=#fnref1 class=footnote-back role=doc-backlink>↩︎</a><li id=fn2 role=doc-endnote><p>GitHub 的 PR 將使用 git patch
進行手動合並, 因此, GitHub 可能會錯誤地將它們標記為closed而不是merged.<a href=#fnref2 class=footnote-back role=doc-backlink>↩︎</a><li id=fn3 role=doc-endnote><p>可稱“Muntashir Akon”<a href=#fnref3 class=footnote-back role=doc-backlink>↩︎</a></ol></section>